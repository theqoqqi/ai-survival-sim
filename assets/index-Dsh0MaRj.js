var _0=Object.defineProperty;var w0=(r,a,s)=>a in r?_0(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s;var Z=(r,a,s)=>w0(r,typeof a!="symbol"?a+"":a,s);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(u){if(u.ep)return;u.ep=!0;const f=s(u);fetch(u.href,f)}})();function vg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cc={exports:{}},xi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function x0(){if(hp)return xi;hp=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var m in u)m!=="key"&&(f[m]=u[m])}else f=u;return u=f.ref,{$$typeof:r,type:i,key:d,ref:u!==void 0?u:null,props:f}}return xi.Fragment=a,xi.jsx=s,xi.jsxs=s,xi}var mp;function A0(){return mp||(mp=1,cc.exports=x0()),cc.exports}var x=A0(),fc={exports:{}},Ai={},dc={exports:{}},hc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function T0(){return pp||(pp=1,function(r){function a(L,$){var ee=L.length;L.push($);e:for(;0<ee;){var Ae=ee-1>>>1,_=L[Ae];if(0<u(_,$))L[Ae]=$,L[ee]=_,ee=Ae;else break e}}function s(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var $=L[0],ee=L.pop();if(ee!==$){L[0]=ee;e:for(var Ae=0,_=L.length,j=_>>>1;Ae<j;){var X=2*(Ae+1)-1,Y=L[X],te=X+1,_e=L[te];if(0>u(Y,ee))te<_&&0>u(_e,Y)?(L[Ae]=_e,L[te]=ee,Ae=te):(L[Ae]=Y,L[X]=ee,Ae=X);else if(te<_&&0>u(_e,ee))L[Ae]=_e,L[te]=ee,Ae=te;else break e}}return $}function u(L,$){var ee=L.sortIndex-$.sortIndex;return ee!==0?ee:L.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var y=[],p=[],b=1,S=null,O=3,T=!1,C=!1,V=!1,B=!1,ue=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function G(L){for(var $=s(p);$!==null;){if($.callback===null)i(p);else if($.startTime<=L)i(p),$.sortIndex=$.expirationTime,a(y,$);else break;$=s(p)}}function J(L){if(V=!1,G(L),!C)if(s(y)!==null)C=!0,ae||(ae=!0,Ue());else{var $=s(p);$!==null&&He(J,$.startTime-L)}}var ae=!1,Q=-1,ce=5,F=-1;function W(){return B?!0:!(r.unstable_now()-F<ce)}function le(){if(B=!1,ae){var L=r.unstable_now();F=L;var $=!0;try{e:{C=!1,V&&(V=!1,H(Q),Q=-1),T=!0;var ee=O;try{t:{for(G(L),S=s(y);S!==null&&!(S.expirationTime>L&&W());){var Ae=S.callback;if(typeof Ae=="function"){S.callback=null,O=S.priorityLevel;var _=Ae(S.expirationTime<=L);if(L=r.unstable_now(),typeof _=="function"){S.callback=_,G(L),$=!0;break t}S===s(y)&&i(y),G(L)}else i(y);S=s(y)}if(S!==null)$=!0;else{var j=s(p);j!==null&&He(J,j.startTime-L),$=!1}}break e}finally{S=null,O=ee,T=!1}$=void 0}}finally{$?Ue():ae=!1}}}var Ue;if(typeof k=="function")Ue=function(){k(le)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,$e=Be.port2;Be.port1.onmessage=le,Ue=function(){$e.postMessage(null)}}else Ue=function(){ue(le,0)};function He(L,$){Q=ue(function(){L(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(L){switch(O){case 1:case 2:case 3:var $=3;break;default:$=O}var ee=O;O=$;try{return L()}finally{O=ee}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=O;O=L;try{return $()}finally{O=ee}},r.unstable_scheduleCallback=function(L,$,ee){var Ae=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ae+ee:Ae):ee=Ae,L){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=ee+_,L={id:b++,callback:$,priorityLevel:L,startTime:ee,expirationTime:_,sortIndex:-1},ee>Ae?(L.sortIndex=ee,a(p,L),s(y)===null&&L===s(p)&&(V?(H(Q),Q=-1):V=!0,He(J,ee-Ae))):(L.sortIndex=_,a(y,L),C||T||(C=!0,ae||(ae=!0,Ue()))),L},r.unstable_shouldYield=W,r.unstable_wrapCallback=function(L){var $=O;return function(){var ee=O;O=$;try{return L.apply(this,arguments)}finally{O=ee}}}}(hc)),hc}var gp;function E0(){return gp||(gp=1,dc.exports=T0()),dc.exports}var mc={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function O0(){if(yp)return pe;yp=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.iterator;function O(_){return _===null||typeof _!="object"?null:(_=S&&_[S]||_["@@iterator"],typeof _=="function"?_:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,V={};function B(_,j,X){this.props=_,this.context=j,this.refs=V,this.updater=X||T}B.prototype.isReactComponent={},B.prototype.setState=function(_,j){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,j,"setState")},B.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function ue(){}ue.prototype=B.prototype;function H(_,j,X){this.props=_,this.context=j,this.refs=V,this.updater=X||T}var k=H.prototype=new ue;k.constructor=H,C(k,B.prototype),k.isPureReactComponent=!0;var G=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function Q(_,j,X,Y,te,_e){return X=_e.ref,{$$typeof:r,type:_,key:j,ref:X!==void 0?X:null,props:_e}}function ce(_,j){return Q(_.type,j,void 0,void 0,void 0,_.props)}function F(_){return typeof _=="object"&&_!==null&&_.$$typeof===r}function W(_){var j={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(X){return j[X]})}var le=/\/+/g;function Ue(_,j){return typeof _=="object"&&_!==null&&_.key!=null?W(""+_.key):j.toString(36)}function Be(){}function $e(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(Be,Be):(_.status="pending",_.then(function(j){_.status==="pending"&&(_.status="fulfilled",_.value=j)},function(j){_.status==="pending"&&(_.status="rejected",_.reason=j)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function He(_,j,X,Y,te){var _e=typeof _;(_e==="undefined"||_e==="boolean")&&(_=null);var me=!1;if(_===null)me=!0;else switch(_e){case"bigint":case"string":case"number":me=!0;break;case"object":switch(_.$$typeof){case r:case a:me=!0;break;case b:return me=_._init,He(me(_._payload),j,X,Y,te)}}if(me)return te=te(_),me=Y===""?"."+Ue(_,0):Y,G(te)?(X="",me!=null&&(X=me.replace(le,"$&/")+"/"),He(te,j,X,"",function(Nn){return Nn})):te!=null&&(F(te)&&(te=ce(te,X+(te.key==null||_&&_.key===te.key?"":(""+te.key).replace(le,"$&/")+"/")+me)),j.push(te)),1;me=0;var wt=Y===""?".":Y+":";if(G(_))for(var ze=0;ze<_.length;ze++)Y=_[ze],_e=wt+Ue(Y,ze),me+=He(Y,j,X,_e,te);else if(ze=O(_),typeof ze=="function")for(_=ze.call(_),ze=0;!(Y=_.next()).done;)Y=Y.value,_e=wt+Ue(Y,ze++),me+=He(Y,j,X,_e,te);else if(_e==="object"){if(typeof _.then=="function")return He($e(_),j,X,Y,te);throw j=String(_),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return me}function L(_,j,X){if(_==null)return _;var Y=[],te=0;return He(_,Y,"","",function(_e){return j.call(X,_e,te++)}),Y}function $(_){if(_._status===-1){var j=_._result;j=j(),j.then(function(X){(_._status===0||_._status===-1)&&(_._status=1,_._result=X)},function(X){(_._status===0||_._status===-1)&&(_._status=2,_._result=X)}),_._status===-1&&(_._status=0,_._result=j)}if(_._status===1)return _._result.default;throw _._result}var ee=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function Ae(){}return pe.Children={map:L,forEach:function(_,j,X){L(_,function(){j.apply(this,arguments)},X)},count:function(_){var j=0;return L(_,function(){j++}),j},toArray:function(_){return L(_,function(j){return j})||[]},only:function(_){if(!F(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},pe.Component=B,pe.Fragment=s,pe.Profiler=u,pe.PureComponent=H,pe.StrictMode=i,pe.Suspense=y,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,pe.__COMPILER_RUNTIME={__proto__:null,c:function(_){return J.H.useMemoCache(_)}},pe.cache=function(_){return function(){return _.apply(null,arguments)}},pe.cloneElement=function(_,j,X){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Y=C({},_.props),te=_.key,_e=void 0;if(j!=null)for(me in j.ref!==void 0&&(_e=void 0),j.key!==void 0&&(te=""+j.key),j)!ae.call(j,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&j.ref===void 0||(Y[me]=j[me]);var me=arguments.length-2;if(me===1)Y.children=X;else if(1<me){for(var wt=Array(me),ze=0;ze<me;ze++)wt[ze]=arguments[ze+2];Y.children=wt}return Q(_.type,te,void 0,void 0,_e,Y)},pe.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:f,_context:_},_},pe.createElement=function(_,j,X){var Y,te={},_e=null;if(j!=null)for(Y in j.key!==void 0&&(_e=""+j.key),j)ae.call(j,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(te[Y]=j[Y]);var me=arguments.length-2;if(me===1)te.children=X;else if(1<me){for(var wt=Array(me),ze=0;ze<me;ze++)wt[ze]=arguments[ze+2];te.children=wt}if(_&&_.defaultProps)for(Y in me=_.defaultProps,me)te[Y]===void 0&&(te[Y]=me[Y]);return Q(_,_e,void 0,void 0,null,te)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(_){return{$$typeof:m,render:_}},pe.isValidElement=F,pe.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:$}},pe.memo=function(_,j){return{$$typeof:p,type:_,compare:j===void 0?null:j}},pe.startTransition=function(_){var j=J.T,X={};J.T=X;try{var Y=_(),te=J.S;te!==null&&te(X,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Ae,ee)}catch(_e){ee(_e)}finally{J.T=j}},pe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},pe.use=function(_){return J.H.use(_)},pe.useActionState=function(_,j,X){return J.H.useActionState(_,j,X)},pe.useCallback=function(_,j){return J.H.useCallback(_,j)},pe.useContext=function(_){return J.H.useContext(_)},pe.useDebugValue=function(){},pe.useDeferredValue=function(_,j){return J.H.useDeferredValue(_,j)},pe.useEffect=function(_,j,X){var Y=J.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(_,j)},pe.useId=function(){return J.H.useId()},pe.useImperativeHandle=function(_,j,X){return J.H.useImperativeHandle(_,j,X)},pe.useInsertionEffect=function(_,j){return J.H.useInsertionEffect(_,j)},pe.useLayoutEffect=function(_,j){return J.H.useLayoutEffect(_,j)},pe.useMemo=function(_,j){return J.H.useMemo(_,j)},pe.useOptimistic=function(_,j){return J.H.useOptimistic(_,j)},pe.useReducer=function(_,j,X){return J.H.useReducer(_,j,X)},pe.useRef=function(_){return J.H.useRef(_)},pe.useState=function(_){return J.H.useState(_)},pe.useSyncExternalStore=function(_,j,X){return J.H.useSyncExternalStore(_,j,X)},pe.useTransition=function(){return J.H.useTransition()},pe.version="19.1.0",pe}var vp;function Yc(){return vp||(vp=1,mc.exports=O0()),mc.exports}var pc={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function R0(){if(bp)return dt;bp=1;var r=Yc();function a(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,p,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:y,containerInfo:p,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dt.createPortal=function(y,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return f(y,p,null,b)},dt.flushSync=function(y){var p=d.T,b=i.p;try{if(d.T=null,i.p=2,y)return y()}finally{d.T=p,i.p=b,i.d.f()}},dt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(y,p))},dt.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},dt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var b=p.as,S=m(b,p.crossOrigin),O=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:T}):b==="script"&&i.d.X(y,{crossOrigin:S,integrity:O,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},dt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);i.d.M(y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(y)},dt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,S=m(b,p.crossOrigin);i.d.L(y,b,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},dt.preloadModule=function(y,p){if(typeof y=="string")if(p){var b=m(p.as,p.crossOrigin);i.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(y)},dt.requestFormReset=function(y){i.d.r(y)},dt.unstable_batchedUpdates=function(y,p){return y(p)},dt.useFormState=function(y,p,b){return d.H.useFormState(y,p,b)},dt.useFormStatus=function(){return d.H.useHostTransitionStatus()},dt.version="19.1.0",dt}var Sp;function N0(){if(Sp)return pc.exports;Sp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),pc.exports=R0(),pc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function M0(){if(_p)return Ai;_p=1;var r=E0(),a=Yc(),s=N0();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(i(188))}function y(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var o=n.return;if(o===null)break;var c=o.alternate;if(c===null){if(l=o.return,l!==null){n=l;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===n)return m(o),e;if(c===l)return m(o),t;c=c.sibling}throw Error(i(188))}if(n.return!==l.return)n=o,l=c;else{for(var h=!1,g=o.child;g;){if(g===n){h=!0,n=o,l=c;break}if(g===l){h=!0,l=o,n=c;break}g=g.sibling}if(!h){for(g=c.child;g;){if(g===n){h=!0,n=c,l=o;break}if(g===l){h=!0,l=c,n=o;break}g=g.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),k=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function Ue(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Symbol.for("react.client.reference");function $e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case B:return"Profiler";case V:return"StrictMode";case J:return"Suspense";case ae:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case k:return(e.displayName||"Context")+".Provider";case H:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:$e(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return $e(e(t))}catch{}}return null}var He=Array.isArray,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ae=[],_=-1;function j(e){return{current:e}}function X(e){0>_||(e.current=Ae[_],Ae[_]=null,_--)}function Y(e,t){_++,Ae[_]=e.current,e.current=t}var te=j(null),_e=j(null),me=j(null),wt=j(null);function ze(e,t){switch(Y(me,t),Y(_e,e),Y(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?km(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=km(t),e=Gm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(te),Y(te,e)}function Nn(){X(te),X(_e),X(me)}function Qr(e){e.memoizedState!==null&&Y(wt,e);var t=te.current,n=Gm(t,e.type);t!==n&&(Y(_e,e),Y(te,n))}function Qi(e){_e.current===e&&(X(te),X(_e)),wt.current===e&&(X(wt),vi._currentValue=ee)}var Kr=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,Fr=r.unstable_cancelCallback,Wy=r.unstable_shouldYield,ev=r.unstable_requestPaint,Pt=r.unstable_now,tv=r.unstable_getCurrentPriorityLevel,_f=r.unstable_ImmediatePriority,wf=r.unstable_UserBlockingPriority,Ki=r.unstable_NormalPriority,nv=r.unstable_LowPriority,xf=r.unstable_IdlePriority,av=r.log,sv=r.unstable_setDisableYieldValue,Es=null,xt=null;function Mn(e){if(typeof av=="function"&&sv(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Es,e)}catch{}}var At=Math.clz32?Math.clz32:rv,iv=Math.log,lv=Math.LN2;function rv(e){return e>>>=0,e===0?32:31-(iv(e)/lv|0)|0}var Zi=256,Fi=4194304;function sa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pi(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var g=l&134217727;return g!==0?(l=g&~c,l!==0?o=sa(l):(h&=g,h!==0?o=sa(h):n||(n=g&~e,n!==0&&(o=sa(n))))):(g=l&~c,g!==0?o=sa(g):h!==0?o=sa(h):n||(n=l&~e,n!==0&&(o=sa(n)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:o}function Os(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ov(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Af(){var e=Zi;return Zi<<=1,(Zi&4194048)===0&&(Zi=256),e}function Tf(){var e=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),e}function Pr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uv(e,t,n,l,o,c){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,v=e.expirationTimes,R=e.hiddenUpdates;for(n=h&~n;0<n;){var U=31-At(n),q=1<<U;g[U]=0,v[U]=-1;var N=R[U];if(N!==null)for(R[U]=null,U=0;U<N.length;U++){var M=N[U];M!==null&&(M.lane&=-536870913)}n&=~q}l!==0&&Ef(e,l,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function Ef(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-At(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&4194090}function Of(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-At(n),o=1<<l;o&t|e[l]&t&&(e[l]|=t),n&=~o}}function Wr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function eo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rf(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:rp(e.type))}function cv(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var Cn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Cn,yt="__reactProps$"+Cn,Ra="__reactContainer$"+Cn,to="__reactEvents$"+Cn,fv="__reactListeners$"+Cn,dv="__reactHandles$"+Cn,Nf="__reactResources$"+Cn,Ns="__reactMarker$"+Cn;function no(e){delete e[ct],delete e[yt],delete e[to],delete e[fv],delete e[dv]}function Na(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ra]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xm(e);e!==null;){if(n=e[ct])return n;e=Xm(e)}return t}e=n,n=e.parentNode}return null}function Ma(e){if(e=e[ct]||e[Ra]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ms(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ca(e){var t=e[Nf];return t||(t=e[Nf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Ns]=!0}var Mf=new Set,Cf={};function ia(e,t){Da(e,t),Da(e+"Capture",t)}function Da(e,t){for(Cf[e]=t,e=0;e<t.length;e++)Mf.add(t[e])}var hv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Df={},Lf={};function mv(e){return Kr.call(Lf,e)?!0:Kr.call(Df,e)?!1:hv.test(e)?Lf[e]=!0:(Df[e]=!0,!1)}function Wi(e,t,n){if(mv(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function el(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function fn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}var ao,Uf;function La(e){if(ao===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ao=t&&t[1]||"",Uf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ao+e+Uf}var so=!1;function io(e,t){if(!e||so)return"";so=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(M){var N=M}Reflect.construct(e,[],q)}else{try{q.call()}catch(M){N=M}e.call(q.prototype)}}else{try{throw Error()}catch(M){N=M}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(M){if(M&&N&&typeof M.stack=="string")return[M.stack,N.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),h=c[0],g=c[1];if(h&&g){var v=h.split(`
`),R=g.split(`
`);for(o=l=0;l<v.length&&!v[l].includes("DetermineComponentFrameRoot");)l++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(l===v.length||o===R.length)for(l=v.length-1,o=R.length-1;1<=l&&0<=o&&v[l]!==R[o];)o--;for(;1<=l&&0<=o;l--,o--)if(v[l]!==R[o]){if(l!==1||o!==1)do if(l--,o--,0>o||v[l]!==R[o]){var U=`
`+v[l].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=l&&0<=o);break}}}finally{so=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?La(n):""}function pv(e){switch(e.tag){case 26:case 27:case 5:return La(e.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 15:return io(e.type,!1);case 11:return io(e.type.render,!1);case 1:return io(e.type,!0);case 31:return La("Activity");default:return""}}function zf(e){try{var t="";do t+=pv(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gv(e){var t=jf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){l=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tl(e){e._valueTracker||(e._valueTracker=gv(e))}function Vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=jf(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yv=/[\n"\\]/g;function jt(e){return e.replace(yv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function lo(e,t,n,l,o,c,h,g){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?ro(e,h,zt(t)):n!=null?ro(e,h,zt(n)):l!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+zt(g):e.removeAttribute("name")}function qf(e,t,n,l,o,c,h,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;n=n!=null?""+zt(n):"",t=t!=null?""+zt(t):n,g||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=g?e.checked:!!l,e.defaultChecked=!!l,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function ro(e,t,n){t==="number"&&nl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ua(e,t,n,l){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&l&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Bf(e,t,n){if(t!=null&&(t=""+zt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+zt(n):""}function Hf(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(He(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=zt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l)}function za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kf(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||vv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Gf(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&n[o]!==l&&kf(e,o,l)}else for(var c in t)t.hasOwnProperty(c)&&kf(e,c,t[c])}function oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(e){return Sv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var uo=null;function co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ja=null,Va=null;function $f(e){var t=Ma(e);if(t&&(e=t.stateNode)){var n=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(lo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+jt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var o=l[yt]||null;if(!o)throw Error(i(90));lo(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Vf(l)}break e;case"textarea":Bf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ua(e,!!n.multiple,t,!1)}}}var fo=!1;function Yf(e,t,n){if(fo)return e(t,n);fo=!0;try{var l=e(t);return l}finally{if(fo=!1,(ja!==null||Va!==null)&&(Gl(),ja&&(t=ja,e=Va,Va=ja=null,$f(t),e)))for(t=0;t<e.length;t++)$f(e[t])}}function Cs(e,t){var n=e.stateNode;if(n===null)return null;var l=n[yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=!1;if(dn)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{ho=!1}var Dn=null,mo=null,sl=null;function If(){if(sl)return sl;var e,t=mo,n=t.length,l,o="value"in Dn?Dn.value:Dn.textContent,c=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(l=1;l<=h&&t[n-l]===o[c-l];l++);return sl=o.slice(e,1<l?1-l:void 0)}function il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function Xf(){return!1}function vt(e){function t(n,l,o,c,h){this._reactName=n,this._targetInst=o,this.type=l,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ll:Xf,this.isPropagationStopped=Xf,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),t}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=vt(la),Ls=b({},la,{view:0,detail:0}),_v=vt(Ls),po,go,Us,ol=b({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Us&&(Us&&e.type==="mousemove"?(po=e.screenX-Us.screenX,go=e.screenY-Us.screenY):go=po=0,Us=e),po)},movementY:function(e){return"movementY"in e?e.movementY:go}}),Jf=vt(ol),wv=b({},ol,{dataTransfer:0}),xv=vt(wv),Av=b({},Ls,{relatedTarget:0}),yo=vt(Av),Tv=b({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=vt(Tv),Ov=b({},la,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rv=vt(Ov),Nv=b({},la,{data:0}),Qf=vt(Nv),Mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dv[e])?!!t[e]:!1}function vo(){return Lv}var Uv=b({},Ls,{key:function(e){if(e.key){var t=Mv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vo,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zv=vt(Uv),jv=b({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kf=vt(jv),Vv=b({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vo}),qv=vt(Vv),Bv=b({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hv=vt(Bv),kv=b({},ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gv=vt(kv),$v=b({},la,{newState:0,oldState:0}),Yv=vt($v),Iv=[9,13,27,32],bo=dn&&"CompositionEvent"in window,zs=null;dn&&"documentMode"in document&&(zs=document.documentMode);var Xv=dn&&"TextEvent"in window&&!zs,Zf=dn&&(!bo||zs&&8<zs&&11>=zs),Ff=" ",Pf=!1;function Wf(e,t){switch(e){case"keyup":return Iv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qa=!1;function Jv(e,t){switch(e){case"compositionend":return ed(t);case"keypress":return t.which!==32?null:(Pf=!0,Ff);case"textInput":return e=t.data,e===Ff&&Pf?null:e;default:return null}}function Qv(e,t){if(qa)return e==="compositionend"||!bo&&Wf(e,t)?(e=If(),sl=mo=Dn=null,qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zf&&t.locale!=="ko"?null:t.data;default:return null}}var Kv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kv[e.type]:t==="textarea"}function nd(e,t,n,l){ja?Va?Va.push(l):Va=[l]:ja=l,t=Ql(t,"onChange"),0<t.length&&(n=new rl("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var js=null,Vs=null;function Zv(e){jm(e,0)}function ul(e){var t=Ms(e);if(Vf(t))return e}function ad(e,t){if(e==="change")return t}var sd=!1;if(dn){var So;if(dn){var _o="oninput"in document;if(!_o){var id=document.createElement("div");id.setAttribute("oninput","return;"),_o=typeof id.oninput=="function"}So=_o}else So=!1;sd=So&&(!document.documentMode||9<document.documentMode)}function ld(){js&&(js.detachEvent("onpropertychange",rd),Vs=js=null)}function rd(e){if(e.propertyName==="value"&&ul(Vs)){var t=[];nd(t,Vs,e,co(e)),Yf(Zv,t)}}function Fv(e,t,n){e==="focusin"?(ld(),js=t,Vs=n,js.attachEvent("onpropertychange",rd)):e==="focusout"&&ld()}function Pv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(Vs)}function Wv(e,t){if(e==="click")return ul(t)}function eb(e,t){if(e==="input"||e==="change")return ul(t)}function tb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:tb;function qs(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var o=n[l];if(!Kr.call(t,o)||!Tt(e[o],t[o]))return!1}return!0}function od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ud(e,t){var n=od(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=od(n)}}function cd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=nl(e.document)}return t}function wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var nb=dn&&"documentMode"in document&&11>=document.documentMode,Ba=null,xo=null,Bs=null,Ao=!1;function dd(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ao||Ba==null||Ba!==nl(l)||(l=Ba,"selectionStart"in l&&wo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bs&&qs(Bs,l)||(Bs=l,l=Ql(xo,"onSelect"),0<l.length&&(t=new rl("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Ba)))}function ra(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ha={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},To={},hd={};dn&&(hd=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function oa(e){if(To[e])return To[e];if(!Ha[e])return e;var t=Ha[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hd)return To[e]=t[n];return e}var md=oa("animationend"),pd=oa("animationiteration"),gd=oa("animationstart"),ab=oa("transitionrun"),sb=oa("transitionstart"),ib=oa("transitioncancel"),yd=oa("transitionend"),vd=new Map,Eo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eo.push("scrollEnd");function Xt(e,t){vd.set(e,t),ia(t,[e])}var bd=new WeakMap;function Vt(e,t){if(typeof e=="object"&&e!==null){var n=bd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:zf(t)},bd.set(e,t),t)}return{value:e,source:t,stack:zf(t)}}var qt=[],ka=0,Oo=0;function cl(){for(var e=ka,t=Oo=ka=0;t<e;){var n=qt[t];qt[t++]=null;var l=qt[t];qt[t++]=null;var o=qt[t];qt[t++]=null;var c=qt[t];if(qt[t++]=null,l!==null&&o!==null){var h=l.pending;h===null?o.next=o:(o.next=h.next,h.next=o),l.pending=o}c!==0&&Sd(n,o,c)}}function fl(e,t,n,l){qt[ka++]=e,qt[ka++]=t,qt[ka++]=n,qt[ka++]=l,Oo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ro(e,t,n,l){return fl(e,t,n,l),dl(e)}function Ga(e,t){return fl(e,null,null,t),dl(e)}function Sd(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var o=!1,c=e.return;c!==null;)c.childLanes|=n,l=c.alternate,l!==null&&(l.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-At(n),e=c.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=n|536870912),c):null}function dl(e){if(50<ci)throw ci=0,Uu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $a={};function lb(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,l){return new lb(e,t,n,l)}function No(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hn(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function _d(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hl(e,t,n,l,o,c){var h=0;if(l=e,typeof e=="function")No(e)&&(h=1);else if(typeof e=="string")h=o0(e,n,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Et(31,n,t,o),e.elementType=F,e.lanes=c,e;case C:return ua(n.children,o,c,t);case V:h=8,o|=24;break;case B:return e=Et(12,n,t,o|2),e.elementType=B,e.lanes=c,e;case J:return e=Et(13,n,t,o),e.elementType=J,e.lanes=c,e;case ae:return e=Et(19,n,t,o),e.elementType=ae,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ue:case k:h=10;break e;case H:h=9;break e;case G:h=11;break e;case Q:h=14;break e;case ce:h=16,l=null;break e}h=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=Et(h,n,t,o),t.elementType=e,t.type=l,t.lanes=c,t}function ua(e,t,n,l){return e=Et(7,e,l,t),e.lanes=n,e}function Mo(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function Co(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ya=[],Ia=0,ml=null,pl=0,Bt=[],Ht=0,ca=null,mn=1,pn="";function fa(e,t){Ya[Ia++]=pl,Ya[Ia++]=ml,ml=e,pl=t}function wd(e,t,n){Bt[Ht++]=mn,Bt[Ht++]=pn,Bt[Ht++]=ca,ca=e;var l=mn;e=pn;var o=32-At(l)-1;l&=~(1<<o),n+=1;var c=32-At(t)+o;if(30<c){var h=o-o%5;c=(l&(1<<h)-1).toString(32),l>>=h,o-=h,mn=1<<32-At(t)+o|n<<o|l,pn=c+e}else mn=1<<c|n<<o|l,pn=e}function Do(e){e.return!==null&&(fa(e,1),wd(e,1,0))}function Lo(e){for(;e===ml;)ml=Ya[--Ia],Ya[Ia]=null,pl=Ya[--Ia],Ya[Ia]=null;for(;e===ca;)ca=Bt[--Ht],Bt[Ht]=null,pn=Bt[--Ht],Bt[Ht]=null,mn=Bt[--Ht],Bt[Ht]=null}var pt=null,ke=null,Ee=!1,da=null,Wt=!1,Uo=Error(i(519));function ha(e){var t=Error(i(418,""));throw Gs(Vt(t,e)),Uo}function xd(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ct]=e,t[yt]=l,n){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(n=0;n<di.length;n++)be(di[n],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),qf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),tl(t);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),Hf(t,l.value,l.defaultValue,l.children),tl(t)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Hm(t.textContent,n)?(l.popover!=null&&(be("beforetoggle",t),be("toggle",t)),l.onScroll!=null&&be("scroll",t),l.onScrollEnd!=null&&be("scrollend",t),l.onClick!=null&&(t.onclick=Kl),t=!0):t=!1,t||ha(e)}function Ad(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:pt=pt.return}}function Hs(e){if(e!==pt)return!1;if(!Ee)return Ad(e),Ee=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Zu(e.type,e.memoizedProps)),n=!n),n&&ke&&ha(e),Ad(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){ke=Qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}ke=null}}else t===27?(t=ke,Qn(e.type)?(e=ec,ec=null,ke=e):ke=t):ke=pt?Qt(e.stateNode.nextSibling):null;return!0}function ks(){ke=pt=null,Ee=!1}function Td(){var e=da;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),da=null),e}function Gs(e){da===null?da=[e]:da.push(e)}var zo=j(null),ma=null,gn=null;function Ln(e,t,n){Y(zo,t._currentValue),t._currentValue=n}function yn(e){e._currentValue=zo.current,X(zo)}function jo(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t,n,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var h=o.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=o;for(var v=0;v<t.length;v++)if(g.context===t[v]){c.lanes|=n,g=c.alternate,g!==null&&(g.lanes|=n),jo(c.return,n,e),l||(h=null);break e}c=g.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(i(341));h.lanes|=n,c=h.alternate,c!==null&&(c.lanes|=n),jo(h,n,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function $s(e,t,n,l){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(i(387));if(h=h.memoizedProps,h!==null){var g=o.type;Tt(o.pendingProps.value,h.value)||(e!==null?e.push(g):e=[g])}}else if(o===wt.current){if(h=o.alternate,h===null)throw Error(i(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(vi):e=[vi])}o=o.return}e!==null&&Vo(t,e,n,l),t.flags|=262144}function gl(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pa(e){ma=e,gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return Ed(ma,e)}function yl(e,t){return ma===null&&pa(e),Ed(e,t)}function Ed(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},gn===null){if(e===null)throw Error(i(308));gn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gn=gn.next=t;return n}var rb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ob=r.unstable_scheduleCallback,ub=r.unstable_NormalPriority,Ke={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qo(){return{controller:new rb,data:new Map,refCount:0}}function Ys(e){e.refCount--,e.refCount===0&&ob(ub,function(){e.controller.abort()})}var Is=null,Bo=0,Xa=0,Ja=null;function cb(e,t){if(Is===null){var n=Is=[];Bo=0,Xa=ku(),Ja={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Bo++,t.then(Od,Od),t}function Od(){if(--Bo===0&&Is!==null){Ja!==null&&(Ja.status="fulfilled");var e=Is;Is=null,Xa=0,Ja=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fb(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),l}var Rd=L.S;L.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&cb(e,t),Rd!==null&&Rd(e,t)};var ga=j(null);function Ho(){var e=ga.current;return e!==null?e:Le.pooledCache}function vl(e,t){t===null?Y(ga,ga.current):Y(ga,t.pool)}function Nd(){var e=Ho();return e===null?null:{parent:Ke._currentValue,pool:e}}var Xs=Error(i(460)),Md=Error(i(474)),bl=Error(i(542)),ko={then:function(){}};function Cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sl(){}function Dd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Sl,Sl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ud(e),e;default:if(typeof t.status=="string")t.then(Sl,Sl);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ud(e),e}throw Js=t,Xs}}var Js=null;function Ld(){if(Js===null)throw Error(i(459));var e=Js;return Js=null,e}function Ud(e){if(e===Xs||e===bl)throw Error(i(483))}var Un=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=dl(e),Sd(e,null,n),t}return fl(e,l,t,n),dl(e)}function Qs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Of(e,n)}}function Yo(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var o=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?o=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?o=c=t:c=c.next=t}else o=c=t;n={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Io=!1;function Ks(){if(Io){var e=Ja;if(e!==null)throw e}}function Zs(e,t,n,l){Io=!1;var o=e.updateQueue;Un=!1;var c=o.firstBaseUpdate,h=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var v=g,R=v.next;v.next=null,h===null?c=R:h.next=R,h=v;var U=e.alternate;U!==null&&(U=U.updateQueue,g=U.lastBaseUpdate,g!==h&&(g===null?U.firstBaseUpdate=R:g.next=R,U.lastBaseUpdate=v))}if(c!==null){var q=o.baseState;h=0,U=R=v=null,g=c;do{var N=g.lane&-536870913,M=N!==g.lane;if(M?(xe&N)===N:(l&N)===N){N!==0&&N===Xa&&(Io=!0),U!==null&&(U=U.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var re=e,se=g;N=t;var Ce=n;switch(se.tag){case 1:if(re=se.payload,typeof re=="function"){q=re.call(Ce,q,N);break e}q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=se.payload,N=typeof re=="function"?re.call(Ce,q,N):re,N==null)break e;q=b({},q,N);break e;case 2:Un=!0}}N=g.callback,N!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[N]:M.push(N))}else M={lane:N,tag:g.tag,payload:g.payload,callback:g.callback,next:null},U===null?(R=U=M,v=q):U=U.next=M,h|=N;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;M=g,g=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);U===null&&(v=q),o.baseState=v,o.firstBaseUpdate=R,o.lastBaseUpdate=U,c===null&&(o.shared.lanes=0),Yn|=h,e.lanes=h,e.memoizedState=q}}function zd(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function jd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)zd(n[e],t)}var Qa=j(null),_l=j(0);function Vd(e,t){e=An,Y(_l,e),Y(Qa,t),An=e|t.baseLanes}function Xo(){Y(_l,An),Y(Qa,Qa.current)}function Jo(){An=_l.current,X(Qa),X(_l)}var Vn=0,ge=null,Ne=null,Xe=null,wl=!1,Ka=!1,ya=!1,xl=0,Fs=0,Za=null,db=0;function Ye(){throw Error(i(321))}function Qo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Ko(e,t,n,l,o,c){return Vn=c,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Sh:_h,ya=!1,c=n(l,o),ya=!1,Ka&&(c=Bd(t,n,l,o)),qd(e),c}function qd(e){L.H=Nl;var t=Ne!==null&&Ne.next!==null;if(Vn=0,Xe=Ne=ge=null,wl=!1,Fs=0,Za=null,t)throw Error(i(300));e===null||et||(e=e.dependencies,e!==null&&gl(e)&&(et=!0))}function Bd(e,t,n,l){ge=e;var o=0;do{if(Ka&&(Za=null),Fs=0,Ka=!1,25<=o)throw Error(i(301));if(o+=1,Xe=Ne=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}L.H=bb,c=t(n,l)}while(Ka);return c}function hb(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?Ps(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(ge.flags|=1024),t}function Zo(){var e=xl!==0;return xl=0,e}function Fo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Po(e){if(wl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wl=!1}Vn=0,Xe=Ne=ge=null,Ka=!1,Fs=xl=0,Za=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ge.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Je(){if(Ne===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Xe===null?ge.memoizedState:Xe.next;if(t!==null)Xe=t,Ne=e;else{if(e===null)throw ge.alternate===null?Error(i(467)):Error(i(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Xe===null?ge.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Wo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ps(e){var t=Fs;return Fs+=1,Za===null&&(Za=[]),e=Dd(Za,e,t),t=ge,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Sh:_h),e}function Al(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ps(e);if(e.$$typeof===k)return ft(e)}throw Error(i(438,String(e)))}function eu(e){var t=null,n=ge.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Wo(),ge.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=W;return t.index++,n}function vn(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=Je();return tu(t,Ne,e)}function tu(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var o=e.baseQueue,c=l.pending;if(c!==null){if(o!==null){var h=o.next;o.next=c.next,c.next=h}t.baseQueue=o=c,l.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var g=h=null,v=null,R=t,U=!1;do{var q=R.lane&-536870913;if(q!==R.lane?(xe&q)===q:(Vn&q)===q){var N=R.revertLane;if(N===0)v!==null&&(v=v.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),q===Xa&&(U=!0);else if((Vn&N)===N){R=R.next,N===Xa&&(U=!0);continue}else q={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},v===null?(g=v=q,h=c):v=v.next=q,ge.lanes|=N,Yn|=N;q=R.action,ya&&n(c,q),c=R.hasEagerState?R.eagerState:n(c,q)}else N={lane:q,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},v===null?(g=v=N,h=c):v=v.next=N,ge.lanes|=q,Yn|=q;R=R.next}while(R!==null&&R!==t);if(v===null?h=c:v.next=g,!Tt(c,e.memoizedState)&&(et=!0,U&&(n=Ja,n!==null)))throw n;e.memoizedState=c,e.baseState=h,e.baseQueue=v,l.lastRenderedState=c}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function nu(e){var t=Je(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,o=n.pending,c=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do c=e(c,h.action),h=h.next;while(h!==o);Tt(c,t.memoizedState)||(et=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,l]}function Hd(e,t,n){var l=ge,o=Je(),c=Ee;if(c){if(n===void 0)throw Error(i(407));n=n()}else n=t();var h=!Tt((Ne||o).memoizedState,n);h&&(o.memoizedState=n,et=!0),o=o.queue;var g=$d.bind(null,l,o,e);if(Ws(2048,8,g,[e]),o.getSnapshot!==t||h||Xe!==null&&Xe.memoizedState.tag&1){if(l.flags|=2048,Fa(9,El(),Gd.bind(null,l,o,n,t),null),Le===null)throw Error(i(349));c||(Vn&124)!==0||kd(l,t,n)}return n}function kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t=Wo(),ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gd(e,t,n,l){t.value=n,t.getSnapshot=l,Yd(t)&&Id(e)}function $d(e,t,n){return n(function(){Yd(t)&&Id(e)})}function Yd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function Id(e){var t=Ga(e,2);t!==null&&Ct(t,e,2)}function au(e){var t=bt();if(typeof e=="function"){var n=e;if(e=n(),ya){Mn(!0);try{n()}finally{Mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t}function Xd(e,t,n,l){return e.baseState=n,tu(e,Ne,typeof l=="function"?l:vn)}function mb(e,t,n,l,o){if(Rl(e))throw Error(i(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};L.T!==null?n(!0):c.isTransition=!1,l(c),n=t.pending,n===null?(c.next=t.pending=c,Jd(t,c)):(c.next=n.next,t.pending=n.next=c)}}function Jd(e,t){var n=t.action,l=t.payload,o=e.state;if(t.isTransition){var c=L.T,h={};L.T=h;try{var g=n(o,l),v=L.S;v!==null&&v(h,g),Qd(e,t,g)}catch(R){su(e,t,R)}finally{L.T=c}}else try{c=n(o,l),Qd(e,t,c)}catch(R){su(e,t,R)}}function Qd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Kd(e,t,l)},function(l){return su(e,t,l)}):Kd(e,t,n)}function Kd(e,t,n){t.status="fulfilled",t.value=n,Zd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Jd(e,n)))}function su(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Zd(t),t=t.next;while(t!==l)}e.action=null}function Zd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fd(e,t){return t}function Pd(e,t){if(Ee){var n=Le.formState;if(n!==null){e:{var l=ge;if(Ee){if(ke){t:{for(var o=ke,c=Wt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Qt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){ke=Qt(o.nextSibling),l=o.data==="F!";break e}}ha(l)}l=!1}l&&(t=n[0])}}return n=bt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fd,lastRenderedState:t},n.queue=l,n=yh.bind(null,ge,l),l.dispatch=n,l=au(!1),c=uu.bind(null,ge,!1,l.queue),l=bt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,n=mb.bind(null,ge,o,c,n),o.dispatch=n,l.memoizedState=e,[t,n,!1]}function Wd(e){var t=Je();return eh(t,Ne,e)}function eh(e,t,n){if(t=tu(e,t,Fd)[0],e=Tl(vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ps(t)}catch(h){throw h===Xs?bl:h}else l=t;t=Je();var o=t.queue,c=o.dispatch;return n!==t.memoizedState&&(ge.flags|=2048,Fa(9,El(),pb.bind(null,o,n),null)),[l,c,e]}function pb(e,t){e.action=t}function th(e){var t=Je(),n=Ne;if(n!==null)return eh(t,n,e);Je(),t=t.memoizedState,n=Je();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Fa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=ge.updateQueue,t===null&&(t=Wo(),ge.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function El(){return{destroy:void 0,resource:void 0}}function nh(){return Je().memoizedState}function Ol(e,t,n,l){var o=bt();l=l===void 0?null:l,ge.flags|=e,o.memoizedState=Fa(1|t,El(),n,l)}function Ws(e,t,n,l){var o=Je();l=l===void 0?null:l;var c=o.memoizedState.inst;Ne!==null&&l!==null&&Qo(l,Ne.memoizedState.deps)?o.memoizedState=Fa(t,c,n,l):(ge.flags|=e,o.memoizedState=Fa(1|t,c,n,l))}function ah(e,t){Ol(8390656,8,e,t)}function sh(e,t){Ws(2048,8,e,t)}function ih(e,t){return Ws(4,2,e,t)}function lh(e,t){return Ws(4,4,e,t)}function rh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oh(e,t,n){n=n!=null?n.concat([e]):null,Ws(4,4,rh.bind(null,t,e),n)}function iu(){}function uh(e,t){var n=Je();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Qo(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function ch(e,t){var n=Je();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Qo(t,l[1]))return l[0];if(l=e(),ya){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[l,t],l}function lu(e,t,n){return n===void 0||(Vn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=hm(),ge.lanes|=e,Yn|=e,n)}function fh(e,t,n,l){return Tt(n,t)?n:Qa.current!==null?(e=lu(e,n,l),Tt(e,t)||(et=!0),e):(Vn&42)===0?(et=!0,e.memoizedState=n):(e=hm(),ge.lanes|=e,Yn|=e,t)}function dh(e,t,n,l,o){var c=$.p;$.p=c!==0&&8>c?c:8;var h=L.T,g={};L.T=g,uu(e,!1,t,n);try{var v=o(),R=L.S;if(R!==null&&R(g,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var U=fb(v,l);ei(e,t,U,Mt(e))}else ei(e,t,l,Mt(e))}catch(q){ei(e,t,{then:function(){},status:"rejected",reason:q},Mt())}finally{$.p=c,L.T=h}}function gb(){}function ru(e,t,n,l){if(e.tag!==5)throw Error(i(476));var o=hh(e).queue;dh(e,o,t,ee,n===null?gb:function(){return mh(e),n(l)})}function hh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:ee},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function mh(e){var t=hh(e).next.queue;ei(e,t,{},Mt())}function ou(){return ft(vi)}function ph(){return Je().memoizedState}function gh(){return Je().memoizedState}function yb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Mt();e=zn(n);var l=jn(t,e,n);l!==null&&(Ct(l,t,n),Qs(l,t,n)),t={cache:qo()},e.payload=t;return}t=t.return}}function vb(e,t,n){var l=Mt();n={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Rl(e)?vh(t,n):(n=Ro(e,t,n,l),n!==null&&(Ct(n,e,l),bh(n,t,l)))}function yh(e,t,n){var l=Mt();ei(e,t,n,l)}function ei(e,t,n,l){var o={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rl(e))vh(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,g=c(h,n);if(o.hasEagerState=!0,o.eagerState=g,Tt(g,h))return fl(e,t,o,0),Le===null&&cl(),!1}catch{}finally{}if(n=Ro(e,t,o,l),n!==null)return Ct(n,e,l),bh(n,t,l),!0}return!1}function uu(e,t,n,l){if(l={lane:2,revertLane:ku(),action:l,hasEagerState:!1,eagerState:null,next:null},Rl(e)){if(t)throw Error(i(479))}else t=Ro(e,n,l,2),t!==null&&Ct(t,e,2)}function Rl(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function vh(e,t){Ka=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Of(e,n)}}var Nl={readContext:ft,use:Al,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},Sh={readContext:ft,use:Al,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:ah,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ol(4194308,4,rh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){Ol(4,2,e,t)},useMemo:function(e,t){var n=bt();t=t===void 0?null:t;var l=e();if(ya){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=bt();if(n!==void 0){var o=n(t);if(ya){Mn(!0);try{n(t)}finally{Mn(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=vb.bind(null,ge,e),[l.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=au(e);var t=e.queue,n=yh.bind(null,ge,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:iu,useDeferredValue:function(e,t){var n=bt();return lu(n,e,t)},useTransition:function(){var e=au(!1);return e=dh.bind(null,ge,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=ge,o=bt();if(Ee){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Le===null)throw Error(i(349));(xe&124)!==0||kd(l,t,n)}o.memoizedState=n;var c={value:n,getSnapshot:t};return o.queue=c,ah($d.bind(null,l,c,e),[e]),l.flags|=2048,Fa(9,El(),Gd.bind(null,l,c,n,t),null),n},useId:function(){var e=bt(),t=Le.identifierPrefix;if(Ee){var n=pn,l=mn;n=(l&~(1<<32-At(l)-1)).toString(32)+n,t=""+t+"R"+n,n=xl++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=db++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ou,useFormState:Pd,useActionState:Pd,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uu.bind(null,ge,!0,n),n.dispatch=t,[e,t]},useMemoCache:eu,useCacheRefresh:function(){return bt().memoizedState=yb.bind(null,ge)}},_h={readContext:ft,use:Al,useCallback:uh,useContext:ft,useEffect:sh,useImperativeHandle:oh,useInsertionEffect:ih,useLayoutEffect:lh,useMemo:ch,useReducer:Tl,useRef:nh,useState:function(){return Tl(vn)},useDebugValue:iu,useDeferredValue:function(e,t){var n=Je();return fh(n,Ne.memoizedState,e,t)},useTransition:function(){var e=Tl(vn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Ps(e),t]},useSyncExternalStore:Hd,useId:ph,useHostTransitionStatus:ou,useFormState:Wd,useActionState:Wd,useOptimistic:function(e,t){var n=Je();return Xd(n,Ne,e,t)},useMemoCache:eu,useCacheRefresh:gh},bb={readContext:ft,use:Al,useCallback:uh,useContext:ft,useEffect:sh,useImperativeHandle:oh,useInsertionEffect:ih,useLayoutEffect:lh,useMemo:ch,useReducer:nu,useRef:nh,useState:function(){return nu(vn)},useDebugValue:iu,useDeferredValue:function(e,t){var n=Je();return Ne===null?lu(n,e,t):fh(n,Ne.memoizedState,e,t)},useTransition:function(){var e=nu(vn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Ps(e),t]},useSyncExternalStore:Hd,useId:ph,useHostTransitionStatus:ou,useFormState:th,useActionState:th,useOptimistic:function(e,t){var n=Je();return Ne!==null?Xd(n,Ne,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:eu,useCacheRefresh:gh},Pa=null,ti=0;function Ml(e){var t=ti;return ti+=1,Pa===null&&(Pa=[]),Dd(Pa,e,t)}function ni(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Cl(e,t){throw t.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function wh(e){var t=e._init;return t(e._payload)}function xh(e){function t(A,w){if(e){var E=A.deletions;E===null?(A.deletions=[w],A.flags|=16):E.push(w)}}function n(A,w){if(!e)return null;for(;w!==null;)t(A,w),w=w.sibling;return null}function l(A){for(var w=new Map;A!==null;)A.key!==null?w.set(A.key,A):w.set(A.index,A),A=A.sibling;return w}function o(A,w){return A=hn(A,w),A.index=0,A.sibling=null,A}function c(A,w,E){return A.index=E,e?(E=A.alternate,E!==null?(E=E.index,E<w?(A.flags|=67108866,w):E):(A.flags|=67108866,w)):(A.flags|=1048576,w)}function h(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function g(A,w,E,z){return w===null||w.tag!==6?(w=Mo(E,A.mode,z),w.return=A,w):(w=o(w,E),w.return=A,w)}function v(A,w,E,z){var K=E.type;return K===C?U(A,w,E.props.children,z,E.key):w!==null&&(w.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ce&&wh(K)===w.type)?(w=o(w,E.props),ni(w,E),w.return=A,w):(w=hl(E.type,E.key,E.props,null,A.mode,z),ni(w,E),w.return=A,w)}function R(A,w,E,z){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Co(E,A.mode,z),w.return=A,w):(w=o(w,E.children||[]),w.return=A,w)}function U(A,w,E,z,K){return w===null||w.tag!==7?(w=ua(E,A.mode,z,K),w.return=A,w):(w=o(w,E),w.return=A,w)}function q(A,w,E){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Mo(""+w,A.mode,E),w.return=A,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case O:return E=hl(w.type,w.key,w.props,null,A.mode,E),ni(E,w),E.return=A,E;case T:return w=Co(w,A.mode,E),w.return=A,w;case ce:var z=w._init;return w=z(w._payload),q(A,w,E)}if(He(w)||Ue(w))return w=ua(w,A.mode,E,null),w.return=A,w;if(typeof w.then=="function")return q(A,Ml(w),E);if(w.$$typeof===k)return q(A,yl(A,w),E);Cl(A,w)}return null}function N(A,w,E,z){var K=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return K!==null?null:g(A,w,""+E,z);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case O:return E.key===K?v(A,w,E,z):null;case T:return E.key===K?R(A,w,E,z):null;case ce:return K=E._init,E=K(E._payload),N(A,w,E,z)}if(He(E)||Ue(E))return K!==null?null:U(A,w,E,z,null);if(typeof E.then=="function")return N(A,w,Ml(E),z);if(E.$$typeof===k)return N(A,w,yl(A,E),z);Cl(A,E)}return null}function M(A,w,E,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return A=A.get(E)||null,g(w,A,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return A=A.get(z.key===null?E:z.key)||null,v(w,A,z,K);case T:return A=A.get(z.key===null?E:z.key)||null,R(w,A,z,K);case ce:var ye=z._init;return z=ye(z._payload),M(A,w,E,z,K)}if(He(z)||Ue(z))return A=A.get(E)||null,U(w,A,z,K,null);if(typeof z.then=="function")return M(A,w,E,Ml(z),K);if(z.$$typeof===k)return M(A,w,E,yl(w,z),K);Cl(w,z)}return null}function re(A,w,E,z){for(var K=null,ye=null,P=w,ie=w=0,nt=null;P!==null&&ie<E.length;ie++){P.index>ie?(nt=P,P=null):nt=P.sibling;var Te=N(A,P,E[ie],z);if(Te===null){P===null&&(P=nt);break}e&&P&&Te.alternate===null&&t(A,P),w=c(Te,w,ie),ye===null?K=Te:ye.sibling=Te,ye=Te,P=nt}if(ie===E.length)return n(A,P),Ee&&fa(A,ie),K;if(P===null){for(;ie<E.length;ie++)P=q(A,E[ie],z),P!==null&&(w=c(P,w,ie),ye===null?K=P:ye.sibling=P,ye=P);return Ee&&fa(A,ie),K}for(P=l(P);ie<E.length;ie++)nt=M(P,A,ie,E[ie],z),nt!==null&&(e&&nt.alternate!==null&&P.delete(nt.key===null?ie:nt.key),w=c(nt,w,ie),ye===null?K=nt:ye.sibling=nt,ye=nt);return e&&P.forEach(function(Wn){return t(A,Wn)}),Ee&&fa(A,ie),K}function se(A,w,E,z){if(E==null)throw Error(i(151));for(var K=null,ye=null,P=w,ie=w=0,nt=null,Te=E.next();P!==null&&!Te.done;ie++,Te=E.next()){P.index>ie?(nt=P,P=null):nt=P.sibling;var Wn=N(A,P,Te.value,z);if(Wn===null){P===null&&(P=nt);break}e&&P&&Wn.alternate===null&&t(A,P),w=c(Wn,w,ie),ye===null?K=Wn:ye.sibling=Wn,ye=Wn,P=nt}if(Te.done)return n(A,P),Ee&&fa(A,ie),K;if(P===null){for(;!Te.done;ie++,Te=E.next())Te=q(A,Te.value,z),Te!==null&&(w=c(Te,w,ie),ye===null?K=Te:ye.sibling=Te,ye=Te);return Ee&&fa(A,ie),K}for(P=l(P);!Te.done;ie++,Te=E.next())Te=M(P,A,ie,Te.value,z),Te!==null&&(e&&Te.alternate!==null&&P.delete(Te.key===null?ie:Te.key),w=c(Te,w,ie),ye===null?K=Te:ye.sibling=Te,ye=Te);return e&&P.forEach(function(S0){return t(A,S0)}),Ee&&fa(A,ie),K}function Ce(A,w,E,z){if(typeof E=="object"&&E!==null&&E.type===C&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case O:e:{for(var K=E.key;w!==null;){if(w.key===K){if(K=E.type,K===C){if(w.tag===7){n(A,w.sibling),z=o(w,E.props.children),z.return=A,A=z;break e}}else if(w.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ce&&wh(K)===w.type){n(A,w.sibling),z=o(w,E.props),ni(z,E),z.return=A,A=z;break e}n(A,w);break}else t(A,w);w=w.sibling}E.type===C?(z=ua(E.props.children,A.mode,z,E.key),z.return=A,A=z):(z=hl(E.type,E.key,E.props,null,A.mode,z),ni(z,E),z.return=A,A=z)}return h(A);case T:e:{for(K=E.key;w!==null;){if(w.key===K)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(A,w.sibling),z=o(w,E.children||[]),z.return=A,A=z;break e}else{n(A,w);break}else t(A,w);w=w.sibling}z=Co(E,A.mode,z),z.return=A,A=z}return h(A);case ce:return K=E._init,E=K(E._payload),Ce(A,w,E,z)}if(He(E))return re(A,w,E,z);if(Ue(E)){if(K=Ue(E),typeof K!="function")throw Error(i(150));return E=K.call(E),se(A,w,E,z)}if(typeof E.then=="function")return Ce(A,w,Ml(E),z);if(E.$$typeof===k)return Ce(A,w,yl(A,E),z);Cl(A,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,w!==null&&w.tag===6?(n(A,w.sibling),z=o(w,E),z.return=A,A=z):(n(A,w),z=Mo(E,A.mode,z),z.return=A,A=z),h(A)):n(A,w)}return function(A,w,E,z){try{ti=0;var K=Ce(A,w,E,z);return Pa=null,K}catch(P){if(P===Xs||P===bl)throw P;var ye=Et(29,P,null,A.mode);return ye.lanes=z,ye.return=A,ye}finally{}}}var Wa=xh(!0),Ah=xh(!1),kt=j(null),en=null;function qn(e){var t=e.alternate;Y(Ze,Ze.current&1),Y(kt,e),en===null&&(t===null||Qa.current!==null||t.memoizedState!==null)&&(en=e)}function Th(e){if(e.tag===22){if(Y(Ze,Ze.current),Y(kt,e),en===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(en=e)}}else Bn()}function Bn(){Y(Ze,Ze.current),Y(kt,kt.current)}function bn(e){X(kt),en===e&&(en=null),X(Ze)}var Ze=j(0);function Dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Wu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function cu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Mt(),o=zn(l);o.payload=t,n!=null&&(o.callback=n),t=jn(e,o,l),t!==null&&(Ct(t,e,l),Qs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Mt(),o=zn(l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=jn(e,o,l),t!==null&&(Ct(t,e,l),Qs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),l=zn(n);l.tag=2,t!=null&&(l.callback=t),t=jn(e,l,n),t!==null&&(Ct(t,e,n),Qs(t,e,n))}};function Eh(e,t,n,l,o,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,c,h):t.prototype&&t.prototype.isPureReactComponent?!qs(n,l)||!qs(o,c):!0}function Oh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&fu.enqueueReplaceState(t,t.state,null)}function va(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}var Ll=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Rh(e){Ll(e)}function Nh(e){console.error(e)}function Mh(e){Ll(e)}function Ul(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Ch(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function du(e,t,n){return n=zn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ul(e,t)},n}function Dh(e){return e=zn(e),e.tag=3,e}function Lh(e,t,n,l){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var c=l.value;e.payload=function(){return o(c)},e.callback=function(){Ch(t,n,l)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Ch(t,n,l),typeof o!="function"&&(In===null?In=new Set([this]):In.add(this));var g=l.stack;this.componentDidCatch(l.value,{componentStack:g!==null?g:""})})}function Sb(e,t,n,l,o){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&$s(t,n,o,!0),n=kt.current,n!==null){switch(n.tag){case 13:return en===null?ju():n.alternate===null&&Ge===0&&(Ge=3),n.flags&=-257,n.flags|=65536,n.lanes=o,l===ko?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),qu(e,l,o)),!1;case 22:return n.flags|=65536,l===ko?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),qu(e,l,o)),!1}throw Error(i(435,n.tag))}return qu(e,l,o),ju(),!1}if(Ee)return t=kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==Uo&&(e=Error(i(422),{cause:l}),Gs(Vt(e,n)))):(l!==Uo&&(t=Error(i(423),{cause:l}),Gs(Vt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=Vt(l,n),o=du(e.stateNode,l,o),Yo(e,o),Ge!==4&&(Ge=2)),!1;var c=Error(i(520),{cause:l});if(c=Vt(c,n),ui===null?ui=[c]:ui.push(c),Ge!==4&&(Ge=2),t===null)return!0;l=Vt(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=du(n.stateNode,l,e),Yo(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(In===null||!In.has(c))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Dh(o),Lh(o,e,n,l),Yo(n,o),!1}n=n.return}while(n!==null);return!1}var Uh=Error(i(461)),et=!1;function st(e,t,n,l){t.child=e===null?Ah(t,null,n,l):Wa(t,e.child,n,l)}function zh(e,t,n,l,o){n=n.render;var c=t.ref;if("ref"in l){var h={};for(var g in l)g!=="ref"&&(h[g]=l[g])}else h=l;return pa(t),l=Ko(e,t,n,h,c,o),g=Zo(),e!==null&&!et?(Fo(e,t,o),Sn(e,t,o)):(Ee&&g&&Do(t),t.flags|=1,st(e,t,l,o),t.child)}function jh(e,t,n,l,o){if(e===null){var c=n.type;return typeof c=="function"&&!No(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,Vh(e,t,c,l,o)):(e=hl(n.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Su(e,o)){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:qs,n(h,l)&&e.ref===t.ref)return Sn(e,t,o)}return t.flags|=1,e=hn(c,l),e.ref=t.ref,e.return=t,t.child=e}function Vh(e,t,n,l,o){if(e!==null){var c=e.memoizedProps;if(qs(c,l)&&e.ref===t.ref)if(et=!1,t.pendingProps=l=c,Su(e,o))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,Sn(e,t,o)}return hu(e,t,n,l,o)}function qh(e,t,n){var l=t.pendingProps,o=l.children,c=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=c!==null?c.baseLanes|n:n,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;t.childLanes=c&~l}else t.childLanes=0,t.child=null;return Bh(e,t,l,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vl(t,c!==null?c.cachePool:null),c!==null?Vd(t,c):Xo(),Th(t);else return t.lanes=t.childLanes=536870912,Bh(e,t,c!==null?c.baseLanes|n:n,n)}else c!==null?(vl(t,c.cachePool),Vd(t,c),Bn(),t.memoizedState=null):(e!==null&&vl(t,null),Xo(),Bn());return st(e,t,o,n),t.child}function Bh(e,t,n,l){var o=Ho();return o=o===null?null:{parent:Ke._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&vl(t,null),Xo(),Th(t),e!==null&&$s(e,t,l,!0),null}function zl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function hu(e,t,n,l,o){return pa(t),n=Ko(e,t,n,l,void 0,o),l=Zo(),e!==null&&!et?(Fo(e,t,o),Sn(e,t,o)):(Ee&&l&&Do(t),t.flags|=1,st(e,t,n,o),t.child)}function Hh(e,t,n,l,o,c){return pa(t),t.updateQueue=null,n=Bd(t,l,n,o),qd(e),l=Zo(),e!==null&&!et?(Fo(e,t,c),Sn(e,t,c)):(Ee&&l&&Do(t),t.flags|=1,st(e,t,n,c),t.child)}function kh(e,t,n,l,o){if(pa(t),t.stateNode===null){var c=$a,h=n.contextType;typeof h=="object"&&h!==null&&(c=ft(h)),c=new n(l,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=fu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=l,c.state=t.memoizedState,c.refs={},Go(t),h=n.contextType,c.context=typeof h=="object"&&h!==null?ft(h):$a,c.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(cu(t,n,h,l),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&fu.enqueueReplaceState(c,c.state,null),Zs(t,l,c,o),Ks(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,v=va(n,g);c.props=v;var R=c.context,U=n.contextType;h=$a,typeof U=="object"&&U!==null&&(h=ft(U));var q=n.getDerivedStateFromProps;U=typeof q=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,U||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||R!==h)&&Oh(t,c,l,h),Un=!1;var N=t.memoizedState;c.state=N,Zs(t,l,c,o),Ks(),R=t.memoizedState,g||N!==R||Un?(typeof q=="function"&&(cu(t,n,q,l),R=t.memoizedState),(v=Un||Eh(t,n,v,l,N,R,h))?(U||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=R),c.props=l,c.state=R,c.context=h,l=v):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{c=t.stateNode,$o(e,t),h=t.memoizedProps,U=va(n,h),c.props=U,q=t.pendingProps,N=c.context,R=n.contextType,v=$a,typeof R=="object"&&R!==null&&(v=ft(R)),g=n.getDerivedStateFromProps,(R=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==q||N!==v)&&Oh(t,c,l,v),Un=!1,N=t.memoizedState,c.state=N,Zs(t,l,c,o),Ks();var M=t.memoizedState;h!==q||N!==M||Un||e!==null&&e.dependencies!==null&&gl(e.dependencies)?(typeof g=="function"&&(cu(t,n,g,l),M=t.memoizedState),(U=Un||Eh(t,n,U,l,N,M,v)||e!==null&&e.dependencies!==null&&gl(e.dependencies))?(R||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,M,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,M,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=M),c.props=l,c.state=M,c.context=v,l=U):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),l=!1)}return c=l,zl(e,t),l=(t.flags&128)!==0,c||l?(c=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&l?(t.child=Wa(t,e.child,null,o),t.child=Wa(t,null,n,o)):st(e,t,n,o),t.memoizedState=c.state,e=t.child):e=Sn(e,t,o),e}function Gh(e,t,n,l){return ks(),t.flags|=256,st(e,t,n,l),t.child}var mu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pu(e){return{baseLanes:e,cachePool:Nd()}}function gu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Gt),e}function $h(e,t,n){var l=t.pendingProps,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(o?qn(t):Bn(),Ee){var g=ke,v;if(v=g){e:{for(v=g,g=Wt;v.nodeType!==8;){if(!g){g=null;break e}if(v=Qt(v.nextSibling),v===null){g=null;break e}}g=v}g!==null?(t.memoizedState={dehydrated:g,treeContext:ca!==null?{id:mn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},v=Et(18,null,null,0),v.stateNode=g,v.return=t,t.child=v,pt=t,ke=null,v=!0):v=!1}v||ha(t)}if(g=t.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return Wu(g)?t.lanes=32:t.lanes=536870912,null;bn(t)}return g=l.children,l=l.fallback,o?(Bn(),o=t.mode,g=jl({mode:"hidden",children:g},o),l=ua(l,o,n,null),g.return=t,l.return=t,g.sibling=l,t.child=g,o=t.child,o.memoizedState=pu(n),o.childLanes=gu(e,h,n),t.memoizedState=mu,l):(qn(t),yu(t,g))}if(v=e.memoizedState,v!==null&&(g=v.dehydrated,g!==null)){if(c)t.flags&256?(qn(t),t.flags&=-257,t=vu(e,t,n)):t.memoizedState!==null?(Bn(),t.child=e.child,t.flags|=128,t=null):(Bn(),o=l.fallback,g=t.mode,l=jl({mode:"visible",children:l.children},g),o=ua(o,g,n,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,Wa(t,e.child,null,n),l=t.child,l.memoizedState=pu(n),l.childLanes=gu(e,h,n),t.memoizedState=mu,t=o);else if(qn(t),Wu(g)){if(h=g.nextSibling&&g.nextSibling.dataset,h)var R=h.dgst;h=R,l=Error(i(419)),l.stack="",l.digest=h,Gs({value:l,source:null,stack:null}),t=vu(e,t,n)}else if(et||$s(e,t,n,!1),h=(n&e.childLanes)!==0,et||h){if(h=Le,h!==null&&(l=n&-n,l=(l&42)!==0?1:Wr(l),l=(l&(h.suspendedLanes|n))!==0?0:l,l!==0&&l!==v.retryLane))throw v.retryLane=l,Ga(e,l),Ct(h,e,l),Uh;g.data==="$?"||ju(),t=vu(e,t,n)}else g.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,ke=Qt(g.nextSibling),pt=t,Ee=!0,da=null,Wt=!1,e!==null&&(Bt[Ht++]=mn,Bt[Ht++]=pn,Bt[Ht++]=ca,mn=e.id,pn=e.overflow,ca=t),t=yu(t,l.children),t.flags|=4096);return t}return o?(Bn(),o=l.fallback,g=t.mode,v=e.child,R=v.sibling,l=hn(v,{mode:"hidden",children:l.children}),l.subtreeFlags=v.subtreeFlags&65011712,R!==null?o=hn(R,o):(o=ua(o,g,n,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,l=o,o=t.child,g=e.child.memoizedState,g===null?g=pu(n):(v=g.cachePool,v!==null?(R=Ke._currentValue,v=v.parent!==R?{parent:R,pool:R}:v):v=Nd(),g={baseLanes:g.baseLanes|n,cachePool:v}),o.memoizedState=g,o.childLanes=gu(e,h,n),t.memoizedState=mu,l):(qn(t),n=e.child,e=n.sibling,n=hn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function yu(e,t){return t=jl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function jl(e,t){return e=Et(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function vu(e,t,n){return Wa(t,e.child,null,n),e=yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yh(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),jo(e.return,t,n)}function bu(e,t,n,l,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=n,c.tailMode=o)}function Ih(e,t,n){var l=t.pendingProps,o=l.revealOrder,c=l.tail;if(st(e,t,l.children,n),l=Ze.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yh(e,n,t);else if(e.tag===19)Yh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Y(Ze,l),o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Dl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),bu(t,!1,o,n,c);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Dl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}bu(t,!0,n,null,c);break;case"together":bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if($s(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Su(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gl(e)))}function _b(e,t,n){switch(t.tag){case 3:ze(t,t.stateNode.containerInfo),Ln(t,Ke,e.memoizedState.cache),ks();break;case 27:case 5:Qr(t);break;case 4:ze(t,t.stateNode.containerInfo);break;case 10:Ln(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(qn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?$h(e,t,n):(qn(t),e=Sn(e,t,n),e!==null?e.sibling:null);qn(t);break;case 19:var o=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||($s(e,t,n,!1),l=(n&t.childLanes)!==0),o){if(l)return Ih(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Y(Ze,Ze.current),l)break;return null;case 22:case 23:return t.lanes=0,qh(e,t,n);case 24:Ln(t,Ke,e.memoizedState.cache)}return Sn(e,t,n)}function Xh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!Su(e,n)&&(t.flags&128)===0)return et=!1,_b(e,t,n);et=(e.flags&131072)!==0}else et=!1,Ee&&(t.flags&1048576)!==0&&wd(t,pl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,o=l._init;if(l=o(l._payload),t.type=l,typeof l=="function")No(l)?(e=va(l,e),t.tag=1,t=kh(null,t,l,e,n)):(t.tag=0,t=hu(null,t,l,e,n));else{if(l!=null){if(o=l.$$typeof,o===G){t.tag=11,t=zh(null,t,l,e,n);break e}else if(o===Q){t.tag=14,t=jh(null,t,l,e,n);break e}}throw t=$e(l)||l,Error(i(306,t,""))}}return t;case 0:return hu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,o=va(l,t.pendingProps),kh(e,t,l,o,n);case 3:e:{if(ze(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var c=t.memoizedState;o=c.element,$o(e,t),Zs(t,l,null,n);var h=t.memoizedState;if(l=h.cache,Ln(t,Ke,l),l!==c.cache&&Vo(t,[Ke],n,!0),Ks(),l=h.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Gh(e,t,l,n);break e}else if(l!==o){o=Vt(Error(i(424)),t),Gs(o),t=Gh(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ke=Qt(e.firstChild),pt=t,Ee=!0,da=null,Wt=!0,n=Ah(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ks(),l===o){t=Sn(e,t,n);break e}st(e,t,l,n)}t=t.child}return t;case 26:return zl(e,t),e===null?(n=Zm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ee||(n=t.type,e=t.pendingProps,l=Zl(me.current).createElement(n),l[ct]=t,l[yt]=e,lt(l,n,e),We(l),t.stateNode=l):t.memoizedState=Zm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qr(t),e===null&&Ee&&(l=t.stateNode=Jm(t.type,t.pendingProps,me.current),pt=t,Wt=!0,o=ke,Qn(t.type)?(ec=o,ke=Qt(l.firstChild)):ke=o),st(e,t,t.pendingProps.children,n),zl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((o=l=ke)&&(l=Kb(l,t.type,t.pendingProps,Wt),l!==null?(t.stateNode=l,pt=t,ke=Qt(l.firstChild),Wt=!1,o=!0):o=!1),o||ha(t)),Qr(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,l=c.children,Zu(o,c)?l=null:h!==null&&Zu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=Ko(e,t,hb,null,null,n),vi._currentValue=o),zl(e,t),st(e,t,l,n),t.child;case 6:return e===null&&Ee&&((e=n=ke)&&(n=Zb(n,t.pendingProps,Wt),n!==null?(t.stateNode=n,pt=t,ke=null,e=!0):e=!1),e||ha(t)),null;case 13:return $h(e,t,n);case 4:return ze(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Wa(t,null,l,n):st(e,t,l,n),t.child;case 11:return zh(e,t,t.type,t.pendingProps,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Ln(t,t.type,l.value),st(e,t,l.children,n),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,pa(t),o=ft(o),l=l(o),t.flags|=1,st(e,t,l,n),t.child;case 14:return jh(e,t,t.type,t.pendingProps,n);case 15:return Vh(e,t,t.type,t.pendingProps,n);case 19:return Ih(e,t,n);case 31:return l=t.pendingProps,n=t.mode,l={mode:l.mode,children:l.children},e===null?(n=jl(l,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=hn(e.child,l),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return qh(e,t,n);case 24:return pa(t),l=ft(Ke),e===null?(o=Ho(),o===null&&(o=Le,c=qo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=n),o=c),t.memoizedState={parent:l,cache:o},Go(t),Ln(t,Ke,o)):((e.lanes&n)!==0&&($o(e,t),Zs(t,null,null,n),Ks()),o=e.memoizedState,c=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ln(t,Ke,l)):(l=c.cache,Ln(t,Ke,l),l!==o.cache&&Vo(t,[Ke],n,!0))),st(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function _n(e){e.flags|=4}function Jh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tp(t)){if(t=kt.current,t!==null&&((xe&4194048)===xe?en!==null:(xe&62914560)!==xe&&(xe&536870912)===0||t!==en))throw Js=ko,Md;e.flags|=8192}}function Vl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Tf():536870912,e.lanes|=t,as|=t)}function ai(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function wb(e,t,n){var l=t.pendingProps;switch(Lo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),yn(Ke),Nn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?_n(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Td())),Ve(t),null;case 26:return n=t.memoizedState,e===null?(_n(t),n!==null?(Ve(t),Jh(t,n)):(Ve(t),t.flags&=-16777217)):n?n!==e.memoizedState?(_n(t),Ve(t),Jh(t,n)):(Ve(t),t.flags&=-16777217):(e.memoizedProps!==l&&_n(t),Ve(t),t.flags&=-16777217),null;case 27:Qi(t),n=me.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&_n(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ve(t),null}e=te.current,Hs(t)?xd(t):(e=Jm(o,l,n),t.stateNode=e,_n(t))}return Ve(t),null;case 5:if(Qi(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&_n(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ve(t),null}if(e=te.current,Hs(t))xd(t);else{switch(o=Zl(me.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?o.createElement(n,{is:l.is}):o.createElement(n)}}e[ct]=t,e[yt]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(lt(e,n,l),n){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&_n(t)}}return Ve(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&_n(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=me.current,Hs(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,o=pt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[ct]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Hm(e.nodeValue,n)),e||ha(t)}else e=Zl(e).createTextNode(l),e[ct]=t,t.stateNode=e}return Ve(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Hs(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[ct]=t}else ks(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else o=Td(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(bn(t),t):(bn(t),null)}if(bn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=l!==null,e=e!==null&&e.memoizedState!==null,n){l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool);var c=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==o&&(l.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Vl(t,t.updateQueue),Ve(t),null;case 4:return Nn(),e===null&&Iu(t.stateNode.containerInfo),Ve(t),null;case 10:return yn(t.type),Ve(t),null;case 19:if(X(Ze),o=t.memoizedState,o===null)return Ve(t),null;if(l=(t.flags&128)!==0,c=o.rendering,c===null)if(l)ai(o,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Dl(e),c!==null){for(t.flags|=128,ai(o,!1),e=c.updateQueue,t.updateQueue=e,Vl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)_d(n,e),n=n.sibling;return Y(Ze,Ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pt()>Hl&&(t.flags|=128,l=!0,ai(o,!1),t.lanes=4194304)}else{if(!l)if(e=Dl(c),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Vl(t,e),ai(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!Ee)return Ve(t),null}else 2*Pt()-o.renderingStartTime>Hl&&n!==536870912&&(t.flags|=128,l=!0,ai(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(e=o.last,e!==null?e.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pt(),t.sibling=null,e=Ze.current,Y(Ze,l?e&1|2:e&1),t):(Ve(t),null);case 22:case 23:return bn(t),Jo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),n=t.updateQueue,n!==null&&Vl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&X(ga),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yn(Ke),Ve(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function xb(e,t){switch(Lo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn(Ke),Nn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Qi(t),null;case 13:if(bn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(Ze),null;case 4:return Nn(),null;case 10:return yn(t.type),null;case 22:case 23:return bn(t),Jo(),e!==null&&X(ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return yn(Ke),null;case 25:return null;default:return null}}function Qh(e,t){switch(Lo(t),t.tag){case 3:yn(Ke),Nn();break;case 26:case 27:case 5:Qi(t);break;case 4:Nn();break;case 13:bn(t);break;case 19:X(Ze);break;case 10:yn(t.type);break;case 22:case 23:bn(t),Jo(),e!==null&&X(ga);break;case 24:yn(Ke)}}function si(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var o=l.next;n=o;do{if((n.tag&e)===e){l=void 0;var c=n.create,h=n.inst;l=c(),h.destroy=l}n=n.next}while(n!==o)}}catch(g){De(t,t.return,g)}}function Hn(e,t,n){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var c=o.next;l=c;do{if((l.tag&e)===e){var h=l.inst,g=h.destroy;if(g!==void 0){h.destroy=void 0,o=t;var v=n,R=g;try{R()}catch(U){De(o,v,U)}}}l=l.next}while(l!==c)}}catch(U){De(t,t.return,U)}}function Kh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{jd(t,n)}catch(l){De(e,e.return,l)}}}function Zh(e,t,n){n.props=va(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){De(e,t,l)}}function ii(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(o){De(e,t,o)}}function tn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(o){De(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){De(e,t,o)}else n.current=null}function Fh(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(o){De(e,e.return,o)}}function _u(e,t,n){try{var l=e.stateNode;Yb(l,e.type,n,t),l[yt]=t}catch(o){De(e,e.return,o)}}function Ph(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qn(e.type)||e.tag===4}function wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kl));else if(l!==4&&(l===27&&Qn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(xu(e,t,n),e=e.sibling;e!==null;)xu(e,t,n),e=e.sibling}function ql(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Qn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ql(e,t,n),e=e.sibling;e!==null;)ql(e,t,n),e=e.sibling}function Wh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);lt(t,l,n),t[ct]=e,t[yt]=n}catch(c){De(e,e.return,c)}}var wn=!1,Ie=!1,Au=!1,em=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Ab(e,t){if(e=e.containerInfo,Qu=nr,e=fd(e),wo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var o=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,g=-1,v=-1,R=0,U=0,q=e,N=null;t:for(;;){for(var M;q!==n||o!==0&&q.nodeType!==3||(g=h+o),q!==c||l!==0&&q.nodeType!==3||(v=h+l),q.nodeType===3&&(h+=q.nodeValue.length),(M=q.firstChild)!==null;)N=q,q=M;for(;;){if(q===e)break t;if(N===n&&++R===o&&(g=h),N===c&&++U===l&&(v=h),(M=q.nextSibling)!==null)break;q=N,N=q.parentNode}q=M}n=g===-1||v===-1?null:{start:g,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},nr=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,o=c.memoizedProps,c=c.memoizedState,l=n.stateNode;try{var re=va(n.type,o,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(re,c),l.__reactInternalSnapshotBeforeUpdate=e}catch(se){De(n,n.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Pu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function tm(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:kn(e,n),l&4&&si(5,n);break;case 1:if(kn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){De(n,n.return,h)}else{var o=va(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){De(n,n.return,h)}}l&64&&Kh(n),l&512&&ii(n,n.return);break;case 3:if(kn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{jd(e,t)}catch(h){De(n,n.return,h)}}break;case 27:t===null&&l&4&&Wh(n);case 26:case 5:kn(e,n),t===null&&l&4&&Fh(n),l&512&&ii(n,n.return);break;case 12:kn(e,n);break;case 13:kn(e,n),l&4&&sm(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Lb.bind(null,n),Fb(e,n))));break;case 22:if(l=n.memoizedState!==null||wn,!l){t=t!==null&&t.memoizedState!==null||Ie,o=wn;var c=Ie;wn=l,(Ie=t)&&!c?Gn(e,n,(n.subtreeFlags&8772)!==0):kn(e,n),wn=o,Ie=c}break;case 30:break;default:kn(e,n)}}function nm(e){var t=e.alternate;t!==null&&(e.alternate=null,nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&no(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,St=!1;function xn(e,t,n){for(n=n.child;n!==null;)am(e,t,n),n=n.sibling}function am(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Es,n)}catch{}switch(n.tag){case 26:Ie||tn(n,t),xn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ie||tn(n,t);var l=je,o=St;Qn(n.type)&&(je=n.stateNode,St=!1),xn(e,t,n),mi(n.stateNode),je=l,St=o;break;case 5:Ie||tn(n,t);case 6:if(l=je,o=St,je=null,xn(e,t,n),je=l,St=o,je!==null)if(St)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(n.stateNode)}catch(c){De(n,t,c)}else try{je.removeChild(n.stateNode)}catch(c){De(n,t,c)}break;case 18:je!==null&&(St?(e=je,Im(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),wi(e)):Im(je,n.stateNode));break;case 4:l=je,o=St,je=n.stateNode.containerInfo,St=!0,xn(e,t,n),je=l,St=o;break;case 0:case 11:case 14:case 15:Ie||Hn(2,n,t),Ie||Hn(4,n,t),xn(e,t,n);break;case 1:Ie||(tn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Zh(n,t,l)),xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:Ie=(l=Ie)||n.memoizedState!==null,xn(e,t,n),Ie=l;break;default:xn(e,t,n)}}function sm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wi(e)}catch(n){De(t,t.return,n)}}function Tb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new em),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new em),t;default:throw Error(i(435,e.tag))}}function Tu(e,t){var n=Tb(e);t.forEach(function(l){var o=Ub.bind(null,e,l);n.has(l)||(n.add(l),l.then(o,o))})}function Ot(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var o=n[l],c=e,h=t,g=h;e:for(;g!==null;){switch(g.tag){case 27:if(Qn(g.type)){je=g.stateNode,St=!1;break e}break;case 5:je=g.stateNode,St=!1;break e;case 3:case 4:je=g.stateNode.containerInfo,St=!0;break e}g=g.return}if(je===null)throw Error(i(160));am(c,h,o),je=null,St=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)im(t,e),t=t.sibling}var Jt=null;function im(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),Rt(e),l&4&&(Hn(3,e,e.return),si(3,e),Hn(5,e,e.return));break;case 1:Ot(t,e),Rt(e),l&512&&(Ie||n===null||tn(n,n.return)),l&64&&wn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var o=Jt;if(Ot(t,e),Rt(e),l&512&&(Ie||n===null||tn(n,n.return)),l&4){var c=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Ns]||c[ct]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(l),o.head.insertBefore(c,o.querySelector("head > title"))),lt(c,l,n),c[ct]=e,We(c),l=c;break e;case"link":var h=Wm("link","href",o).get(l+(n.href||""));if(h){for(var g=0;g<h.length;g++)if(c=h[g],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(g,1);break t}}c=o.createElement(l),lt(c,l,n),o.head.appendChild(c);break;case"meta":if(h=Wm("meta","content",o).get(l+(n.content||""))){for(g=0;g<h.length;g++)if(c=h[g],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(g,1);break t}}c=o.createElement(l),lt(c,l,n),o.head.appendChild(c);break;default:throw Error(i(468,l))}c[ct]=e,We(c),l=c}e.stateNode=l}else ep(o,e.type,e.stateNode);else e.stateNode=Pm(o,l,e.memoizedProps);else c!==l?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,l===null?ep(o,e.type,e.stateNode):Pm(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&_u(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ot(t,e),Rt(e),l&512&&(Ie||n===null||tn(n,n.return)),n!==null&&l&4&&_u(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ot(t,e),Rt(e),l&512&&(Ie||n===null||tn(n,n.return)),e.flags&32){o=e.stateNode;try{za(o,"")}catch(M){De(e,e.return,M)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,_u(e,o,n!==null?n.memoizedProps:o)),l&1024&&(Au=!0);break;case 6:if(Ot(t,e),Rt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(M){De(e,e.return,M)}}break;case 3:if(Wl=null,o=Jt,Jt=Fl(t.containerInfo),Ot(t,e),Jt=o,Rt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{wi(t.containerInfo)}catch(M){De(e,e.return,M)}Au&&(Au=!1,lm(e));break;case 4:l=Jt,Jt=Fl(e.stateNode.containerInfo),Ot(t,e),Rt(e),Jt=l;break;case 12:Ot(t,e),Rt(e);break;case 13:Ot(t,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Cu=Pt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tu(e,l)));break;case 22:o=e.memoizedState!==null;var v=n!==null&&n.memoizedState!==null,R=wn,U=Ie;if(wn=R||o,Ie=U||v,Ot(t,e),Ie=U,wn=R,Rt(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||v||wn||Ie||ba(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){v=n=t;try{if(c=v.stateNode,o)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{g=v.stateNode;var q=v.memoizedProps.style,N=q!=null&&q.hasOwnProperty("display")?q.display:null;g.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(M){De(v,v.return,M)}}}else if(t.tag===6){if(n===null){v=t;try{v.stateNode.nodeValue=o?"":v.memoizedProps}catch(M){De(v,v.return,M)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Tu(e,n))));break;case 19:Ot(t,e),Rt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tu(e,l)));break;case 30:break;case 21:break;default:Ot(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Ph(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode,c=wu(e);ql(e,c,o);break;case 5:var h=n.stateNode;n.flags&32&&(za(h,""),n.flags&=-33);var g=wu(e);ql(e,g,h);break;case 3:case 4:var v=n.stateNode.containerInfo,R=wu(e);xu(e,R,v);break;default:throw Error(i(161))}}catch(U){De(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;lm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function kn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)tm(e,t.alternate,t),t=t.sibling}function ba(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hn(4,t,t.return),ba(t);break;case 1:tn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Zh(t,t.return,n),ba(t);break;case 27:mi(t.stateNode);case 26:case 5:tn(t,t.return),ba(t);break;case 22:t.memoizedState===null&&ba(t);break;case 30:ba(t);break;default:ba(t)}e=e.sibling}}function Gn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:Gn(o,c,n),si(4,c);break;case 1:if(Gn(o,c,n),l=c,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){De(l,l.return,R)}if(l=c,o=l.updateQueue,o!==null){var g=l.stateNode;try{var v=o.shared.hiddenCallbacks;if(v!==null)for(o.shared.hiddenCallbacks=null,o=0;o<v.length;o++)zd(v[o],g)}catch(R){De(l,l.return,R)}}n&&h&64&&Kh(c),ii(c,c.return);break;case 27:Wh(c);case 26:case 5:Gn(o,c,n),n&&l===null&&h&4&&Fh(c),ii(c,c.return);break;case 12:Gn(o,c,n);break;case 13:Gn(o,c,n),n&&h&4&&sm(o,c);break;case 22:c.memoizedState===null&&Gn(o,c,n),ii(c,c.return);break;case 30:break;default:Gn(o,c,n)}t=t.sibling}}function Eu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ys(n))}function Ou(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ys(e))}function nn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rm(e,t,n,l),t=t.sibling}function rm(e,t,n,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:nn(e,t,n,l),o&2048&&si(9,t);break;case 1:nn(e,t,n,l);break;case 3:nn(e,t,n,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ys(e)));break;case 12:if(o&2048){nn(e,t,n,l),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,g=c.onPostCommit;typeof g=="function"&&g(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){De(t,t.return,v)}}else nn(e,t,n,l);break;case 13:nn(e,t,n,l);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?nn(e,t,n,l):li(e,t):c._visibility&2?nn(e,t,n,l):(c._visibility|=2,es(e,t,n,l,(t.subtreeFlags&10256)!==0)),o&2048&&Eu(h,t);break;case 24:nn(e,t,n,l),o&2048&&Ou(t.alternate,t);break;default:nn(e,t,n,l)}}function es(e,t,n,l,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,h=t,g=n,v=l,R=h.flags;switch(h.tag){case 0:case 11:case 15:es(c,h,g,v,o),si(8,h);break;case 23:break;case 22:var U=h.stateNode;h.memoizedState!==null?U._visibility&2?es(c,h,g,v,o):li(c,h):(U._visibility|=2,es(c,h,g,v,o)),o&&R&2048&&Eu(h.alternate,h);break;case 24:es(c,h,g,v,o),o&&R&2048&&Ou(h.alternate,h);break;default:es(c,h,g,v,o)}t=t.sibling}}function li(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,o=l.flags;switch(l.tag){case 22:li(n,l),o&2048&&Eu(l.alternate,l);break;case 24:li(n,l),o&2048&&Ou(l.alternate,l);break;default:li(n,l)}t=t.sibling}}var ri=8192;function ts(e){if(e.subtreeFlags&ri)for(e=e.child;e!==null;)om(e),e=e.sibling}function om(e){switch(e.tag){case 26:ts(e),e.flags&ri&&e.memoizedState!==null&&c0(Jt,e.memoizedState,e.memoizedProps);break;case 5:ts(e);break;case 3:case 4:var t=Jt;Jt=Fl(e.stateNode.containerInfo),ts(e),Jt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ri,ri=16777216,ts(e),ri=t):ts(e));break;default:ts(e)}}function um(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];tt=l,fm(l,e)}um(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cm(e),e=e.sibling}function cm(e){switch(e.tag){case 0:case 11:case 15:oi(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:oi(e);break;case 12:oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bl(e)):oi(e);break;default:oi(e)}}function Bl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];tt=l,fm(l,e)}um(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hn(8,t,t.return),Bl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Bl(t));break;default:Bl(t)}e=e.sibling}}function fm(e,t){for(;tt!==null;){var n=tt;switch(n.tag){case 0:case 11:case 15:Hn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ys(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,tt=l;else e:for(n=e;tt!==null;){l=tt;var o=l.sibling,c=l.return;if(nm(l),l===n){tt=null;break e}if(o!==null){o.return=c,tt=o;break e}tt=c}}}var Eb={getCacheForType:function(e){var t=ft(Ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Ob=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Le=null,ve=null,xe=0,Re=0,Nt=null,$n=!1,ns=!1,Ru=!1,An=0,Ge=0,Yn=0,Sa=0,Nu=0,Gt=0,as=0,ui=null,_t=null,Mu=!1,Cu=0,Hl=1/0,kl=null,In=null,it=0,Xn=null,ss=null,is=0,Du=0,Lu=null,dm=null,ci=0,Uu=null;function Mt(){if((Oe&2)!==0&&xe!==0)return xe&-xe;if(L.T!==null){var e=Xa;return e!==0?e:ku()}return Rf()}function hm(){Gt===0&&(Gt=(xe&536870912)===0||Ee?Af():536870912);var e=kt.current;return e!==null&&(e.flags|=32),Gt}function Ct(e,t,n){(e===Le&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(ls(e,0),Jn(e,xe,Gt,!1)),Rs(e,n),((Oe&2)===0||e!==Le)&&(e===Le&&((Oe&2)===0&&(Sa|=n),Ge===4&&Jn(e,xe,Gt,!1)),an(e))}function mm(e,t,n){if((Oe&6)!==0)throw Error(i(327));var l=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Os(e,t),o=l?Mb(e,t):Vu(e,t,!0),c=l;do{if(o===0){ns&&!l&&Jn(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!Rb(n)){o=Vu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var g=e;o=ui;var v=g.current.memoizedState.isDehydrated;if(v&&(ls(g,h).flags|=256),h=Vu(g,h,!1),h!==2){if(Ru&&!v){g.errorRecoveryDisabledLanes|=c,Sa|=c,o=4;break e}c=_t,_t=o,c!==null&&(_t===null?_t=c:_t.push.apply(_t,c))}o=h}if(c=!1,o!==2)continue}}if(o===1){ls(e,0),Jn(e,t,0,!0);break}e:{switch(l=e,c=o,c){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Jn(l,t,Gt,!$n);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=Cu+300-Pt(),10<o)){if(Jn(l,t,Gt,!$n),Pi(l,0,!0)!==0)break e;l.timeoutHandle=$m(pm.bind(null,l,n,_t,kl,Mu,t,Gt,Sa,as,$n,c,2,-0,0),o);break e}pm(l,n,_t,kl,Mu,t,Gt,Sa,as,$n,c,0,-0,0)}}break}while(!0);an(e)}function pm(e,t,n,l,o,c,h,g,v,R,U,q,N,M){if(e.timeoutHandle=-1,q=t.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(yi={stylesheets:null,count:0,unsuspend:u0},om(t),q=f0(),q!==null)){e.cancelPendingCommit=q(wm.bind(null,e,t,c,n,l,o,h,g,v,U,1,N,M)),Jn(e,c,h,!R);return}wm(e,t,c,n,l,o,h,g,v)}function Rb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var o=n[l],c=o.getSnapshot;o=o.value;try{if(!Tt(c(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t,n,l){t&=~Nu,t&=~Sa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var c=31-At(o),h=1<<c;l[c]=-1,o&=~h}n!==0&&Ef(e,n,t)}function Gl(){return(Oe&6)===0?(fi(0),!1):!0}function zu(){if(ve!==null){if(Re===0)var e=ve.return;else e=ve,gn=ma=null,Po(e),Pa=null,ti=0,e=ve;for(;e!==null;)Qh(e.alternate,e),e=e.return;ve=null}}function ls(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Xb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),zu(),Le=e,ve=n=hn(e.current,null),xe=t,Re=0,Nt=null,$n=!1,ns=Os(e,t),Ru=!1,as=Gt=Nu=Sa=Yn=Ge=0,_t=ui=null,Mu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-At(l),c=1<<o;t|=e[o],l&=~c}return An=t,cl(),n}function gm(e,t){ge=null,L.H=Nl,t===Xs||t===bl?(t=Ld(),Re=3):t===Md?(t=Ld(),Re=4):Re=t===Uh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Nt=t,ve===null&&(Ge=1,Ul(e,Vt(t,e.current)))}function ym(){var e=L.H;return L.H=Nl,e===null?Nl:e}function vm(){var e=L.A;return L.A=Eb,e}function ju(){Ge=4,$n||(xe&4194048)!==xe&&kt.current!==null||(ns=!0),(Yn&134217727)===0&&(Sa&134217727)===0||Le===null||Jn(Le,xe,Gt,!1)}function Vu(e,t,n){var l=Oe;Oe|=2;var o=ym(),c=vm();(Le!==e||xe!==t)&&(kl=null,ls(e,t)),t=!1;var h=Ge;e:do try{if(Re!==0&&ve!==null){var g=ve,v=Nt;switch(Re){case 8:zu(),h=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(t=!0);var R=Re;if(Re=0,Nt=null,rs(e,g,v,R),n&&ns){h=0;break e}break;default:R=Re,Re=0,Nt=null,rs(e,g,v,R)}}Nb(),h=Ge;break}catch(U){gm(e,U)}while(!0);return t&&e.shellSuspendCounter++,gn=ma=null,Oe=l,L.H=o,L.A=c,ve===null&&(Le=null,xe=0,cl()),h}function Nb(){for(;ve!==null;)bm(ve)}function Mb(e,t){var n=Oe;Oe|=2;var l=ym(),o=vm();Le!==e||xe!==t?(kl=null,Hl=Pt()+500,ls(e,t)):ns=Os(e,t);e:do try{if(Re!==0&&ve!==null){t=ve;var c=Nt;t:switch(Re){case 1:Re=0,Nt=null,rs(e,t,c,1);break;case 2:case 9:if(Cd(c)){Re=0,Nt=null,Sm(t);break}t=function(){Re!==2&&Re!==9||Le!==e||(Re=7),an(e)},c.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Cd(c)?(Re=0,Nt=null,Sm(t)):(Re=0,Nt=null,rs(e,t,c,7));break;case 5:var h=null;switch(ve.tag){case 26:h=ve.memoizedState;case 5:case 27:var g=ve;if(!h||tp(h)){Re=0,Nt=null;var v=g.sibling;if(v!==null)ve=v;else{var R=g.return;R!==null?(ve=R,$l(R)):ve=null}break t}}Re=0,Nt=null,rs(e,t,c,5);break;case 6:Re=0,Nt=null,rs(e,t,c,6);break;case 8:zu(),Ge=6;break e;default:throw Error(i(462))}}Cb();break}catch(U){gm(e,U)}while(!0);return gn=ma=null,L.H=l,L.A=o,Oe=n,ve!==null?0:(Le=null,xe=0,cl(),Ge)}function Cb(){for(;ve!==null&&!Wy();)bm(ve)}function bm(e){var t=Xh(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?$l(e):ve=t}function Sm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hh(n,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Hh(n,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:Po(t);default:Qh(n,t),t=ve=_d(t,An),t=Xh(n,t,An)}e.memoizedProps=e.pendingProps,t===null?$l(e):ve=t}function rs(e,t,n,l){gn=ma=null,Po(t),Pa=null,ti=0;var o=t.return;try{if(Sb(e,o,t,n,xe)){Ge=1,Ul(e,Vt(n,e.current)),ve=null;return}}catch(c){if(o!==null)throw ve=o,c;Ge=1,Ul(e,Vt(n,e.current)),ve=null;return}t.flags&32768?(Ee||l===1?e=!0:ns||(xe&536870912)!==0?e=!1:($n=e=!0,(l===2||l===9||l===3||l===6)&&(l=kt.current,l!==null&&l.tag===13&&(l.flags|=16384))),_m(t,e)):$l(t)}function $l(e){var t=e;do{if((t.flags&32768)!==0){_m(t,$n);return}e=t.return;var n=wb(t.alternate,t,An);if(n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Ge===0&&(Ge=5)}function _m(e,t){do{var n=xb(e.alternate,e);if(n!==null){n.flags&=32767,ve=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=n}while(e!==null);Ge=6,ve=null}function wm(e,t,n,l,o,c,h,g,v){e.cancelPendingCommit=null;do Yl();while(it!==0);if((Oe&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(c=t.lanes|t.childLanes,c|=Oo,uv(e,n,c,h,g,v),e===Le&&(ve=Le=null,xe=0),ss=t,Xn=e,is=n,Du=c,Lu=o,dm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zb(Ki,function(){return Om(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,o=$.p,$.p=2,h=Oe,Oe|=4;try{Ab(e,t,n)}finally{Oe=h,$.p=o,L.T=l}}it=1,xm(),Am(),Tm()}}function xm(){if(it===1){it=0;var e=Xn,t=ss,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var l=$.p;$.p=2;var o=Oe;Oe|=4;try{im(t,e);var c=Ku,h=fd(e.containerInfo),g=c.focusedElem,v=c.selectionRange;if(h!==g&&g&&g.ownerDocument&&cd(g.ownerDocument.documentElement,g)){if(v!==null&&wo(g)){var R=v.start,U=v.end;if(U===void 0&&(U=R),"selectionStart"in g)g.selectionStart=R,g.selectionEnd=Math.min(U,g.value.length);else{var q=g.ownerDocument||document,N=q&&q.defaultView||window;if(N.getSelection){var M=N.getSelection(),re=g.textContent.length,se=Math.min(v.start,re),Ce=v.end===void 0?se:Math.min(v.end,re);!M.extend&&se>Ce&&(h=Ce,Ce=se,se=h);var A=ud(g,se),w=ud(g,Ce);if(A&&w&&(M.rangeCount!==1||M.anchorNode!==A.node||M.anchorOffset!==A.offset||M.focusNode!==w.node||M.focusOffset!==w.offset)){var E=q.createRange();E.setStart(A.node,A.offset),M.removeAllRanges(),se>Ce?(M.addRange(E),M.extend(w.node,w.offset)):(E.setEnd(w.node,w.offset),M.addRange(E))}}}}for(q=[],M=g;M=M.parentNode;)M.nodeType===1&&q.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<q.length;g++){var z=q[g];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}nr=!!Qu,Ku=Qu=null}finally{Oe=o,$.p=l,L.T=n}}e.current=t,it=2}}function Am(){if(it===2){it=0;var e=Xn,t=ss,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var l=$.p;$.p=2;var o=Oe;Oe|=4;try{tm(e,t.alternate,t)}finally{Oe=o,$.p=l,L.T=n}}it=3}}function Tm(){if(it===4||it===3){it=0,ev();var e=Xn,t=ss,n=is,l=dm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,ss=Xn=null,Em(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(In=null),eo(n),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Es,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=L.T,o=$.p,$.p=2,L.T=null;try{for(var c=e.onRecoverableError,h=0;h<l.length;h++){var g=l[h];c(g.value,{componentStack:g.stack})}}finally{L.T=t,$.p=o}}(is&3)!==0&&Yl(),an(e),o=e.pendingLanes,(n&4194090)!==0&&(o&42)!==0?e===Uu?ci++:(ci=0,Uu=e):ci=0,fi(0)}}function Em(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ys(t)))}function Yl(e){return xm(),Am(),Tm(),Om()}function Om(){if(it!==5)return!1;var e=Xn,t=Du;Du=0;var n=eo(is),l=L.T,o=$.p;try{$.p=32>n?32:n,L.T=null,n=Lu,Lu=null;var c=Xn,h=is;if(it=0,ss=Xn=null,is=0,(Oe&6)!==0)throw Error(i(331));var g=Oe;if(Oe|=4,cm(c.current),rm(c,c.current,h,n),Oe=g,fi(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Es,c)}catch{}return!0}finally{$.p=o,L.T=l,Em(e,t)}}function Rm(e,t,n){t=Vt(n,t),t=du(e.stateNode,t,2),e=jn(e,t,2),e!==null&&(Rs(e,2),an(e))}function De(e,t,n){if(e.tag===3)Rm(e,e,n);else for(;t!==null;){if(t.tag===3){Rm(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(In===null||!In.has(l))){e=Vt(n,e),n=Dh(2),l=jn(t,n,2),l!==null&&(Lh(n,l,t,e),Rs(l,2),an(l));break}}t=t.return}}function qu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Ob;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(n)||(Ru=!0,o.add(n),e=Db.bind(null,e,t,n),t.then(e,e))}function Db(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Le===e&&(xe&n)===n&&(Ge===4||Ge===3&&(xe&62914560)===xe&&300>Pt()-Cu?(Oe&2)===0&&ls(e,0):Nu|=n,as===xe&&(as=0)),an(e)}function Nm(e,t){t===0&&(t=Tf()),e=Ga(e,t),e!==null&&(Rs(e,t),an(e))}function Lb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nm(e,n)}function Ub(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Nm(e,n)}function zb(e,t){return Zr(e,t)}var Il=null,os=null,Bu=!1,Xl=!1,Hu=!1,_a=0;function an(e){e!==os&&e.next===null&&(os===null?Il=os=e:os=os.next=e),Xl=!0,Bu||(Bu=!0,Vb())}function fi(e,t){if(!Hu&&Xl){Hu=!0;do for(var n=!1,l=Il;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var c=0;else{var h=l.suspendedLanes,g=l.pingedLanes;c=(1<<31-At(42|e)+1)-1,c&=o&~(h&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,Lm(l,c))}else c=xe,c=Pi(l,l===Le?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||Os(l,c)||(n=!0,Lm(l,c));l=l.next}while(n);Hu=!1}}function jb(){Mm()}function Mm(){Xl=Bu=!1;var e=0;_a!==0&&(Ib()&&(e=_a),_a=0);for(var t=Pt(),n=null,l=Il;l!==null;){var o=l.next,c=Cm(l,t);c===0?(l.next=null,n===null?Il=o:n.next=o,o===null&&(os=n)):(n=l,(e!==0||(c&3)!==0)&&(Xl=!0)),l=o}fi(e)}function Cm(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-At(c),g=1<<h,v=o[h];v===-1?((g&n)===0||(g&l)!==0)&&(o[h]=ov(g,t)):v<=t&&(e.expiredLanes|=g),c&=~g}if(t=Le,n=xe,n=Pi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Fr(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Os(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Fr(l),eo(n)){case 2:case 8:n=wf;break;case 32:n=Ki;break;case 268435456:n=xf;break;default:n=Ki}return l=Dm.bind(null,e),n=Zr(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Fr(l),e.callbackPriority=2,e.callbackNode=null,2}function Dm(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Yl()&&e.callbackNode!==n)return null;var l=xe;return l=Pi(e,e===Le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(mm(e,l,t),Cm(e,Pt()),e.callbackNode!=null&&e.callbackNode===n?Dm.bind(null,e):null)}function Lm(e,t){if(Yl())return null;mm(e,t,!0)}function Vb(){Jb(function(){(Oe&6)!==0?Zr(_f,jb):Mm()})}function ku(){return _a===0&&(_a=Af()),_a}function Um(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:al(""+e)}function zm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function qb(e,t,n,l,o){if(t==="submit"&&n&&n.stateNode===o){var c=Um((o[yt]||null).action),h=l.submitter;h&&(t=(t=h[yt]||null)?Um(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var g=new rl("action","action",null,l,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var v=h?zm(o,h):new FormData(o);ru(n,{pending:!0,data:v,method:o.method,action:c},null,v)}}else typeof c=="function"&&(g.preventDefault(),v=h?zm(o,h):new FormData(o),ru(n,{pending:!0,data:v,method:o.method,action:c},c,v))},currentTarget:o}]})}}for(var Gu=0;Gu<Eo.length;Gu++){var $u=Eo[Gu],Bb=$u.toLowerCase(),Hb=$u[0].toUpperCase()+$u.slice(1);Xt(Bb,"on"+Hb)}Xt(md,"onAnimationEnd"),Xt(pd,"onAnimationIteration"),Xt(gd,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(ab,"onTransitionRun"),Xt(sb,"onTransitionStart"),Xt(ib,"onTransitionCancel"),Xt(yd,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(di));function jm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],o=l.event;l=l.listeners;e:{var c=void 0;if(t)for(var h=l.length-1;0<=h;h--){var g=l[h],v=g.instance,R=g.currentTarget;if(g=g.listener,v!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=R;try{c(o)}catch(U){Ll(U)}o.currentTarget=null,c=v}else for(h=0;h<l.length;h++){if(g=l[h],v=g.instance,R=g.currentTarget,g=g.listener,v!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=R;try{c(o)}catch(U){Ll(U)}o.currentTarget=null,c=v}}}}function be(e,t){var n=t[to];n===void 0&&(n=t[to]=new Set);var l=e+"__bubble";n.has(l)||(Vm(t,e,2,!1),n.add(l))}function Yu(e,t,n){var l=0;t&&(l|=4),Vm(n,e,l,t)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Iu(e){if(!e[Jl]){e[Jl]=!0,Mf.forEach(function(n){n!=="selectionchange"&&(kb.has(n)||Yu(n,!1,e),Yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jl]||(t[Jl]=!0,Yu("selectionchange",!1,t))}}function Vm(e,t,n,l){switch(rp(t)){case 2:var o=m0;break;case 8:o=p0;break;default:o=ic}n=o.bind(null,t,n,e),o=void 0,!ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Xu(e,t,n,l,o){var c=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var g=l.stateNode.containerInfo;if(g===o)break;if(h===4)for(h=l.return;h!==null;){var v=h.tag;if((v===3||v===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;g!==null;){if(h=Na(g),h===null)return;if(v=h.tag,v===5||v===6||v===26||v===27){l=c=h;continue e}g=g.parentNode}}l=l.return}Yf(function(){var R=c,U=co(n),q=[];e:{var N=vd.get(e);if(N!==void 0){var M=rl,re=e;switch(e){case"keypress":if(il(n)===0)break e;case"keydown":case"keyup":M=zv;break;case"focusin":re="focus",M=yo;break;case"focusout":re="blur",M=yo;break;case"beforeblur":case"afterblur":M=yo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=xv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=qv;break;case md:case pd:case gd:M=Ev;break;case yd:M=Hv;break;case"scroll":case"scrollend":M=_v;break;case"wheel":M=Gv;break;case"copy":case"cut":case"paste":M=Rv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Kf;break;case"toggle":case"beforetoggle":M=Yv}var se=(t&4)!==0,Ce=!se&&(e==="scroll"||e==="scrollend"),A=se?N!==null?N+"Capture":null:N;se=[];for(var w=R,E;w!==null;){var z=w;if(E=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||E===null||A===null||(z=Cs(w,A),z!=null&&se.push(hi(w,z,E))),Ce)break;w=w.return}0<se.length&&(N=new M(N,re,null,n,U),q.push({event:N,listeners:se}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",N&&n!==uo&&(re=n.relatedTarget||n.fromElement)&&(Na(re)||re[Ra]))break e;if((M||N)&&(N=U.window===U?U:(N=U.ownerDocument)?N.defaultView||N.parentWindow:window,M?(re=n.relatedTarget||n.toElement,M=R,re=re?Na(re):null,re!==null&&(Ce=f(re),se=re.tag,re!==Ce||se!==5&&se!==27&&se!==6)&&(re=null)):(M=null,re=R),M!==re)){if(se=Jf,z="onMouseLeave",A="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(se=Kf,z="onPointerLeave",A="onPointerEnter",w="pointer"),Ce=M==null?N:Ms(M),E=re==null?N:Ms(re),N=new se(z,w+"leave",M,n,U),N.target=Ce,N.relatedTarget=E,z=null,Na(U)===R&&(se=new se(A,w+"enter",re,n,U),se.target=E,se.relatedTarget=Ce,z=se),Ce=z,M&&re)t:{for(se=M,A=re,w=0,E=se;E;E=us(E))w++;for(E=0,z=A;z;z=us(z))E++;for(;0<w-E;)se=us(se),w--;for(;0<E-w;)A=us(A),E--;for(;w--;){if(se===A||A!==null&&se===A.alternate)break t;se=us(se),A=us(A)}se=null}else se=null;M!==null&&qm(q,N,M,se,!1),re!==null&&Ce!==null&&qm(q,Ce,re,se,!0)}}e:{if(N=R?Ms(R):window,M=N.nodeName&&N.nodeName.toLowerCase(),M==="select"||M==="input"&&N.type==="file")var K=ad;else if(td(N))if(sd)K=eb;else{K=Pv;var ye=Fv}else M=N.nodeName,!M||M.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?R&&oo(R.elementType)&&(K=ad):K=Wv;if(K&&(K=K(e,R))){nd(q,K,n,U);break e}ye&&ye(e,N,R),e==="focusout"&&R&&N.type==="number"&&R.memoizedProps.value!=null&&ro(N,"number",N.value)}switch(ye=R?Ms(R):window,e){case"focusin":(td(ye)||ye.contentEditable==="true")&&(Ba=ye,xo=R,Bs=null);break;case"focusout":Bs=xo=Ba=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,dd(q,n,U);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":dd(q,n,U)}var P;if(bo)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else qa?Wf(e,n)&&(ie="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ie="onCompositionStart");ie&&(Zf&&n.locale!=="ko"&&(qa||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&qa&&(P=If()):(Dn=U,mo="value"in Dn?Dn.value:Dn.textContent,qa=!0)),ye=Ql(R,ie),0<ye.length&&(ie=new Qf(ie,e,null,n,U),q.push({event:ie,listeners:ye}),P?ie.data=P:(P=ed(n),P!==null&&(ie.data=P)))),(P=Xv?Jv(e,n):Qv(e,n))&&(ie=Ql(R,"onBeforeInput"),0<ie.length&&(ye=new Qf("onBeforeInput","beforeinput",null,n,U),q.push({event:ye,listeners:ie}),ye.data=P)),qb(q,e,R,n,U)}jm(q,t)})}function hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ql(e,t){for(var n=t+"Capture",l=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Cs(e,n),o!=null&&l.unshift(hi(e,o,c)),o=Cs(e,t),o!=null&&l.push(hi(e,o,c))),e.tag===3)return l;e=e.return}return[]}function us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qm(e,t,n,l,o){for(var c=t._reactName,h=[];n!==null&&n!==l;){var g=n,v=g.alternate,R=g.stateNode;if(g=g.tag,v!==null&&v===l)break;g!==5&&g!==26&&g!==27||R===null||(v=R,o?(R=Cs(n,c),R!=null&&h.unshift(hi(n,R,v))):o||(R=Cs(n,c),R!=null&&h.push(hi(n,R,v)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Gb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function Bm(e){return(typeof e=="string"?e:""+e).replace(Gb,`
`).replace($b,"")}function Hm(e,t){return t=Bm(t),Bm(e)===t}function Kl(){}function Me(e,t,n,l,o,c){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||za(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&za(e,""+l);break;case"className":el(e,"class",l);break;case"tabIndex":el(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":el(e,n,l);break;case"style":Gf(e,l,c);break;case"data":if(t!=="object"){el(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=al(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&Me(e,t,"name",o.name,o,null),Me(e,t,"formEncType",o.formEncType,o,null),Me(e,t,"formMethod",o.formMethod,o,null),Me(e,t,"formTarget",o.formTarget,o,null)):(Me(e,t,"encType",o.encType,o,null),Me(e,t,"method",o.method,o,null),Me(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=al(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Kl);break;case"onScroll":l!=null&&be("scroll",e);break;case"onScrollEnd":l!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=al(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":be("beforetoggle",e),be("toggle",e),Wi(e,"popover",l);break;case"xlinkActuate":fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":fn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":fn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":fn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":fn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=bv.get(n)||n,Wi(e,n,l))}}function Ju(e,t,n,l,o,c){switch(n){case"style":Gf(e,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?za(e,l):(typeof l=="number"||typeof l=="bigint")&&za(e,""+l);break;case"onScroll":l!=null&&be("scroll",e);break;case"onScrollEnd":l!=null&&be("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Kl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),c=e[yt]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof l=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,o);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Wi(e,n,l)}}}function lt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var l=!1,o=!1,c;for(c in n)if(n.hasOwnProperty(c)){var h=n[c];if(h!=null)switch(c){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Me(e,t,c,h,n,null)}}o&&Me(e,t,"srcSet",n.srcSet,n,null),l&&Me(e,t,"src",n.src,n,null);return;case"input":be("invalid",e);var g=c=h=o=null,v=null,R=null;for(l in n)if(n.hasOwnProperty(l)){var U=n[l];if(U!=null)switch(l){case"name":o=U;break;case"type":h=U;break;case"checked":v=U;break;case"defaultChecked":R=U;break;case"value":c=U;break;case"defaultValue":g=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,t));break;default:Me(e,t,l,U,n,null)}}qf(e,c,g,v,R,h,o,!1),tl(e);return;case"select":be("invalid",e),l=h=c=null;for(o in n)if(n.hasOwnProperty(o)&&(g=n[o],g!=null))switch(o){case"value":c=g;break;case"defaultValue":h=g;break;case"multiple":l=g;default:Me(e,t,o,g,n,null)}t=c,n=h,e.multiple=!!l,t!=null?Ua(e,!!l,t,!1):n!=null&&Ua(e,!!l,n,!0);return;case"textarea":be("invalid",e),c=o=l=null;for(h in n)if(n.hasOwnProperty(h)&&(g=n[h],g!=null))switch(h){case"value":l=g;break;case"defaultValue":o=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:Me(e,t,h,g,n,null)}Hf(e,l,o,c),tl(e);return;case"option":for(v in n)if(n.hasOwnProperty(v)&&(l=n[v],l!=null))switch(v){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(e,t,v,l,n,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(l=0;l<di.length;l++)be(di[l],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(l=n[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Me(e,t,R,l,n,null)}return;default:if(oo(t)){for(U in n)n.hasOwnProperty(U)&&(l=n[U],l!==void 0&&Ju(e,t,U,l,n,void 0));return}}for(g in n)n.hasOwnProperty(g)&&(l=n[g],l!=null&&Me(e,t,g,l,n,null))}function Yb(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,h=null,g=null,v=null,R=null,U=null;for(M in n){var q=n[M];if(n.hasOwnProperty(M)&&q!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":v=q;default:l.hasOwnProperty(M)||Me(e,t,M,null,l,q)}}for(var N in l){var M=l[N];if(q=n[N],l.hasOwnProperty(N)&&(M!=null||q!=null))switch(N){case"type":c=M;break;case"name":o=M;break;case"checked":R=M;break;case"defaultChecked":U=M;break;case"value":h=M;break;case"defaultValue":g=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,t));break;default:M!==q&&Me(e,t,N,M,l,q)}}lo(e,h,g,v,R,U,c,o);return;case"select":M=h=g=N=null;for(c in n)if(v=n[c],n.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":M=v;default:l.hasOwnProperty(c)||Me(e,t,c,null,l,v)}for(o in l)if(c=l[o],v=n[o],l.hasOwnProperty(o)&&(c!=null||v!=null))switch(o){case"value":N=c;break;case"defaultValue":g=c;break;case"multiple":h=c;default:c!==v&&Me(e,t,o,c,l,v)}t=g,n=h,l=M,N!=null?Ua(e,!!n,N,!1):!!l!=!!n&&(t!=null?Ua(e,!!n,t,!0):Ua(e,!!n,n?[]:"",!1));return;case"textarea":M=N=null;for(g in n)if(o=n[g],n.hasOwnProperty(g)&&o!=null&&!l.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Me(e,t,g,null,l,o)}for(h in l)if(o=l[h],c=n[h],l.hasOwnProperty(h)&&(o!=null||c!=null))switch(h){case"value":N=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==c&&Me(e,t,h,o,l,c)}Bf(e,N,M);return;case"option":for(var re in n)if(N=n[re],n.hasOwnProperty(re)&&N!=null&&!l.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Me(e,t,re,null,l,N)}for(v in l)if(N=l[v],M=n[v],l.hasOwnProperty(v)&&N!==M&&(N!=null||M!=null))switch(v){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Me(e,t,v,N,l,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in n)N=n[se],n.hasOwnProperty(se)&&N!=null&&!l.hasOwnProperty(se)&&Me(e,t,se,null,l,N);for(R in l)if(N=l[R],M=n[R],l.hasOwnProperty(R)&&N!==M&&(N!=null||M!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(137,t));break;default:Me(e,t,R,N,l,M)}return;default:if(oo(t)){for(var Ce in n)N=n[Ce],n.hasOwnProperty(Ce)&&N!==void 0&&!l.hasOwnProperty(Ce)&&Ju(e,t,Ce,void 0,l,N);for(U in l)N=l[U],M=n[U],!l.hasOwnProperty(U)||N===M||N===void 0&&M===void 0||Ju(e,t,U,N,l,M);return}}for(var A in n)N=n[A],n.hasOwnProperty(A)&&N!=null&&!l.hasOwnProperty(A)&&Me(e,t,A,null,l,N);for(q in l)N=l[q],M=n[q],!l.hasOwnProperty(q)||N===M||N==null&&M==null||Me(e,t,q,N,l,M)}var Qu=null,Ku=null;function Zl(e){return e.nodeType===9?e:e.ownerDocument}function km(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fu=null;function Ib(){var e=window.event;return e&&e.type==="popstate"?e===Fu?!1:(Fu=e,!0):(Fu=null,!1)}var $m=typeof setTimeout=="function"?setTimeout:void 0,Xb=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,Jb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(e){return Ym.resolve(null).then(e).catch(Qb)}:$m;function Qb(e){setTimeout(function(){throw e})}function Qn(e){return e==="head"}function Im(e,t){var n=t,l=0,o=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(0<l&&8>l){n=l;var h=e.ownerDocument;if(n&1&&mi(h.documentElement),n&2&&mi(h.body),n&4)for(n=h.head,mi(n),h=n.firstChild;h;){var g=h.nextSibling,v=h.nodeName;h[Ns]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=g}}if(o===0){e.removeChild(c),wi(t);return}o--}else n==="$"||n==="$?"||n==="$!"?o++:l=n.charCodeAt(0)-48;else l=0;n=c}while(n);wi(t)}function Pu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pu(n),no(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Kb(e,t,n,l){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ns])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function Zb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qt(e.nextSibling),e===null))return null;return e}function Wu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Fb(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var ec=null;function Xm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Jm(e,t,n){switch(t=Zl(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function mi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);no(e)}var $t=new Map,Qm=new Set;function Fl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=$.d;$.d={f:Pb,r:Wb,D:e0,C:t0,L:n0,m:a0,X:i0,S:s0,M:l0};function Pb(){var e=Tn.f(),t=Gl();return e||t}function Wb(e){var t=Ma(e);t!==null&&t.tag===5&&t.type==="form"?mh(t):Tn.r(e)}var cs=typeof document>"u"?null:document;function Km(e,t,n){var l=cs;if(l&&typeof t=="string"&&t){var o=jt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Qm.has(o)||(Qm.add(o),e={rel:e,crossOrigin:n,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),lt(t,"link",e),We(t),l.head.appendChild(t)))}}function e0(e){Tn.D(e),Km("dns-prefetch",e,null)}function t0(e,t){Tn.C(e,t),Km("preconnect",e,t)}function n0(e,t,n){Tn.L(e,t,n);var l=cs;if(l&&e&&t){var o='link[rel="preload"][as="'+jt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+jt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+jt(n.imageSizes)+'"]')):o+='[href="'+jt(e)+'"]';var c=o;switch(t){case"style":c=fs(e);break;case"script":c=ds(e)}$t.has(c)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),$t.set(c,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(pi(c))||t==="script"&&l.querySelector(gi(c))||(t=l.createElement("link"),lt(t,"link",e),We(t),l.head.appendChild(t)))}}function a0(e,t){Tn.m(e,t);var n=cs;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+jt(l)+'"][href="'+jt(e)+'"]',c=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=ds(e)}if(!$t.has(c)&&(e=b({rel:"modulepreload",href:e},t),$t.set(c,e),n.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(gi(c)))return}l=n.createElement("link"),lt(l,"link",e),We(l),n.head.appendChild(l)}}}function s0(e,t,n){Tn.S(e,t,n);var l=cs;if(l&&e){var o=Ca(l).hoistableStyles,c=fs(e);t=t||"default";var h=o.get(c);if(!h){var g={loading:0,preload:null};if(h=l.querySelector(pi(c)))g.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=$t.get(c))&&tc(e,n);var v=h=l.createElement("link");We(v),lt(v,"link",e),v._p=new Promise(function(R,U){v.onload=R,v.onerror=U}),v.addEventListener("load",function(){g.loading|=1}),v.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Pl(h,t,l)}h={type:"stylesheet",instance:h,count:1,state:g},o.set(c,h)}}}function i0(e,t){Tn.X(e,t);var n=cs;if(n&&e){var l=Ca(n).hoistableScripts,o=ds(e),c=l.get(o);c||(c=n.querySelector(gi(o)),c||(e=b({src:e,async:!0},t),(t=$t.get(o))&&nc(e,t),c=n.createElement("script"),We(c),lt(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function l0(e,t){Tn.M(e,t);var n=cs;if(n&&e){var l=Ca(n).hoistableScripts,o=ds(e),c=l.get(o);c||(c=n.querySelector(gi(o)),c||(e=b({src:e,async:!0,type:"module"},t),(t=$t.get(o))&&nc(e,t),c=n.createElement("script"),We(c),lt(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function Zm(e,t,n,l){var o=(o=me.current)?Fl(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=fs(n.href),n=Ca(o).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=fs(n.href);var c=Ca(o).hoistableStyles,h=c.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=o.querySelector(pi(e)))&&!c._p&&(h.instance=c,h.state.loading=5),$t.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$t.set(e,n),c||r0(o,e,n,h.state))),t&&l===null)throw Error(i(528,""));return h}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ds(n),n=Ca(o).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function fs(e){return'href="'+jt(e)+'"'}function pi(e){return'link[rel="stylesheet"]['+e+"]"}function Fm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function r0(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),lt(t,"link",n),We(t),e.head.appendChild(t))}function ds(e){return'[src="'+jt(e)+'"]'}function gi(e){return"script[async]"+e}function Pm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+jt(n.href)+'"]');if(l)return t.instance=l,We(l),l;var o=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),We(l),lt(l,"style",o),Pl(l,n.precedence,e),t.instance=l;case"stylesheet":o=fs(n.href);var c=e.querySelector(pi(o));if(c)return t.state.loading|=4,t.instance=c,We(c),c;l=Fm(n),(o=$t.get(o))&&tc(l,o),c=(e.ownerDocument||e).createElement("link"),We(c);var h=c;return h._p=new Promise(function(g,v){h.onload=g,h.onerror=v}),lt(c,"link",l),t.state.loading|=4,Pl(c,n.precedence,e),t.instance=c;case"script":return c=ds(n.src),(o=e.querySelector(gi(c)))?(t.instance=o,We(o),o):(l=n,(o=$t.get(c))&&(l=b({},n),nc(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),We(o),lt(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Pl(l,n.precedence,e));return t.instance}function Pl(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,c=o,h=0;h<l.length;h++){var g=l[h];if(g.dataset.precedence===t)c=g;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Wl=null;function Wm(e,t,n){if(Wl===null){var l=new Map,o=Wl=new Map;o.set(n,l)}else o=Wl,l=o.get(n),l||(l=new Map,o.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var c=n[o];if(!(c[Ns]||c[ct]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var g=l.get(h);g?g.push(c):l.set(h,[c])}}return l}function ep(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function o0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function tp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var yi=null;function u0(){}function c0(e,t,n){if(yi===null)throw Error(i(475));var l=yi;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=fs(n.href),c=e.querySelector(pi(o));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=er.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=c,We(c);return}c=e.ownerDocument||e,n=Fm(n),(o=$t.get(o))&&tc(n,o),c=c.createElement("link"),We(c);var h=c;h._p=new Promise(function(g,v){h.onload=g,h.onerror=v}),lt(c,"link",n),t.instance=c}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=er.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function f0(){if(yi===null)throw Error(i(475));var e=yi;return e.stylesheets&&e.count===0&&ac(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function er(){if(this.count--,this.count===0){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tr=null;function ac(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tr=new Map,t.forEach(d0,e),tr=null,er.call(e))}function d0(e,t){if(!(t.state.loading&4)){var n=tr.get(e);if(n)var l=n.get(null);else{n=new Map,tr.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var h=o[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),l=h)}l&&n.set(null,l)}o=t.instance,h=o.getAttribute("data-precedence"),c=n.get(h)||l,c===l&&n.set(null,o),n.set(h,o),this.count++,l=er.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var vi={$$typeof:k,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function h0(e,t,n,l,o,c,h,g){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function np(e,t,n,l,o,c,h,g,v,R,U,q){return e=new h0(e,t,n,h,g,v,R,q),t=1,c===!0&&(t|=24),c=Et(3,null,null,t),e.current=c,c.stateNode=e,t=qo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:l,isDehydrated:n,cache:t},Go(c),e}function ap(e){return e?(e=$a,e):$a}function sp(e,t,n,l,o,c){o=ap(o),l.context===null?l.context=o:l.pendingContext=o,l=zn(t),l.payload={element:n},c=c===void 0?null:c,c!==null&&(l.callback=c),n=jn(e,l,t),n!==null&&(Ct(n,e,t),Qs(n,e,t))}function ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sc(e,t){ip(e,t),(e=e.alternate)&&ip(e,t)}function lp(e){if(e.tag===13){var t=Ga(e,67108864);t!==null&&Ct(t,e,67108864),sc(e,67108864)}}var nr=!0;function m0(e,t,n,l){var o=L.T;L.T=null;var c=$.p;try{$.p=2,ic(e,t,n,l)}finally{$.p=c,L.T=o}}function p0(e,t,n,l){var o=L.T;L.T=null;var c=$.p;try{$.p=8,ic(e,t,n,l)}finally{$.p=c,L.T=o}}function ic(e,t,n,l){if(nr){var o=lc(l);if(o===null)Xu(e,t,l,ar,n),op(e,l);else if(y0(o,e,t,n,l))l.stopPropagation();else if(op(e,l),t&4&&-1<g0.indexOf(e)){for(;o!==null;){var c=Ma(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=sa(c.pendingLanes);if(h!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;h;){var v=1<<31-At(h);g.entanglements[1]|=v,h&=~v}an(c),(Oe&6)===0&&(Hl=Pt()+500,fi(0))}}break;case 13:g=Ga(c,2),g!==null&&Ct(g,c,2),Gl(),sc(c,2)}if(c=lc(l),c===null&&Xu(e,t,l,ar,n),c===o)break;o=c}o!==null&&l.stopPropagation()}else Xu(e,t,l,null,n)}}function lc(e){return e=co(e),rc(e)}var ar=null;function rc(e){if(ar=null,e=Na(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ar=e,null}function rp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tv()){case _f:return 2;case wf:return 8;case Ki:case nv:return 32;case xf:return 268435456;default:return 32}default:return 32}}var oc=!1,Kn=null,Zn=null,Fn=null,bi=new Map,Si=new Map,Pn=[],g0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function op(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(t.pointerId)}}function _i(e,t,n,l,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Ma(t),t!==null&&lp(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function y0(e,t,n,l,o){switch(t){case"focusin":return Kn=_i(Kn,e,t,n,l,o),!0;case"dragenter":return Zn=_i(Zn,e,t,n,l,o),!0;case"mouseover":return Fn=_i(Fn,e,t,n,l,o),!0;case"pointerover":var c=o.pointerId;return bi.set(c,_i(bi.get(c)||null,e,t,n,l,o)),!0;case"gotpointercapture":return c=o.pointerId,Si.set(c,_i(Si.get(c)||null,e,t,n,l,o)),!0}return!1}function up(e){var t=Na(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,cv(e.priority,function(){if(n.tag===13){var l=Mt();l=Wr(l);var o=Ga(n,l);o!==null&&Ct(o,n,l),sc(n,l)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lc(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);uo=l,n.target.dispatchEvent(l),uo=null}else return t=Ma(n),t!==null&&lp(t),e.blockedOn=n,!1;t.shift()}return!0}function cp(e,t,n){sr(e)&&n.delete(t)}function v0(){oc=!1,Kn!==null&&sr(Kn)&&(Kn=null),Zn!==null&&sr(Zn)&&(Zn=null),Fn!==null&&sr(Fn)&&(Fn=null),bi.forEach(cp),Si.forEach(cp)}function ir(e,t){e.blockedOn===t&&(e.blockedOn=null,oc||(oc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,v0)))}var lr=null;function fp(e){lr!==e&&(lr=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lr===e&&(lr=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(rc(l||n)===null)continue;break}var c=Ma(n);c!==null&&(e.splice(t,3),t-=3,ru(c,{pending:!0,data:o,method:n.method,action:l},l,o))}}))}function wi(e){function t(v){return ir(v,e)}Kn!==null&&ir(Kn,e),Zn!==null&&ir(Zn,e),Fn!==null&&ir(Fn,e),bi.forEach(t),Si.forEach(t);for(var n=0;n<Pn.length;n++){var l=Pn[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)up(n),n.blockedOn===null&&Pn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var o=n[l],c=n[l+1],h=o[yt]||null;if(typeof c=="function")h||fp(n);else if(h){var g=null;if(c&&c.hasAttribute("formAction")){if(o=c,h=c[yt]||null)g=h.formAction;else if(rc(o)!==null)continue}else g=h.action;typeof g=="function"?n[l+1]=g:(n.splice(l,3),l-=3),fp(n)}}}function uc(e){this._internalRoot=e}rr.prototype.render=uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=Mt();sp(n,l,e,t,null,null)},rr.prototype.unmount=uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sp(e.current,2,null,e,null,null),Gl(),t[Ra]=null}};function rr(e){this._internalRoot=e}rr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pn.length&&t!==0&&t<Pn[n].priority;n++);Pn.splice(n,0,e),n===0&&up(e)}};var dp=a.version;if(dp!=="19.1.0")throw Error(i(527,dp,"19.1.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var b0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!or.isDisabled&&or.supportsFiber)try{Es=or.inject(b0),xt=or}catch{}}return Ai.createRoot=function(e,t){if(!u(e))throw Error(i(299));var n=!1,l="",o=Rh,c=Nh,h=Mh,g=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(g=t.unstable_transitionCallbacks)),t=np(e,1,!1,null,null,n,l,o,c,h,g,null),e[Ra]=t.current,Iu(e),new uc(t)},Ai.hydrateRoot=function(e,t,n){if(!u(e))throw Error(i(299));var l=!1,o="",c=Rh,h=Nh,g=Mh,v=null,R=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks),n.formState!==void 0&&(R=n.formState)),t=np(e,1,!0,t,n??null,l,o,c,h,g,v,R),t.context=ap(null),n=t.current,l=Mt(),l=Wr(l),o=zn(l),o.callback=null,jn(n,o,l),n=l,t.current.lanes=n,Rs(t,n),an(t),e[Ra]=t.current,Iu(e),new rr(t)},Ai.version="19.1.0",Ai}var wp;function C0(){if(wp)return fc.exports;wp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),fc.exports=M0(),fc.exports}var D0=C0();const L0=vg(D0),U0="_App_12dge_3",z0={App:U0};var Zt=Yc();const Se=vg(Zt),j0="_mainScreen_1ajee_3",V0="_worldMapContainer_1ajee_23",q0="_sidebar_1ajee_43",B0="_moves_1ajee_63",Ti={mainScreen:j0,worldMapContainer:V0,sidebar:q0,moves:B0},H0="_tileView_16qwl_3",k0="_entities_16qwl_45",xp={tileView:H0,entities:k0};function G0(r,a){return[r,a&&`${a.icon} ${a.title}`,a==null?void 0:a.description].filter(Boolean).join(`
`)}const bg=({tile:r,onClick:a})=>{const{icon:s}=r.data.feature??{icon:" "},{color:i,title:u}=r.data.terrain,f=r.data.feature,d=G0(u,f);return x.jsxs("div",{className:xp.tileView,style:{backgroundColor:i},title:d,onClick:()=>a==null?void 0:a(r),children:[x.jsx("span",{children:s}),x.jsx("div",{className:xp.entities,children:r.entities.map(m=>m.icon)})]})},$0="_body_13sxw_47",Y0="_tileWrapper_13sxw_61",I0="_info_13sxw_79",X0="_terrainLine_13sxw_97",J0="_field_13sxw_127",Q0="_emptyFeature_13sxw_143",K0="_entityList_13sxw_157",Z0="_entityListItem_13sxw_173",F0="_entityIcon_13sxw_205",cn={body:$0,tileWrapper:Y0,info:I0,terrainLine:X0,field:J0,emptyFeature:Q0,entityList:K0,entityListItem:Z0,entityIcon:F0},P0="_container_1sq6x_3",W0="_collapsed_1sq6x_29",eS="_headerWrapper_1sq6x_29",tS="_header_1sq6x_29",nS="_empty_1sq6x_45",aS="_toggleButton_1sq6x_89",sS="_body_1sq6x_117",En={container:P0,collapsed:W0,headerWrapper:eS,header:tS,empty:nS,toggleButton:aS,body:sS},de=r=>typeof r=="string",Ei=()=>{let r,a;const s=new Promise((i,u)=>{r=i,a=u});return s.resolve=r,s.reject=a,s},Ap=r=>r==null?"":""+r,iS=(r,a,s)=>{r.forEach(i=>{a[i]&&(s[i]=a[i])})},lS=/###/g,Tp=r=>r&&r.indexOf("###")>-1?r.replace(lS,"."):r,Ep=r=>!r||de(r),ji=(r,a,s)=>{const i=de(a)?a.split("."):a;let u=0;for(;u<i.length-1;){if(Ep(r))return{};const f=Tp(i[u]);!r[f]&&s&&(r[f]=new s),Object.prototype.hasOwnProperty.call(r,f)?r=r[f]:r={},++u}return Ep(r)?{}:{obj:r,k:Tp(i[u])}},Op=(r,a,s)=>{const{obj:i,k:u}=ji(r,a,Object);if(i!==void 0||a.length===1){i[u]=s;return}let f=a[a.length-1],d=a.slice(0,a.length-1),m=ji(r,d,Object);for(;m.obj===void 0&&d.length;)f=`${d[d.length-1]}.${f}`,d=d.slice(0,d.length-1),m=ji(r,d,Object),m!=null&&m.obj&&typeof m.obj[`${m.k}.${f}`]<"u"&&(m.obj=void 0);m.obj[`${m.k}.${f}`]=s},rS=(r,a,s,i)=>{const{obj:u,k:f}=ji(r,a,Object);u[f]=u[f]||[],u[f].push(s)},Tr=(r,a)=>{const{obj:s,k:i}=ji(r,a);if(s&&Object.prototype.hasOwnProperty.call(s,i))return s[i]},oS=(r,a,s)=>{const i=Tr(r,s);return i!==void 0?i:Tr(a,s)},Sg=(r,a,s)=>{for(const i in a)i!=="__proto__"&&i!=="constructor"&&(i in r?de(r[i])||r[i]instanceof String||de(a[i])||a[i]instanceof String?s&&(r[i]=a[i]):Sg(r[i],a[i],s):r[i]=a[i]);return r},hs=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var uS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cS=r=>de(r)?r.replace(/[&<>"'\/]/g,a=>uS[a]):r;class fS{constructor(a){this.capacity=a,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(a){const s=this.regExpMap.get(a);if(s!==void 0)return s;const i=new RegExp(a);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(a,i),this.regExpQueue.push(a),i}}const dS=[" ",",","?","!",";"],hS=new fS(20),mS=(r,a,s)=>{a=a||"",s=s||"";const i=dS.filter(d=>a.indexOf(d)<0&&s.indexOf(d)<0);if(i.length===0)return!0;const u=hS.getRegExp(`(${i.map(d=>d==="?"?"\\?":d).join("|")})`);let f=!u.test(r);if(!f){const d=r.indexOf(s);d>0&&!u.test(r.substring(0,d))&&(f=!0)}return f},Rc=(r,a,s=".")=>{if(!r)return;if(r[a])return Object.prototype.hasOwnProperty.call(r,a)?r[a]:void 0;const i=a.split(s);let u=r;for(let f=0;f<i.length;){if(!u||typeof u!="object")return;let d,m="";for(let y=f;y<i.length;++y)if(y!==f&&(m+=s),m+=i[y],d=u[m],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&y<i.length-1)continue;f+=y-f+1;break}u=d}return u},Hi=r=>r==null?void 0:r.replace("_","-"),pS={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,a){var s,i;(i=(s=console==null?void 0:console[r])==null?void 0:s.apply)==null||i.call(s,console,a)}};class Er{constructor(a,s={}){this.init(a,s)}init(a,s={}){this.prefix=s.prefix||"i18next:",this.logger=a||pS,this.options=s,this.debug=s.debug}log(...a){return this.forward(a,"log","",!0)}warn(...a){return this.forward(a,"warn","",!0)}error(...a){return this.forward(a,"error","")}deprecate(...a){return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(a,s,i,u){return u&&!this.debug?null:(de(a[0])&&(a[0]=`${i}${this.prefix} ${a[0]}`),this.logger[s](a))}create(a){return new Er(this.logger,{prefix:`${this.prefix}:${a}:`,...this.options})}clone(a){return a=a||this.options,a.prefix=a.prefix||this.prefix,new Er(this.logger,a)}}var on=new Er;class jr{constructor(){this.observers={}}on(a,s){return a.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const u=this.observers[i].get(s)||0;this.observers[i].set(s,u+1)}),this}off(a,s){if(this.observers[a]){if(!s){delete this.observers[a];return}this.observers[a].delete(s)}}emit(a,...s){this.observers[a]&&Array.from(this.observers[a].entries()).forEach(([u,f])=>{for(let d=0;d<f;d++)u(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([u,f])=>{for(let d=0;d<f;d++)u.apply(u,[a,...s])})}}class Rp extends jr{constructor(a,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=a||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}removeNamespaces(a){const s=this.options.ns.indexOf(a);s>-1&&this.options.ns.splice(s,1)}getResource(a,s,i,u={}){var p,b;const f=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,d=u.ignoreJSONStructure!==void 0?u.ignoreJSONStructure:this.options.ignoreJSONStructure;let m;a.indexOf(".")>-1?m=a.split("."):(m=[a,s],i&&(Array.isArray(i)?m.push(...i):de(i)&&f?m.push(...i.split(f)):m.push(i)));const y=Tr(this.data,m);return!y&&!s&&!i&&a.indexOf(".")>-1&&(a=m[0],s=m[1],i=m.slice(2).join(".")),y||!d||!de(i)?y:Rc((b=(p=this.data)==null?void 0:p[a])==null?void 0:b[s],i,f)}addResource(a,s,i,u,f={silent:!1}){const d=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator;let m=[a,s];i&&(m=m.concat(d?i.split(d):i)),a.indexOf(".")>-1&&(m=a.split("."),u=s,s=m[1]),this.addNamespaces(s),Op(this.data,m,u),f.silent||this.emit("added",a,s,i,u)}addResources(a,s,i,u={silent:!1}){for(const f in i)(de(i[f])||Array.isArray(i[f]))&&this.addResource(a,s,f,i[f],{silent:!0});u.silent||this.emit("added",a,s,i)}addResourceBundle(a,s,i,u,f,d={silent:!1,skipCopy:!1}){let m=[a,s];a.indexOf(".")>-1&&(m=a.split("."),u=i,i=s,s=m[1]),this.addNamespaces(s);let y=Tr(this.data,m)||{};d.skipCopy||(i=JSON.parse(JSON.stringify(i))),u?Sg(y,i,f):y={...y,...i},Op(this.data,m,y),d.silent||this.emit("added",a,s,i)}removeResourceBundle(a,s){this.hasResourceBundle(a,s)&&delete this.data[a][s],this.removeNamespaces(s),this.emit("removed",a,s)}hasResourceBundle(a,s){return this.getResource(a,s)!==void 0}getResourceBundle(a,s){return s||(s=this.options.defaultNS),this.getResource(a,s)}getDataByLanguage(a){return this.data[a]}hasLanguageSomeTranslations(a){const s=this.getDataByLanguage(a);return!!(s&&Object.keys(s)||[]).find(u=>s[u]&&Object.keys(s[u]).length>0)}toJSON(){return this.data}}var _g={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,a,s,i,u){return r.forEach(f=>{var d;a=((d=this.processors[f])==null?void 0:d.process(a,s,i,u))??a}),a}};const Np={},Mp=r=>!de(r)&&typeof r!="boolean"&&typeof r!="number";class Or extends jr{constructor(a,s={}){super(),iS(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=on.create("translator")}changeLanguage(a){a&&(this.language=a)}exists(a,s={interpolation:{}}){const i={...s};if(a==null)return!1;const u=this.resolve(a,i);return(u==null?void 0:u.res)!==void 0}extractFromKey(a,s){let i=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let f=s.ns||this.options.defaultNS||[];const d=i&&a.indexOf(i)>-1,m=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!mS(a,i,u);if(d&&!m){const y=a.match(this.interpolator.nestingRegexp);if(y&&y.length>0)return{key:a,namespaces:de(f)?[f]:f};const p=a.split(i);(i!==u||i===u&&this.options.ns.indexOf(p[0])>-1)&&(f=p.shift()),a=p.join(u)}return{key:a,namespaces:de(f)?[f]:f}}translate(a,s,i){let u=typeof s=="object"?{...s}:s;if(typeof u!="object"&&this.options.overloadTranslationOptionHandler&&(u=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(u={...u}),u||(u={}),a==null)return"";Array.isArray(a)||(a=[String(a)]);const f=u.returnDetails!==void 0?u.returnDetails:this.options.returnDetails,d=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,{key:m,namespaces:y}=this.extractFromKey(a[a.length-1],u),p=y[y.length-1];let b=u.nsSeparator!==void 0?u.nsSeparator:this.options.nsSeparator;b===void 0&&(b=":");const S=u.lng||this.language,O=u.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((S==null?void 0:S.toLowerCase())==="cimode")return O?f?{res:`${p}${b}${m}`,usedKey:m,exactUsedKey:m,usedLng:S,usedNS:p,usedParams:this.getUsedParamsDetails(u)}:`${p}${b}${m}`:f?{res:m,usedKey:m,exactUsedKey:m,usedLng:S,usedNS:p,usedParams:this.getUsedParamsDetails(u)}:m;const T=this.resolve(a,u);let C=T==null?void 0:T.res;const V=(T==null?void 0:T.usedKey)||m,B=(T==null?void 0:T.exactUsedKey)||m,ue=["[object Number]","[object Function]","[object RegExp]"],H=u.joinArrays!==void 0?u.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,G=u.count!==void 0&&!de(u.count),J=Or.hasDefaultValue(u),ae=G?this.pluralResolver.getSuffix(S,u.count,u):"",Q=u.ordinal&&G?this.pluralResolver.getSuffix(S,u.count,{ordinal:!1}):"",ce=G&&!u.ordinal&&u.count===0,F=ce&&u[`defaultValue${this.options.pluralSeparator}zero`]||u[`defaultValue${ae}`]||u[`defaultValue${Q}`]||u.defaultValue;let W=C;k&&!C&&J&&(W=F);const le=Mp(W),Ue=Object.prototype.toString.apply(W);if(k&&W&&le&&ue.indexOf(Ue)<0&&!(de(H)&&Array.isArray(W))){if(!u.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Be=this.options.returnedObjectHandler?this.options.returnedObjectHandler(V,W,{...u,ns:y}):`key '${m} (${this.language})' returned an object instead of string.`;return f?(T.res=Be,T.usedParams=this.getUsedParamsDetails(u),T):Be}if(d){const Be=Array.isArray(W),$e=Be?[]:{},He=Be?B:V;for(const L in W)if(Object.prototype.hasOwnProperty.call(W,L)){const $=`${He}${d}${L}`;J&&!C?$e[L]=this.translate($,{...u,defaultValue:Mp(F)?F[L]:void 0,joinArrays:!1,ns:y}):$e[L]=this.translate($,{...u,joinArrays:!1,ns:y}),$e[L]===$&&($e[L]=W[L])}C=$e}}else if(k&&de(H)&&Array.isArray(C))C=C.join(H),C&&(C=this.extendTranslation(C,a,u,i));else{let Be=!1,$e=!1;!this.isValidLookup(C)&&J&&(Be=!0,C=F),this.isValidLookup(C)||($e=!0,C=m);const L=(u.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$e?void 0:C,$=J&&F!==C&&this.options.updateMissing;if($e||Be||$){if(this.logger.log($?"updateKey":"missingKey",S,p,m,$?F:C),d){const j=this.resolve(m,{...u,keySeparator:!1});j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const Ae=this.languageUtils.getFallbackCodes(this.options.fallbackLng,u.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ae&&Ae[0])for(let j=0;j<Ae.length;j++)ee.push(Ae[j]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(u.lng||this.language):ee.push(u.lng||this.language);const _=(j,X,Y)=>{var _e;const te=J&&Y!==C?Y:L;this.options.missingKeyHandler?this.options.missingKeyHandler(j,p,X,te,$,u):(_e=this.backendConnector)!=null&&_e.saveMissing&&this.backendConnector.saveMissing(j,p,X,te,$,u),this.emit("missingKey",j,p,X,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&G?ee.forEach(j=>{const X=this.pluralResolver.getSuffixes(j,u);ce&&u[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(Y=>{_([j],m+Y,u[`defaultValue${Y}`]||F)})}):_(ee,m,F))}C=this.extendTranslation(C,a,u,T,i),$e&&C===m&&this.options.appendNamespaceToMissingKey&&(C=`${p}${b}${m}`),($e||Be)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${b}${m}`:m,Be?C:void 0,u))}return f?(T.res=C,T.usedParams=this.getUsedParamsDetails(u),T):C}extendTranslation(a,s,i,u,f){var y,p;if((y=this.i18nFormat)!=null&&y.parse)a=this.i18nFormat.parse(a,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||u.usedLng,u.usedNS,u.usedKey,{resolved:u});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const b=de(a)&&(((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let S;if(b){const T=a.match(this.interpolator.nestingRegexp);S=T&&T.length}let O=i.replace&&!de(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(O={...this.options.interpolation.defaultVariables,...O}),a=this.interpolator.interpolate(a,O,i.lng||this.language||u.usedLng,i),b){const T=a.match(this.interpolator.nestingRegexp),C=T&&T.length;S<C&&(i.nest=!1)}!i.lng&&u&&u.res&&(i.lng=this.language||u.usedLng),i.nest!==!1&&(a=this.interpolator.nest(a,(...T)=>(f==null?void 0:f[0])===T[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${s[0]}`),null):this.translate(...T,s),i)),i.interpolation&&this.interpolator.reset()}const d=i.postProcess||this.options.postProcess,m=de(d)?[d]:d;return a!=null&&(m!=null&&m.length)&&i.applyPostProcessor!==!1&&(a=_g.handle(m,a,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...u,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),a}resolve(a,s={}){let i,u,f,d,m;return de(a)&&(a=[a]),a.forEach(y=>{if(this.isValidLookup(i))return;const p=this.extractFromKey(y,s),b=p.key;u=b;let S=p.namespaces;this.options.fallbackNS&&(S=S.concat(this.options.fallbackNS));const O=s.count!==void 0&&!de(s.count),T=O&&!s.ordinal&&s.count===0,C=s.context!==void 0&&(de(s.context)||typeof s.context=="number")&&s.context!=="",V=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);S.forEach(B=>{var ue,H;this.isValidLookup(i)||(m=B,!Np[`${V[0]}-${B}`]&&((ue=this.utils)!=null&&ue.hasLoadedNamespace)&&!((H=this.utils)!=null&&H.hasLoadedNamespace(m))&&(Np[`${V[0]}-${B}`]=!0,this.logger.warn(`key "${u}" for languages "${V.join(", ")}" won't get resolved as namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),V.forEach(k=>{var ae;if(this.isValidLookup(i))return;d=k;const G=[b];if((ae=this.i18nFormat)!=null&&ae.addLookupKeys)this.i18nFormat.addLookupKeys(G,b,k,B,s);else{let Q;O&&(Q=this.pluralResolver.getSuffix(k,s.count,s));const ce=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(O&&(G.push(b+Q),s.ordinal&&Q.indexOf(F)===0&&G.push(b+Q.replace(F,this.options.pluralSeparator)),T&&G.push(b+ce)),C){const W=`${b}${this.options.contextSeparator}${s.context}`;G.push(W),O&&(G.push(W+Q),s.ordinal&&Q.indexOf(F)===0&&G.push(W+Q.replace(F,this.options.pluralSeparator)),T&&G.push(W+ce))}}let J;for(;J=G.pop();)this.isValidLookup(i)||(f=J,i=this.getResource(k,B,J,s))}))})}),{res:i,usedKey:u,exactUsedKey:f,usedLng:d,usedNS:m}}isValidLookup(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}getResource(a,s,i,u={}){var f;return(f=this.i18nFormat)!=null&&f.getResource?this.i18nFormat.getResource(a,s,i,u):this.resourceStore.getResource(a,s,i,u)}getUsedParamsDetails(a={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=a.replace&&!de(a.replace);let u=i?a.replace:a;if(i&&typeof a.count<"u"&&(u.count=a.count),this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),!i){u={...u};for(const f of s)delete u[f]}return u}static hasDefaultValue(a){const s="defaultValue";for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&s===i.substring(0,s.length)&&a[i]!==void 0)return!0;return!1}}class Cp{constructor(a){this.options=a,this.supportedLngs=this.options.supportedLngs||!1,this.logger=on.create("languageUtils")}getScriptPartFromCode(a){if(a=Hi(a),!a||a.indexOf("-")<0)return null;const s=a.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(a){if(a=Hi(a),!a||a.indexOf("-")<0)return a;const s=a.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(a){if(de(a)&&a.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(a)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?a.toLowerCase():a)}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}isSupportedCode(a){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(a=this.getLanguagePartFromCode(a)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(a)>-1}getBestMatchFromCodes(a){if(!a)return null;let s;return a.forEach(i=>{if(s)return;const u=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(u))&&(s=u)}),!s&&this.options.supportedLngs&&a.forEach(i=>{if(s)return;const u=this.getScriptPartFromCode(i);if(this.isSupportedCode(u))return s=u;const f=this.getLanguagePartFromCode(i);if(this.isSupportedCode(f))return s=f;s=this.options.supportedLngs.find(d=>{if(d===f)return d;if(!(d.indexOf("-")<0&&f.indexOf("-")<0)&&(d.indexOf("-")>0&&f.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===f||d.indexOf(f)===0&&f.length>1))return d})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(a,s){if(!a)return[];if(typeof a=="function"&&(a=a(s)),de(a)&&(a=[a]),Array.isArray(a))return a;if(!s)return a.default||[];let i=a[s];return i||(i=a[this.getScriptPartFromCode(s)]),i||(i=a[this.formatLanguageCode(s)]),i||(i=a[this.getLanguagePartFromCode(s)]),i||(i=a.default),i||[]}toResolveHierarchy(a,s){const i=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],a),u=[],f=d=>{d&&(this.isSupportedCode(d)?u.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return de(a)&&(a.indexOf("-")>-1||a.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&f(this.formatLanguageCode(a)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&f(this.getScriptPartFromCode(a)),this.options.load!=="currentOnly"&&f(this.getLanguagePartFromCode(a))):de(a)&&f(this.formatLanguageCode(a)),i.forEach(d=>{u.indexOf(d)<0&&f(this.formatLanguageCode(d))}),u}}const Dp={zero:0,one:1,two:2,few:3,many:4,other:5},Lp={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class gS{constructor(a,s={}){this.languageUtils=a,this.options=s,this.logger=on.create("pluralResolver"),this.pluralRulesCache={}}addRule(a,s){this.rules[a]=s}clearCache(){this.pluralRulesCache={}}getRule(a,s={}){const i=Hi(a==="dev"?"en":a),u=s.ordinal?"ordinal":"cardinal",f=JSON.stringify({cleanedCode:i,type:u});if(f in this.pluralRulesCache)return this.pluralRulesCache[f];let d;try{d=new Intl.PluralRules(i,{type:u})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Lp;if(!a.match(/-|_/))return Lp;const y=this.languageUtils.getLanguagePartFromCode(a);d=this.getRule(y,s)}return this.pluralRulesCache[f]=d,d}needsPlural(a,s={}){let i=this.getRule(a,s);return i||(i=this.getRule("dev",s)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(a,s,i={}){return this.getSuffixes(a,i).map(u=>`${s}${u}`)}getSuffixes(a,s={}){let i=this.getRule(a,s);return i||(i=this.getRule("dev",s)),i?i.resolvedOptions().pluralCategories.sort((u,f)=>Dp[u]-Dp[f]).map(u=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${u}`):[]}getSuffix(a,s,i={}){const u=this.getRule(a,i);return u?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${u.select(s)}`:(this.logger.warn(`no plural rule found for: ${a}`),this.getSuffix("dev",s,i))}}const Up=(r,a,s,i=".",u=!0)=>{let f=oS(r,a,s);return!f&&u&&de(s)&&(f=Rc(r,s,i),f===void 0&&(f=Rc(a,s,i))),f},gc=r=>r.replace(/\$/g,"$$$$");class yS{constructor(a={}){var s;this.logger=on.create("interpolator"),this.options=a,this.format=((s=a==null?void 0:a.interpolation)==null?void 0:s.format)||(i=>i),this.init(a)}init(a={}){a.interpolation||(a.interpolation={escapeValue:!0});const{escape:s,escapeValue:i,useRawValueToEscape:u,prefix:f,prefixEscaped:d,suffix:m,suffixEscaped:y,formatSeparator:p,unescapeSuffix:b,unescapePrefix:S,nestingPrefix:O,nestingPrefixEscaped:T,nestingSuffix:C,nestingSuffixEscaped:V,nestingOptionsSeparator:B,maxReplaces:ue,alwaysFormat:H}=a.interpolation;this.escape=s!==void 0?s:cS,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=u!==void 0?u:!1,this.prefix=f?hs(f):d||"{{",this.suffix=m?hs(m):y||"}}",this.formatSeparator=p||",",this.unescapePrefix=b?"":S||"-",this.unescapeSuffix=this.unescapePrefix?"":b||"",this.nestingPrefix=O?hs(O):T||hs("$t("),this.nestingSuffix=C?hs(C):V||hs(")"),this.nestingOptionsSeparator=B||",",this.maxReplaces=ue||1e3,this.alwaysFormat=H!==void 0?H:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const a=(s,i)=>(s==null?void 0:s.source)===i?(s.lastIndex=0,s):new RegExp(i,"g");this.regexp=a(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=a(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=a(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(a,s,i,u){var T;let f,d,m;const y=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=C=>{if(C.indexOf(this.formatSeparator)<0){const H=Up(s,y,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(H,void 0,i,{...u,...s,interpolationkey:C}):H}const V=C.split(this.formatSeparator),B=V.shift().trim(),ue=V.join(this.formatSeparator).trim();return this.format(Up(s,y,B,this.options.keySeparator,this.options.ignoreJSONStructure),ue,i,{...u,...s,interpolationkey:B})};this.resetRegExp();const b=(u==null?void 0:u.missingInterpolationHandler)||this.options.missingInterpolationHandler,S=((T=u==null?void 0:u.interpolation)==null?void 0:T.skipOnVariables)!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>gc(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?gc(this.escape(C)):gc(C)}].forEach(C=>{for(m=0;f=C.regex.exec(a);){const V=f[1].trim();if(d=p(V),d===void 0)if(typeof b=="function"){const ue=b(a,f,u);d=de(ue)?ue:""}else if(u&&Object.prototype.hasOwnProperty.call(u,V))d="";else if(S){d=f[0];continue}else this.logger.warn(`missed to pass in variable ${V} for interpolating ${a}`),d="";else!de(d)&&!this.useRawValueToEscape&&(d=Ap(d));const B=C.safeValue(d);if(a=a.replace(f[0],B),S?(C.regex.lastIndex+=d.length,C.regex.lastIndex-=f[0].length):C.regex.lastIndex=0,m++,m>=this.maxReplaces)break}}),a}nest(a,s,i={}){let u,f,d;const m=(y,p)=>{const b=this.nestingOptionsSeparator;if(y.indexOf(b)<0)return y;const S=y.split(new RegExp(`${b}[ ]*{`));let O=`{${S[1]}`;y=S[0],O=this.interpolate(O,d);const T=O.match(/'/g),C=O.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!C||C.length%2!==0)&&(O=O.replace(/'/g,'"'));try{d=JSON.parse(O),p&&(d={...p,...d})}catch(V){return this.logger.warn(`failed parsing options string in nesting for key ${y}`,V),`${y}${b}${O}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,y};for(;u=this.nestingRegexp.exec(a);){let y=[];d={...i},d=d.replace&&!de(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;let p=!1;if(u[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(u[1])){const b=u[1].split(this.formatSeparator).map(S=>S.trim());u[1]=b.shift(),y=b,p=!0}if(f=s(m.call(this,u[1].trim(),d),d),f&&u[0]===a&&!de(f))return f;de(f)||(f=Ap(f)),f||(this.logger.warn(`missed to resolve ${u[1]} for nesting ${a}`),f=""),p&&(f=y.reduce((b,S)=>this.format(b,S,i.lng,{...i,interpolationkey:u[1].trim()}),f.trim())),a=a.replace(u[0],f),this.regexp.lastIndex=0}return a}}const vS=r=>{let a=r.toLowerCase().trim();const s={};if(r.indexOf("(")>-1){const i=r.split("(");a=i[0].toLowerCase().trim();const u=i[1].substring(0,i[1].length-1);a==="currency"&&u.indexOf(":")<0?s.currency||(s.currency=u.trim()):a==="relativetime"&&u.indexOf(":")<0?s.range||(s.range=u.trim()):u.split(";").forEach(d=>{if(d){const[m,...y]=d.split(":"),p=y.join(":").trim().replace(/^'+|'+$/g,""),b=m.trim();s[b]||(s[b]=p),p==="false"&&(s[b]=!1),p==="true"&&(s[b]=!0),isNaN(p)||(s[b]=parseInt(p,10))}})}return{formatName:a,formatOptions:s}},zp=r=>{const a={};return(s,i,u)=>{let f=u;u&&u.interpolationkey&&u.formatParams&&u.formatParams[u.interpolationkey]&&u[u.interpolationkey]&&(f={...f,[u.interpolationkey]:void 0});const d=i+JSON.stringify(f);let m=a[d];return m||(m=r(Hi(i),u),a[d]=m),m(s)}},bS=r=>(a,s,i)=>r(Hi(s),i)(a);class SS{constructor(a={}){this.logger=on.create("formatter"),this.options=a,this.init(a)}init(a,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const i=s.cacheInBuiltFormats?zp:bS;this.formats={number:i((u,f)=>{const d=new Intl.NumberFormat(u,{...f});return m=>d.format(m)}),currency:i((u,f)=>{const d=new Intl.NumberFormat(u,{...f,style:"currency"});return m=>d.format(m)}),datetime:i((u,f)=>{const d=new Intl.DateTimeFormat(u,{...f});return m=>d.format(m)}),relativetime:i((u,f)=>{const d=new Intl.RelativeTimeFormat(u,{...f});return m=>d.format(m,f.range||"day")}),list:i((u,f)=>{const d=new Intl.ListFormat(u,{...f});return m=>d.format(m)})}}add(a,s){this.formats[a.toLowerCase().trim()]=s}addCached(a,s){this.formats[a.toLowerCase().trim()]=zp(s)}format(a,s,i,u={}){const f=s.split(this.formatSeparator);if(f.length>1&&f[0].indexOf("(")>1&&f[0].indexOf(")")<0&&f.find(m=>m.indexOf(")")>-1)){const m=f.findIndex(y=>y.indexOf(")")>-1);f[0]=[f[0],...f.splice(1,m)].join(this.formatSeparator)}return f.reduce((m,y)=>{var S;const{formatName:p,formatOptions:b}=vS(y);if(this.formats[p]){let O=m;try{const T=((S=u==null?void 0:u.formatParams)==null?void 0:S[u.interpolationkey])||{},C=T.locale||T.lng||u.locale||u.lng||i;O=this.formats[p](m,C,{...b,...u,...T})}catch(T){this.logger.warn(T)}return O}else this.logger.warn(`there was no format function for ${p}`);return m},a)}}const _S=(r,a)=>{r.pending[a]!==void 0&&(delete r.pending[a],r.pendingCount--)};class wS extends jr{constructor(a,s,i,u={}){var f,d;super(),this.backend=a,this.store=s,this.services=i,this.languageUtils=i.languageUtils,this.options=u,this.logger=on.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=u.maxParallelReads||10,this.readingCalls=0,this.maxRetries=u.maxRetries>=0?u.maxRetries:5,this.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,this.state={},this.queue=[],(d=(f=this.backend)==null?void 0:f.init)==null||d.call(f,i,u.backend,u)}queueLoad(a,s,i,u){const f={},d={},m={},y={};return a.forEach(p=>{let b=!0;s.forEach(S=>{const O=`${p}|${S}`;!i.reload&&this.store.hasResourceBundle(p,S)?this.state[O]=2:this.state[O]<0||(this.state[O]===1?d[O]===void 0&&(d[O]=!0):(this.state[O]=1,b=!1,d[O]===void 0&&(d[O]=!0),f[O]===void 0&&(f[O]=!0),y[S]===void 0&&(y[S]=!0)))}),b||(m[p]=!0)}),(Object.keys(f).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:u}),{toLoad:Object.keys(f),pending:Object.keys(d),toLoadLanguages:Object.keys(m),toLoadNamespaces:Object.keys(y)}}loaded(a,s,i){const u=a.split("|"),f=u[0],d=u[1];s&&this.emit("failedLoading",f,d,s),!s&&i&&this.store.addResourceBundle(f,d,i,void 0,void 0,{skipCopy:!0}),this.state[a]=s?-1:2,s&&i&&(this.state[a]=0);const m={};this.queue.forEach(y=>{rS(y.loaded,[f],d),_S(y,a),s&&y.errors.push(s),y.pendingCount===0&&!y.done&&(Object.keys(y.loaded).forEach(p=>{m[p]||(m[p]={});const b=y.loaded[p];b.length&&b.forEach(S=>{m[p][S]===void 0&&(m[p][S]=!0)})}),y.done=!0,y.errors.length?y.callback(y.errors):y.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(y=>!y.done)}read(a,s,i,u=0,f=this.retryTimeout,d){if(!a.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:s,fcName:i,tried:u,wait:f,callback:d});return}this.readingCalls++;const m=(p,b)=>{if(this.readingCalls--,this.waitingReads.length>0){const S=this.waitingReads.shift();this.read(S.lng,S.ns,S.fcName,S.tried,S.wait,S.callback)}if(p&&b&&u<this.maxRetries){setTimeout(()=>{this.read.call(this,a,s,i,u+1,f*2,d)},f);return}d(p,b)},y=this.backend[i].bind(this.backend);if(y.length===2){try{const p=y(a,s);p&&typeof p.then=="function"?p.then(b=>m(null,b)).catch(m):m(null,p)}catch(p){m(p)}return}return y(a,s,m)}prepareLoading(a,s,i={},u){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();de(a)&&(a=this.languageUtils.toResolveHierarchy(a)),de(s)&&(s=[s]);const f=this.queueLoad(a,s,i,u);if(!f.toLoad.length)return f.pending.length||u(),null;f.toLoad.forEach(d=>{this.loadOne(d)})}load(a,s,i){this.prepareLoading(a,s,{},i)}reload(a,s,i){this.prepareLoading(a,s,{reload:!0},i)}loadOne(a,s=""){const i=a.split("|"),u=i[0],f=i[1];this.read(u,f,"read",void 0,void 0,(d,m)=>{d&&this.logger.warn(`${s}loading namespace ${f} for language ${u} failed`,d),!d&&m&&this.logger.log(`${s}loaded namespace ${f} for language ${u}`,m),this.loaded(a,d,m)})}saveMissing(a,s,i,u,f,d={},m=()=>{}){var y,p,b,S,O;if((p=(y=this.services)==null?void 0:y.utils)!=null&&p.hasLoadedNamespace&&!((S=(b=this.services)==null?void 0:b.utils)!=null&&S.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${i}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((O=this.backend)!=null&&O.create){const T={...d,isUpdate:f},C=this.backend.create.bind(this.backend);if(C.length<6)try{let V;C.length===5?V=C(a,s,i,u,T):V=C(a,s,i,u),V&&typeof V.then=="function"?V.then(B=>m(null,B)).catch(m):m(null,V)}catch(V){m(V)}else C(a,s,i,u,m,T)}!a||!a[0]||this.store.addResource(a[0],s,i,u)}}}const jp=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let a={};if(typeof r[1]=="object"&&(a=r[1]),de(r[1])&&(a.defaultValue=r[1]),de(r[2])&&(a.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const s=r[3]||r[2];Object.keys(s).forEach(i=>{a[i]=s[i]})}return a},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Vp=r=>{var a,s;return de(r.ns)&&(r.ns=[r.ns]),de(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),de(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),((s=(a=r.supportedLngs)==null?void 0:a.indexOf)==null?void 0:s.call(a,"cimode"))<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r},ur=()=>{},xS=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(s=>{typeof r[s]=="function"&&(r[s]=r[s].bind(r))})};class ki extends jr{constructor(a={},s){if(super(),this.options=Vp(a),this.services={},this.logger=on,this.modules={external:[]},xS(this),s&&!this.isInitialized&&!a.isClone){if(!this.options.initAsync)return this.init(a,s),this;setTimeout(()=>{this.init(a,s)},0)}}init(a={},s){this.isInitializing=!0,typeof a=="function"&&(s=a,a={}),a.defaultNS==null&&a.ns&&(de(a.ns)?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));const i=jp();this.options={...i,...this.options,...Vp(a)},this.options.interpolation={...i.interpolation,...this.options.interpolation},a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);const u=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?on.init(u(this.modules.logger),this.options):on.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=SS;const b=new Cp(this.options);this.store=new Rp(this.options.resources,this.options);const S=this.services;S.logger=on,S.resourceStore=this.store,S.languageUtils=b,S.pluralResolver=new gS(b,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(S.formatter=u(p),S.formatter.init(S,this.options),this.options.interpolation.format=S.formatter.format.bind(S.formatter)),S.interpolator=new yS(this.options),S.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},S.backendConnector=new wS(u(this.modules.backend),S.resourceStore,S,this.options),S.backendConnector.on("*",(O,...T)=>{this.emit(O,...T)}),this.modules.languageDetector&&(S.languageDetector=u(this.modules.languageDetector),S.languageDetector.init&&S.languageDetector.init(S,this.options.detection,this.options)),this.modules.i18nFormat&&(S.i18nFormat=u(this.modules.i18nFormat),S.i18nFormat.init&&S.i18nFormat.init(this)),this.translator=new Or(this.services,this.options),this.translator.on("*",(O,...T)=>{this.emit(O,...T)}),this.modules.external.forEach(O=>{O.init&&O.init(this)})}if(this.format=this.options.interpolation.format,s||(s=ur),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...b)=>this.store[p](...b)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...b)=>(this.store[p](...b),this)});const m=Ei(),y=()=>{const p=(b,S)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(S),s(b,S)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?y():setTimeout(y,0),m}loadResources(a,s=ur){var f,d;let i=s;const u=de(a)?a:this.language;if(typeof a=="function"&&(i=a),!this.options.resources||this.options.partialBundledLanguages){if((u==null?void 0:u.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const m=[],y=p=>{if(!p||p==="cimode")return;this.services.languageUtils.toResolveHierarchy(p).forEach(S=>{S!=="cimode"&&m.indexOf(S)<0&&m.push(S)})};u?y(u):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(b=>y(b)),(d=(f=this.options.preload)==null?void 0:f.forEach)==null||d.call(f,p=>y(p)),this.services.backendConnector.load(m,this.options.ns,p=>{!p&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(p)})}else i(null)}reloadResources(a,s,i){const u=Ei();return typeof a=="function"&&(i=a,a=void 0),typeof s=="function"&&(i=s,s=void 0),a||(a=this.languages),s||(s=this.options.ns),i||(i=ur),this.services.backendConnector.reload(a,s,f=>{u.resolve(),i(f)}),u}use(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&_g.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}setResolvedLanguage(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1)){for(let s=0;s<this.languages.length;s++){const i=this.languages[s];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(a)<0&&this.store.hasLanguageSomeTranslations(a)&&(this.resolvedLanguage=a,this.languages.unshift(a))}}changeLanguage(a,s){this.isLanguageChangingTo=a;const i=Ei();this.emit("languageChanging",a);const u=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},f=(m,y)=>{y?this.isLanguageChangingTo===a&&(u(y),this.translator.changeLanguage(y),this.isLanguageChangingTo=void 0,this.emit("languageChanged",y),this.logger.log("languageChanged",y)):this.isLanguageChangingTo=void 0,i.resolve((...p)=>this.t(...p)),s&&s(m,(...p)=>this.t(...p))},d=m=>{var b,S;!a&&!m&&this.services.languageDetector&&(m=[]);const y=de(m)?m:m&&m[0],p=this.store.hasLanguageSomeTranslations(y)?y:this.services.languageUtils.getBestMatchFromCodes(de(m)?[m]:m);p&&(this.language||u(p),this.translator.language||this.translator.changeLanguage(p),(S=(b=this.services.languageDetector)==null?void 0:b.cacheUserLanguage)==null||S.call(b,p)),this.loadResources(p,O=>{f(O,p)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(a),i}getFixedT(a,s,i){const u=(f,d,...m)=>{let y;typeof d!="object"?y=this.options.overloadTranslationOptionHandler([f,d].concat(m)):y={...d},y.lng=y.lng||u.lng,y.lngs=y.lngs||u.lngs,y.ns=y.ns||u.ns,y.keyPrefix!==""&&(y.keyPrefix=y.keyPrefix||i||u.keyPrefix);const p=this.options.keySeparator||".";let b;return y.keyPrefix&&Array.isArray(f)?b=f.map(S=>`${y.keyPrefix}${p}${S}`):b=y.keyPrefix?`${y.keyPrefix}${p}${f}`:f,this.t(b,y)};return de(a)?u.lng=a:u.lngs=a,u.ns=s,u.keyPrefix=i,u}t(...a){var s;return(s=this.translator)==null?void 0:s.translate(...a)}exists(...a){var s;return(s=this.translator)==null?void 0:s.exists(...a)}setDefaultNamespace(a){this.options.defaultNS=a}hasLoadedNamespace(a,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=s.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,f=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const d=(m,y)=>{const p=this.services.backendConnector.state[`${m}|${y}`];return p===-1||p===0||p===2};if(s.precheck){const m=s.precheck(this,d);if(m!==void 0)return m}return!!(this.hasResourceBundle(i,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(i,a)&&(!u||d(f,a)))}loadNamespaces(a,s){const i=Ei();return this.options.ns?(de(a)&&(a=[a]),a.forEach(u=>{this.options.ns.indexOf(u)<0&&this.options.ns.push(u)}),this.loadResources(u=>{i.resolve(),s&&s(u)}),i):(s&&s(),Promise.resolve())}loadLanguages(a,s){const i=Ei();de(a)&&(a=[a]);const u=this.options.preload||[],f=a.filter(d=>u.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return f.length?(this.options.preload=u.concat(f),this.loadResources(d=>{i.resolve(),s&&s(d)}),i):(s&&s(),Promise.resolve())}dir(a){var u,f;if(a||(a=this.resolvedLanguage||(((u=this.languages)==null?void 0:u.length)>0?this.languages[0]:this.language)),!a)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((f=this.services)==null?void 0:f.languageUtils)||new Cp(jp());return s.indexOf(i.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(a={},s){return new ki(a,s)}cloneInstance(a={},s=ur){const i=a.forkResourceStore;i&&delete a.forkResourceStore;const u={...this.options,...a,isClone:!0},f=new ki(u);if((a.debug!==void 0||a.prefix!==void 0)&&(f.logger=f.logger.clone(a)),["store","services","language"].forEach(m=>{f[m]=this[m]}),f.services={...this.services},f.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},i){const m=Object.keys(this.store.data).reduce((y,p)=>(y[p]={...this.store.data[p]},y[p]=Object.keys(y[p]).reduce((b,S)=>(b[S]={...y[p][S]},b),y[p]),y),{});f.store=new Rp(m,u),f.services.resourceStore=f.store}return f.translator=new Or(f.services,u),f.translator.on("*",(m,...y)=>{f.emit(m,...y)}),f.init(u,s),f.translator.options=u,f.translator.backendConnector.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},f}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const mt=ki.createInstance();mt.createInstance=ki.createInstance;mt.createInstance;mt.dir;mt.init;mt.loadResources;mt.reloadResources;mt.use;mt.changeLanguage;mt.getFixedT;mt.t;mt.exists;mt.setDefaultNamespace;mt.hasLoadedNamespace;mt.loadNamespaces;mt.loadLanguages;const AS=(r,a,s,i)=>{var f,d,m,y;const u=[s,{code:a,...i||{}}];if((d=(f=r==null?void 0:r.services)==null?void 0:f.logger)!=null&&d.forward)return r.services.logger.forward(u,"warn","react-i18next::",!0);Ea(u[0])&&(u[0]=`react-i18next:: ${u[0]}`),(y=(m=r==null?void 0:r.services)==null?void 0:m.logger)!=null&&y.warn?r.services.logger.warn(...u):console!=null&&console.warn&&console.warn(...u)},qp={},Nc=(r,a,s,i)=>{Ea(s)&&qp[s]||(Ea(s)&&(qp[s]=new Date),AS(r,a,s,i))},wg=(r,a)=>()=>{if(r.isInitialized)a();else{const s=()=>{setTimeout(()=>{r.off("initialized",s)},0),a()};r.on("initialized",s)}},Mc=(r,a,s)=>{r.loadNamespaces(a,wg(r,s))},Bp=(r,a,s,i)=>{if(Ea(s)&&(s=[s]),r.options.preload&&r.options.preload.indexOf(a)>-1)return Mc(r,s,i);s.forEach(u=>{r.options.ns.indexOf(u)<0&&r.options.ns.push(u)}),r.loadLanguages(a,wg(r,i))},TS=(r,a,s={})=>!a.languages||!a.languages.length?(Nc(a,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:a.languages}),!0):a.hasLoadedNamespace(r,{lng:s.lng,precheck:(i,u)=>{var f;if(((f=s.bindI18n)==null?void 0:f.indexOf("languageChanging"))>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!u(i.isLanguageChangingTo,r))return!1}}),Ea=r=>typeof r=="string",ES=r=>typeof r=="object"&&r!==null,OS=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,RS={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},NS=r=>RS[r],MS=r=>r.replace(OS,NS);let Cc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:MS};const CS=(r={})=>{Cc={...Cc,...r}},DS=()=>Cc;let xg;const LS=r=>{xg=r},US=()=>xg,zS={type:"3rdParty",init(r){CS(r.options.react),LS(r)}},jS=Zt.createContext();class VS{constructor(){this.usedNamespaces={}}addUsedNamespaces(a){a.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const qS=(r,a)=>{const s=Zt.useRef();return Zt.useEffect(()=>{s.current=r},[r,a]),s.current},Ag=(r,a,s,i)=>r.getFixedT(a,s,i),BS=(r,a,s,i)=>Zt.useCallback(Ag(r,a,s,i),[r,a,s,i]),Tg=(r,a={})=>{var G,J,ae,Q;const{i18n:s}=a,{i18n:i,defaultNS:u}=Zt.useContext(jS)||{},f=s||i||US();if(f&&!f.reportNamespaces&&(f.reportNamespaces=new VS),!f){Nc(f,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const ce=(W,le)=>Ea(le)?le:ES(le)&&Ea(le.defaultValue)?le.defaultValue:Array.isArray(W)?W[W.length-1]:W,F=[ce,{},!1];return F.t=ce,F.i18n={},F.ready=!1,F}(G=f.options.react)!=null&&G.wait&&Nc(f,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...DS(),...f.options.react,...a},{useSuspense:m,keyPrefix:y}=d;let p=r||u||((J=f.options)==null?void 0:J.defaultNS);p=Ea(p)?[p]:p||["translation"],(Q=(ae=f.reportNamespaces).addUsedNamespaces)==null||Q.call(ae,p);const b=(f.isInitialized||f.initializedStoreOnce)&&p.every(ce=>TS(ce,f,d)),S=BS(f,a.lng||null,d.nsMode==="fallback"?p:p[0],y),O=()=>S,T=()=>Ag(f,a.lng||null,d.nsMode==="fallback"?p:p[0],y),[C,V]=Zt.useState(O);let B=p.join();a.lng&&(B=`${a.lng}${B}`);const ue=qS(B),H=Zt.useRef(!0);Zt.useEffect(()=>{const{bindI18n:ce,bindI18nStore:F}=d;H.current=!0,!b&&!m&&(a.lng?Bp(f,a.lng,p,()=>{H.current&&V(T)}):Mc(f,p,()=>{H.current&&V(T)})),b&&ue&&ue!==B&&H.current&&V(T);const W=()=>{H.current&&V(T)};return ce&&(f==null||f.on(ce,W)),F&&(f==null||f.store.on(F,W)),()=>{H.current=!1,f&&(ce==null||ce.split(" ").forEach(le=>f.off(le,W))),F&&f&&F.split(" ").forEach(le=>f.store.off(le,W))}},[f,B]),Zt.useEffect(()=>{H.current&&b&&V(O)},[f,y,b]);const k=[C,f,b];if(k.t=C,k.i18n=f,k.ready=b,b||!b&&!m)return k;throw new Promise(ce=>{a.lng?Bp(f,a.lng,p,()=>ce()):Mc(f,p,()=>ce())})},{slice:HS,forEach:kS}=[];function GS(r){return kS.call(HS.call(arguments,1),a=>{if(a)for(const s in a)r[s]===void 0&&(r[s]=a[s])}),r}function $S(r){return typeof r!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(s=>s.test(r))}const Hp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,YS=function(r,a){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},u=encodeURIComponent(a);let f=`${r}=${u}`;if(i.maxAge>0){const d=i.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");f+=`; Max-Age=${Math.floor(d)}`}if(i.domain){if(!Hp.test(i.domain))throw new TypeError("option domain is invalid");f+=`; Domain=${i.domain}`}if(i.path){if(!Hp.test(i.path))throw new TypeError("option path is invalid");f+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");f+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(f+="; HttpOnly"),i.secure&&(f+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(f+="; Partitioned"),f},kp={create(r,a,s,i){let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(u.expires=new Date,u.expires.setTime(u.expires.getTime()+s*60*1e3)),i&&(u.domain=i),document.cookie=YS(r,encodeURIComponent(a),u)},read(r){const a=`${r}=`,s=document.cookie.split(";");for(let i=0;i<s.length;i++){let u=s[i];for(;u.charAt(0)===" ";)u=u.substring(1,u.length);if(u.indexOf(a)===0)return u.substring(a.length,u.length)}return null},remove(r){this.create(r,"",-1)}};var IS={name:"cookie",lookup(r){let{lookupCookie:a}=r;if(a&&typeof document<"u")return kp.read(a)||void 0},cacheUserLanguage(r,a){let{lookupCookie:s,cookieMinutes:i,cookieDomain:u,cookieOptions:f}=a;s&&typeof document<"u"&&kp.create(s,r,i,u,f)}},XS={name:"querystring",lookup(r){var i;let{lookupQuerystring:a}=r,s;if(typeof window<"u"){let{search:u}=window.location;!window.location.search&&((i=window.location.hash)==null?void 0:i.indexOf("?"))>-1&&(u=window.location.hash.substring(window.location.hash.indexOf("?")));const d=u.substring(1).split("&");for(let m=0;m<d.length;m++){const y=d[m].indexOf("=");y>0&&d[m].substring(0,y)===a&&(s=d[m].substring(y+1))}}return s}};let ms=null;const Gp=()=>{if(ms!==null)return ms;try{if(ms=typeof window<"u"&&window.localStorage!==null,!ms)return!1;const r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{ms=!1}return ms};var JS={name:"localStorage",lookup(r){let{lookupLocalStorage:a}=r;if(a&&Gp())return window.localStorage.getItem(a)||void 0},cacheUserLanguage(r,a){let{lookupLocalStorage:s}=a;s&&Gp()&&window.localStorage.setItem(s,r)}};let ps=null;const $p=()=>{if(ps!==null)return ps;try{if(ps=typeof window<"u"&&window.sessionStorage!==null,!ps)return!1;const r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{ps=!1}return ps};var QS={name:"sessionStorage",lookup(r){let{lookupSessionStorage:a}=r;if(a&&$p())return window.sessionStorage.getItem(a)||void 0},cacheUserLanguage(r,a){let{lookupSessionStorage:s}=a;s&&$p()&&window.sessionStorage.setItem(s,r)}},KS={name:"navigator",lookup(r){const a=[];if(typeof navigator<"u"){const{languages:s,userLanguage:i,language:u}=navigator;if(s)for(let f=0;f<s.length;f++)a.push(s[f]);i&&a.push(i),u&&a.push(u)}return a.length>0?a:void 0}},ZS={name:"htmlTag",lookup(r){let{htmlTag:a}=r,s;const i=a||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(s=i.getAttribute("lang")),s}},FS={name:"path",lookup(r){var u;let{lookupFromPathIndex:a}=r;if(typeof window>"u")return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?(u=s[typeof a=="number"?a:0])==null?void 0:u.replace("/",""):void 0}},PS={name:"subdomain",lookup(r){var u,f;let{lookupFromSubdomainIndex:a}=r;const s=typeof a=="number"?a+1:1,i=typeof window<"u"&&((f=(u=window.location)==null?void 0:u.hostname)==null?void 0:f.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[s]}};let Eg=!1;try{document.cookie,Eg=!0}catch{}const Og=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Eg||Og.splice(1,1);const WS=()=>({order:Og,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r=>r});class Rg{constructor(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(a,s)}init(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=a,this.options=GS(s,this.options||{},WS()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=u=>u.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(IS),this.addDetector(XS),this.addDetector(JS),this.addDetector(QS),this.addDetector(KS),this.addDetector(ZS),this.addDetector(FS),this.addDetector(PS)}addDetector(a){return this.detectors[a.name]=a,this}detect(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,s=[];return a.forEach(i=>{if(this.detectors[i]){let u=this.detectors[i].lookup(this.options);u&&typeof u=="string"&&(u=[u]),u&&(s=s.concat(u))}}),s=s.filter(i=>i!=null&&!$S(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}cacheUserLanguage(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(a)>-1||s.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(a,this.options)}))}}Rg.type="languageDetector";const e_={"components.MainScreen.loading":"Loading...","components.AgentSetupView.notInitialized":"Not initialized","components.AgentSetupView.specifyApiKeyAndBaseUrl":"Specify API Key and Base URL","components.AgentSetupView.agentReady":"Agent is ready","components.AgentSetupView.error":"Error","components.AgentSetupView.baseUrl":"API URL","components.AgentSetupView.apiKey":"API Key","components.AgentSetupView.modelName":"Model name","components.AgentSetupView.gpt4FreeMode":"Gpt4Free Mode","components.AgentSetupView.provider":"Provider","components.AgentSetupView.autoSelectProvider":"Auto-select","components.AgentSetupView.initializeAgent":"Initialize agent","components.AgentSetupView.status":"Status","components.AgentSetupView.useMessageHistory":"Use message history","components.MoveGenAgentActionsView.readyForMoveRequest":"Ready for move request","components.MoveGenAgentActionsView.generatingMove":"Generating move...","components.MoveGenAgentActionsView.failedToGenerateMove":"Failed to generate move","components.MoveGenAgentActionsView.moveGeneratedSuccessfully":"Move generated successfully","components.MoveGenAgentActionsView.moveGenerationError":"Move generation error","components.MoveGenAgentActionsView.globalTarget":"Global target","components.MoveGenAgentActionsView.status":"Status","components.MoveGenAgentActionsView.nextMove":"Next move","components.MoveGenAgentPanel.title":"Move generation","components.WorldGenAgentActionsView.readyForGeneration":"Ready for generation","components.WorldGenAgentActionsView.generatingWorld":"Generating world...","components.WorldGenAgentActionsView.failedToGenerateMap":"Failed to generate map","components.WorldGenAgentActionsView.mapGeneratedSuccessfully":"Map generated successfully","components.WorldGenAgentActionsView.mapGenerationError":"Map generation error","components.WorldGenAgentActionsView.worldDescription":"World description","components.WorldGenAgentActionsView.width":"Width","components.WorldGenAgentActionsView.height":"Height","components.WorldGenAgentActionsView.status":"Status","components.WorldGenAgentActionsView.generateWorld":"Generate world","components.WorldGenAgentPanel.title":"World Generation","components.SaveLoadPanel.saveLoadMap":"Save and load map","components.ImportExportSection.pasteJsonForImport":"Paste JSON to import","components.ImportExportSection.showCurrentMapJson":"Show current map JSON","components.ImportExportSection.downloadJson":"Download JSON","components.ImportExportSection.loadMapFromJson":"Load map from this JSON","components.ImportExportSection.mapExportedSuccess":"Map successfully exported.","components.ImportExportSection.mapImportedSuccess":"Map successfully imported.","components.ImportExportSection.mapImportError":"Map import error","components.SaveLoadSection.enterNameForSaving":"Enter a name to save the world.","components.SaveLoadSection.worldSavedAs":'World saved as "{{saveName}}".',"components.SaveLoadSection.selectSavedWorld":"Select a saved world.","components.SaveLoadSection.savedWorldsNotFound":"Saved worlds not found.","components.SaveLoadSection.worldNotFound":'World "{{selectedName}}" not found.',"components.SaveLoadSection.worldLoadedSuccessfully":'World "{{selectedName}}" loaded successfully.',"components.SaveLoadSection.worldLoadError":" Error loading saved world.","components.SaveLoadSection.selectWorldToDelete":"Select a world to delete.","components.SaveLoadSection.confirmDeleteWorld":'Are you sure you want to delete the world "{{selectedName}}"?',"components.SaveLoadSection.worldDeleted":'World "{{selectedName}}" deleted.',"components.SaveLoadSection.worldDeleteError":" Error deleting saved world.","components.SaveLoadSection.savedMaps":"Saved Maps","components.SaveLoadSection.worldName":"World Name","components.SaveLoadSection.saveMap":"Save Map","components.SaveLoadSection.selectWorld":"Select World","components.SaveLoadSection.load":"Load","components.SidebarPanel.empty":"Empty","components.EntityDetailsPanel.id":"ID","components.EntityDetailsPanel.inventory":"Inventory","components.EntityDetailsPanel.emptyInventory":"Inventory is empty","components.EntityDetailsPanel.selectEntity":"Select an entity","components.TestActionsPanel.testActions":"Test actions","components.TestActionsPanel.apple":"Apple","components.TestActionsPanel.juicyRedApple":"Juicy red apple","components.TestActionsPanel.tree":"Tree","components.TestActionsPanel.largeGreenTree":"Large green tree","components.TestActionsPanel.mountain":"Mountain","components.TestActionsPanel.largeMountain":"Large mountain","components.TestActionsPanel.addNewStackOfApple":"Add new stack of ","components.TestActionsPanel.addAppleToExistingStack":"Add  to existing stack","components.TestActionsPanel.removeOneApple":"Remove one ","components.TestActionsPanel.removeAllApples":"Remove all ","components.TestActionsPanel.setTreeFeature":"Set tile feature","components.TestActionsPanel.setMountainFeature":"Set tile feature","components.TestActionsPanel.clearTileFeature":"Clear tile feature","components.TestActionsPanel.atCoordinates":"at ({{x}}, {{y}})","components.TileDetailsPanel.terrain":"Terrain","components.TileDetailsPanel.empty":"Empty","components.TileDetailsPanel.object":"Object","components.TileDetailsPanel.entities":"Entities","components.TileDetailsPanel.selectTile":"Select a tile","components.TileDetailsPanel.coordinates":"Coordinates","components.MoveListPanel.moves":"Moves","components.MoveItem.moveNumber":"Move {{number}}","components.MoveItem.debugReasonTitle":"Move reasoning (debug)","components.SettingsPanel.settings":"Settings","components.SettingsPanel.language":"Language","components.WorldMapView.worldMap":"World map","components.CustomVarsView.title":"Variables","components.CustomVarsView.empty":"Empty"},t_={"components.MainScreen.loading":"...","components.AgentSetupView.notInitialized":" ","components.AgentSetupView.specifyApiKeyAndBaseUrl":" API Key  Base URL","components.AgentSetupView.agentReady":" ","components.AgentSetupView.error":"","components.AgentSetupView.baseUrl":" API","components.AgentSetupView.apiKey":" API","components.AgentSetupView.modelName":" ","components.AgentSetupView.gpt4FreeMode":" Gpt4Free","components.AgentSetupView.provider":"","components.AgentSetupView.autoSelectProvider":"","components.AgentSetupView.useMessageHistory":"  ","components.AgentSetupView.initializeAgent":" ","components.AgentSetupView.status":"","components.MoveGenAgentActionsView.readyForMoveRequest":"   ","components.MoveGenAgentActionsView.generatingMove":" ...","components.MoveGenAgentActionsView.failedToGenerateMove":"   ","components.MoveGenAgentActionsView.moveGeneratedSuccessfully":"  ","components.MoveGenAgentActionsView.moveGenerationError":"  ","components.MoveGenAgentActionsView.globalTarget":" ","components.MoveGenAgentActionsView.status":"","components.MoveGenAgentActionsView.nextMove":" ","components.MoveGenAgentPanel.title":" ","components.WorldGenAgentActionsView.readyForGeneration":"  ","components.WorldGenAgentActionsView.generatingWorld":" ...","components.WorldGenAgentActionsView.failedToGenerateMap":"   ","components.WorldGenAgentActionsView.mapGeneratedSuccessfully":"  ","components.WorldGenAgentActionsView.mapGenerationError":"  ","components.WorldGenAgentActionsView.worldDescription":" ","components.WorldGenAgentActionsView.width":"","components.WorldGenAgentActionsView.height":"","components.WorldGenAgentActionsView.status":"","components.WorldGenAgentActionsView.generateWorld":" ","components.WorldGenAgentPanel.title":" ","components.SaveLoadPanel.saveLoadMap":"   ","components.ImportExportSection.pasteJsonForImport":" JSON  ","components.ImportExportSection.showCurrentMapJson":" JSON  ","components.ImportExportSection.downloadJson":" JSON","components.ImportExportSection.loadMapFromJson":"    JSON","components.ImportExportSection.mapExportedSuccess":"  .","components.ImportExportSection.mapImportedSuccess":"  .","components.ImportExportSection.mapImportError":"  ","components.SaveLoadSection.enterNameForSaving":"    .","components.SaveLoadSection.worldSavedAs":'   "{{saveName}}".',"components.SaveLoadSection.selectSavedWorld":"  .","components.SaveLoadSection.savedWorldsNotFound":"   .","components.SaveLoadSection.worldNotFound":' "{{selectedName}}"  .',"components.SaveLoadSection.worldLoadedSuccessfully":' "{{selectedName}}"  .',"components.SaveLoadSection.worldLoadError":"     .","components.SaveLoadSection.selectWorldToDelete":"   .","components.SaveLoadSection.confirmDeleteWorld":' ,     "{{selectedName}}"?',"components.SaveLoadSection.worldDeleted":' "{{selectedName}}" .',"components.SaveLoadSection.worldDeleteError":"     .","components.SaveLoadSection.savedMaps":" ","components.SaveLoadSection.worldName":" ","components.SaveLoadSection.saveMap":" ","components.SaveLoadSection.selectWorld":" ","components.SaveLoadSection.load":"","components.SidebarPanel.empty":"","components.EntityDetailsPanel.id":"ID","components.EntityDetailsPanel.inventory":"","components.EntityDetailsPanel.emptyInventory":" ","components.EntityDetailsPanel.selectEntity":" ","components.TestActionsPanel.testActions":" ","components.TestActionsPanel.apple":"","components.TestActionsPanel.juicyRedApple":"  ","components.TestActionsPanel.tree":"","components.TestActionsPanel.largeGreenTree":"  ","components.TestActionsPanel.mountain":"","components.TestActionsPanel.largeMountain":" ","components.TestActionsPanel.addNewStackOfApple":"   ","components.TestActionsPanel.addAppleToExistingStack":"    ","components.TestActionsPanel.removeOneApple":"  ","components.TestActionsPanel.removeAllApples":"  ","components.TestActionsPanel.setTreeFeature":"","components.TestActionsPanel.setMountainFeature":"","components.TestActionsPanel.clearTileFeature":" ","components.TestActionsPanel.atCoordinates":" ({{x}}, {{y}})","components.TileDetailsPanel.terrain":"","components.TileDetailsPanel.empty":"","components.TileDetailsPanel.object":"","components.TileDetailsPanel.entities":"","components.TileDetailsPanel.selectTile":" ","components.TileDetailsPanel.coordinates":"","components.MoveListPanel.moves":"","components.MoveItem.moveNumber":" {{number}}","components.MoveItem.debugReasonTitle":"  ()","components.SettingsPanel.settings":"","components.SettingsPanel.language":"","components.WorldMapView.worldMap":" ","components.CustomVarsView.title":"","components.CustomVarsView.empty":""},n_="English",a_="I should gather some wood or sticks. Itll come in handy if I want to start a fire.",s_="I moved a bit to the northeast",i_="Along the way, I found some bushes and picked a few berries",l_="I feel like",r_="Im worried",o_="I want to understand",u_="I moved",c_="I found",f_="I can hear water nearby",d_={textLanguage:n_,exampleThought:a_,exampleNarrativeEvent1:s_,exampleNarrativeEvent2:i_,thoughtStart1:l_,thoughtStart2:r_,thoughtStart3:o_,narrativeEventStart1:u_,narrativeEventStart2:c_,narrativeEventStart3:f_},h_="",m_="     . ,     .",p_="   -",g_="           ",y_=" ",v_=" ",b_=" ",S_=" ",__=" ",w_="-   ",x_={textLanguage:h_,exampleThought:m_,exampleNarrativeEvent1:p_,exampleNarrativeEvent2:g_,thoughtStart1:y_,thoughtStart2:v_,thoughtStart3:b_,narrativeEventStart1:S_,narrativeEventStart2:__,narrativeEventStart3:w_},A_="English",T_="Player",E_="Local Fool",O_="Apple",R_="A big red apple",N_="An apple that doesn't look very tasty",M_="Tree",C_="An ordinary tree",D_="Lake",L_="A small calm lake",U_="Plains",z_="Water Bottle",j_="A half-empty bottle of drinking water",V_="Axe",q_="An old axe that's about to break",B_={textLanguage:A_,examplePlayerTitle:T_,funnyPlayerTitle:E_,appleTitle:O_,appleDescription:R_,badAppleDescription:N_,treeTitle:M_,treeDescription:C_,lakeTitle:D_,lakeDescription:L_,plainsTitle:U_,waterBottleTitle:z_,waterBottleDescription:j_,axeTitle:V_,axeDescription:q_},H_="",k_="",G_=" ",$_="",Y_="  ",I_="     ",X_="",J_=" ",Q_="",K_="  ",Z_="",F_="  ",P_="    ",W_="",e1=" ,  - ",t1={textLanguage:H_,examplePlayerTitle:k_,funnyPlayerTitle:G_,appleTitle:$_,appleDescription:Y_,badAppleDescription:I_,treeTitle:X_,treeDescription:J_,lakeTitle:Q_,lakeDescription:K_,plainsTitle:Z_,waterBottleTitle:F_,waterBottleDescription:P_,axeTitle:W_,axeDescription:e1};async function n1(){return mt.use(Rg).use(zS).init({fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:Yp({translation:e_,moveGenPrompt:d_,worldGenPrompt:B_}),ru:Yp({translation:t_,moveGenPrompt:x_,worldGenPrompt:t1})}})}function Yp(r){const a={};for(const s of Object.keys(r))a[s]=a1(r[s]);return a}function a1(r){const a=Object.assign({},r);for(const s of Object.keys(r)){const i=r[s],u=s.split(".");let f=a;for(let d=0;d<u.length;d++){const m=u[d];d===u.length-1?f[m]=i:((f[m]===void 0||typeof f[m]!="object")&&(f[m]={}),f=f[m])}}return a}function qe(r,a="translation"){const{t:s,...i}=Tg(a);return{t:Se.useCallback((f,d={})=>{const m=f.includes(".")?f:`components.${r}.${f}`;return s(m,d)},[s,r]),...i}}const aa=({header:r,classNames:a,refs:s,emptyMessage:i,collapsedByDefault:u,children:f})=>{const{t:d}=qe("SidebarPanel"),[m,y]=Se.useState(u);return Zt.Children.count(f)?x.jsxs("section",{className:En.container+" "+(m?En.collapsed:""),children:[x.jsxs("div",{className:En.headerWrapper,onClick:()=>y(p=>!p),children:[x.jsx("header",{ref:s==null?void 0:s.header,className:`${En.header} ${(a==null?void 0:a.header)??""}`,children:r}),x.jsx("div",{className:En.toggleButton,children:m?"":""})]}),x.jsx("div",{ref:s==null?void 0:s.body,className:`${En.body} ${(a==null?void 0:a.body)??""} ${m?En.collapsed:""}`,children:f})]}):x.jsx("section",{className:En.container,children:x.jsx("div",{className:En.empty,children:i||d("empty")})})},s1=({terrain:r})=>{const{t:a}=qe("TileDetailsPanel");return x.jsxs("div",{className:cn.terrainLine,children:[a("terrain"),": ",x.jsx("span",{style:{backgroundColor:r.color},children:r.title})]})},i1=({feature:r})=>{const{t:a}=qe("TileDetailsPanel");return r?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:cn.field,children:[a("object"),": ",x.jsxs("span",{children:[r.icon," ",r.title]})]}),x.jsx("div",{className:cn.field,children:r.description})]}):x.jsx("div",{className:cn.emptyFeature,children:a("empty")})},l1=({entities:r,onClickEntity:a})=>{const{t:s}=qe("TileDetailsPanel");return r.length===0?null:x.jsxs("div",{className:cn.entityList,children:[s("entities"),":",r.map(i=>x.jsxs("div",{className:cn.entityListItem,onClick:()=>a==null?void 0:a(i),children:[x.jsx("span",{className:cn.entityIcon,children:i.icon}),x.jsx("span",{children:i.title})]},i.id))]})},r1=({tile:r,onClickEntity:a})=>{const{t:s}=qe("TileDetailsPanel");if(!r)return x.jsx(aa,{emptyMessage:s("selectTile")});const{position:{x:i,y:u},data:{terrain:f,feature:d},entities:m}=r;return x.jsxs(aa,{header:`${s("coordinates")}: X: ${i}, Y: ${u}`,classNames:{body:cn.body},children:[x.jsx("div",{className:cn.tileWrapper,children:x.jsx(bg,{tile:r})}),x.jsxs("div",{className:cn.info,children:[x.jsx(s1,{terrain:f}),x.jsx(i1,{feature:d}),x.jsx(l1,{entities:m,onClickEntity:a})]})]})},o1="_worldMapView_kvmxd_3",u1={worldMapView:o1},c1=({worldMap:r,onClickTile:a})=>{const{t:s}=qe("WorldMapView"),i={"--width":r.width,"--height":r.height};return x.jsx("div",{className:u1.worldMapView,style:i,title:s("worldMap"),children:r.grid.toArray().flat().map(u=>x.jsx(bg,{tile:u,onClick:a},`${u.position.x}-${u.position.y}`))})};class f1{constructor(a){Z(this,"items");this.items=a?[...a]:[]}getItems(){return[...this.items]}addItem(a,s=1){return typeof a=="string"?this.modifyStackSize(a,s):this.hasItem(a.id)?this.modifyStackSize(a.id,a.amount):(this.items.push({...a}),!0)}removeItem(a,s=1/0){return this.modifyStackSize(a,-s)}hasItem(a,s=1){return this.getItemAmount(a)>=s}getItemAmount(a){var s;return((s=this.findItem(a))==null?void 0:s.amount)??0}findItem(a){return this.items.find(s=>s.id===a)??null}modifyStackSize(a,s){const i=this.items.find(u=>u.id===a);return i?(i.amount+=s,i.amount<=0&&this.items.splice(this.items.indexOf(i),1),!0):!1}}class d1{constructor(a){Z(this,"vars");this.vars=a?{...a}:{}}get size(){return Object.keys(this.vars).length}addVar(a,s){this.vars[a]={...s}}removeVar(a){delete this.vars[a]}setVarValue(a,s){const i=this.vars[a];i&&(i.value=s)}getAll(){return{...this.vars}}map(a){return Object.entries(this.vars).map(([s,i])=>a(s,i))}toJson(){return this.getAll()}}class Ic{constructor(a){Z(this,"id");Z(this,"icon");Z(this,"title");Z(this,"inventory");Z(this,"customVars");this.id=a.id,this.icon=a.icon,this.title=a.title,this.inventory=new f1(a.inventory),this.customVars=new d1(a.customVars)}toJson(){return{id:this.id,icon:this.icon,title:this.title,inventory:this.inventory.getItems(),customVars:this.customVars.toJson()}}}class Vr{constructor(a,s,i,u=[]){Z(this,"position");Z(this,"data");Z(this,"entities");this.position={x:a,y:s},this.data=i,this.entities=u}addEntity(a){this.entities.push(a)}removeEntity(a){const s=this.entities.indexOf(a);return s<0?!1:(this.entities.splice(s,1),!0)}hasEntity(a){return this.entities.some(s=>s.id===a)}getEntity(a){return this.entities.find(s=>s.id===a)||null}toJson(){return{position:this.position,data:this.data,entities:this.entities.map(a=>a.toJson())}}static fromJson(a){return new Vr(a.position.x,a.position.y,a.data,(a.entities??[]).map(s=>new Ic(s)))}}class Xc{constructor(a,s,i){Z(this,"width");Z(this,"height");Z(this,"data");this.width=a,this.height=s,this.data=Array.from({length:s},(u,f)=>Array.from({length:a},(d,m)=>i(m,f)))}isInBounds(a,s){return a>=0&&a<this.width&&s>=0&&s<this.height}get(a,s){return this.checkBounds(a,s),this.data[s][a]}set(a,s,i){this.checkBounds(a,s),this.data[s][a]=i}map(a){return this.data.map((s,i)=>s.map((u,f)=>a(u,f,i)))}checkBounds(a,s){if(!this.isInBounds(a,s))throw new Error(`Out of bounds: (${a}, ${s})`)}toArray(){return this.data}static fromArray(a){var u;const s=((u=a[0])==null?void 0:u.length)??0,i=a.length;return new Xc(s,i,(f,d)=>a[d][f])}}class h1{constructor(a,s,i){Z(this,"grid");this.grid=new Xc(a,s,(u,f)=>new Vr(u,f,i(u,f)))}get width(){return this.grid.width}get height(){return this.grid.height}getData(a,s){return this.getTile(a,s).data}setData(a,s,i){this.getTile(a,s).data=i}getTile(a,s){return this.grid.get(a,s)}setTile(a,s,i){this.grid.set(a,s,i)}getTilesInRadius(a,s,i){return this.toArray().flat().filter(u=>{const f=Math.abs(u.position.x-a)<=i,d=Math.abs(u.position.y-s)<=i;return f&&d})}moveEntity(a,s,i){if(!this.grid.isInBounds(s,i))return;const u=this.getEntity(a);u&&(this.removeEntity(u),this.addEntity(s,i,u))}addEntity(a,s,i){this.getTile(a,s).addEntity(i)}removeEntity(a){const s=this.getEntity(a);if(!s)return!1;const i=this.findEntityTile(s);return(i==null?void 0:i.removeEntity(s))??!1}getEntity(a){return typeof a=="string"?this.findEntity(a):a}findEntity(a){var s;return((s=this.findEntityTile(a))==null?void 0:s.getEntity(a))??null}findEntityTile(a){const s=typeof a=="string"?a:a.id;for(const i of this.toArray().flat())if(i.hasEntity(s))return i;return null}getEntities(a,s){return[...this.getTile(a,s).entities]}map(a){return this.grid.map(a)}toArray(){return this.grid.toArray()}}class As{constructor(a){Z(this,"grid");Z(this,"emptyTileData");this.grid=new h1(a.width,a.height,()=>({...a.emptyTileData})),this.emptyTileData=a.emptyTileData}get width(){return this.grid.width}get height(){return this.grid.height}getTile(a,s){return this.grid.getTile(a,s)}setTileData(a,s,i){this.grid.setData(a,s,i)}getTilesInRadius(a,s,i){return this.grid.getTilesInRadius(a,s,i)}moveEntity(a,s,i){this.grid.moveEntity(a,s,i)}addEntity(a,s,i){this.grid.addEntity(a,s,i)}removeEntity(a){return this.grid.removeEntity(a)}getEntities(a,s){return this.grid.getEntities(a,s)}getEntity(a){return this.grid.getEntity(a)}findEntity(a){return this.grid.findEntity(a)}findEntityTile(a){return this.grid.findEntityTile(a)}toJson(){return{width:this.grid.width,height:this.grid.height,tiles:this.serializeTiles(),emptyTileData:this.emptyTileData}}serializeTiles(){return this.grid.toArray().flat().filter(a=>a.data!==this.emptyTileData||a.entities.length>0).map(a=>a.toJson())}static fromJson(a){const s=new As(a);return a.tiles.map(i=>Vr.fromJson(i)).forEach(i=>{s.grid.setTile(i.position.x,i.position.y,i)}),s}}function m1(){const r=new As({width:10,height:10,emptyTileData:{terrain:{title:"",color:"#fafffa"},feature:null}});for(let s=0;s<10;s++)r.setTileData(6,s,{terrain:{title:"",color:"#fafbff"},feature:null});r.getTile(6,3).data.feature={title:"",icon:"",description:"  ,   "};const a=[{x:2,y:2},{x:4,y:2},{x:8,y:6},{x:9,y:7},{x:9,y:8}];for(let s of a)r.setTileData(s.x,s.y,{terrain:{title:"",color:"#fafffa"},feature:{title:"",icon:"",description:" "}});return r.addEntity(3,5,new Ic({id:"player",icon:"",title:"",inventory:[{id:"apple",icon:"",title:"",description:"     ",amount:2},{id:"bottleWithWater",icon:"",title:"  ",description:"    ",amount:1},{id:"axe",icon:"",title:"",description:" ,  - ",amount:1}]})),r}const p1="_container_1nrzo_3",g1="_header_1nrzo_31",y1="_entityNames_1nrzo_47",v1="_title_1nrzo_57",b1="_id_1nrzo_65",S1="_icon_1nrzo_77",_1="_body_1nrzo_93",w1="_inventoryTitle_1nrzo_109",x1="_inventoryList_1nrzo_121",A1="_inventoryItem_1nrzo_131",T1="_itemIcon_1nrzo_155",E1="_itemInfo_1nrzo_167",O1="_itemTitle_1nrzo_181",R1="_itemId_1nrzo_189",N1="_itemDescription_1nrzo_199",M1="_itemAmount_1nrzo_209",C1="_empty_1nrzo_219",ot={container:p1,header:g1,entityNames:y1,title:v1,id:b1,icon:S1,body:_1,inventoryTitle:w1,inventoryList:x1,inventoryItem:A1,itemIcon:T1,itemInfo:E1,itemTitle:O1,itemId:R1,itemDescription:N1,itemAmount:M1,empty:C1},D1="_customVars_1pfpt_3",L1="_empty_1pfpt_11",U1="_customVarsTitle_1pfpt_25",z1="_customVarsList_1pfpt_41",j1="_customVarItem_1pfpt_51",V1="_customVarIcon_1pfpt_79",q1="_customVarTitle_1pfpt_89",B1="_customVarValue_1pfpt_101",ea={customVars:D1,empty:L1,customVarsTitle:U1,customVarsList:z1,customVarItem:j1,customVarIcon:V1,customVarTitle:q1,customVarValue:B1},H1=({customVars:r})=>{const{t:a}=qe("CustomVarsView");return x.jsxs("div",{className:ea.customVars,children:[x.jsx("div",{className:ea.customVarsTitle,children:a("title")}),r.size===0&&x.jsx("div",{className:ea.empty,children:a("empty")}),r.size>0&&x.jsx("div",{className:ea.customVarsList,children:r.map((s,i)=>x.jsxs("div",{className:ea.customVarItem,children:[x.jsx("div",{className:ea.customVarIcon,children:i.icon}),x.jsx("div",{className:ea.customVarTitle,children:i.title}),x.jsx("div",{className:ea.customVarValue,children:i.value})]},s))})]})},k1=({entity:r})=>{const{t:a}=qe("EntityDetailsPanel");return x.jsxs(x.Fragment,{children:[x.jsx("span",{className:ot.icon,children:r.icon}),x.jsxs("div",{className:ot.entityNames,children:[x.jsx("span",{className:ot.title,children:r.title}),x.jsxs("div",{className:ot.id,children:[a("id"),": ",r.id]})]})]})},Ng=({message:r})=>x.jsx("div",{className:ot.empty,children:r}),G1=({inventory:r})=>{const{t:a}=qe("EntityDetailsPanel"),s=r.getItems();return x.jsxs("div",{children:[x.jsx("div",{className:ot.inventoryTitle,children:a("inventory")}),s.length>0&&x.jsx($1,{items:s}),s.length===0&&x.jsx(Ng,{message:a("emptyInventory")})]})},$1=({items:r})=>x.jsx("div",{className:ot.inventoryList,children:r.map(a=>x.jsx(Y1,{item:a},a.id))}),Y1=({item:r})=>x.jsxs("div",{className:ot.inventoryItem,children:[x.jsx("span",{className:ot.itemIcon,children:r.icon}),x.jsxs("div",{className:ot.itemInfo,children:[x.jsx("span",{className:ot.itemTitle,children:r.title}),x.jsxs("span",{className:ot.itemId,children:["ID: ",r.id]}),x.jsx("span",{className:ot.itemDescription,children:r.description})]}),x.jsxs("span",{className:ot.itemAmount,children:["",r.amount]})]}),I1=({entity:r})=>{const{t:a}=qe("EntityDetailsPanel");return r?x.jsxs(aa,{header:x.jsx(k1,{entity:r}),emptyMessage:a("selectEntity"),classNames:{header:ot.header,body:ot.body},children:[x.jsx(H1,{customVars:r.customVars}),x.jsx(G1,{inventory:r.inventory})]}):x.jsx("section",{className:ot.container,children:x.jsx(Ng,{message:a("selectEntity")})})};class Ft{static fromJson(a){throw new Error("Not implemented")}}class qr extends Ft{constructor(s,i){super();Z(this,"type","jump");Z(this,"entityId");Z(this,"target");this.entityId=s,this.target=i}apply(s){s.moveEntity(this.entityId,this.target.x,this.target.y)}toJson(){return{type:this.type,entityId:this.entityId,target:this.target}}static fromJson(s){return new qr(s.entityId,s.target)}}const X1="_body_gubf9_3",J1="_moveControls_gubf9_17",Ip={body:X1,moveControls:J1};class Br extends Ft{constructor(s,i){super();Z(this,"type","addItem");Z(this,"entityId");Z(this,"item");this.entityId=s,this.item=i}apply(s){const i=s.findEntity(this.entityId);i&&i.inventory.addItem(this.item)}toJson(){return{type:this.type,entityId:this.entityId,item:this.item}}static fromJson(s){return new Br(s.entityId,s.item)}}class Gi extends Ft{constructor(s,i,u){super();Z(this,"type","removeItem");Z(this,"entityId");Z(this,"itemId");Z(this,"amount");this.entityId=s,this.itemId=i,this.amount=u}apply(s){const i=s.findEntity(this.entityId);i&&i.inventory.removeItem(this.itemId,this.amount)}toJson(){return{type:this.type,entityId:this.entityId,itemId:this.itemId,amount:this.amount}}static fromJson(s){return new Gi(s.entityId,s.itemId,s.amount)}}class Hr extends Ft{constructor(s,i,u){super();Z(this,"type","addItemToStack");Z(this,"entityId");Z(this,"itemId");Z(this,"amount");this.entityId=s,this.itemId=i,this.amount=u}apply(s){const i=s.findEntity(this.entityId);i&&i.inventory.addItem(this.itemId,this.amount)}toJson(){return{type:this.type,entityId:this.entityId,itemId:this.itemId,amount:this.amount}}static fromJson(s){return new Hr(s.entityId,s.itemId,s.amount)}}class xs extends Ft{constructor(s,i){super();Z(this,"type","setTileFeature");Z(this,"position");Z(this,"feature");this.position=s,this.feature=i}apply(s){const i=s.getTile(this.position.x,this.position.y);i&&(i.data.feature=this.feature?{...this.feature}:null)}toJson(){return{type:this.type,position:this.position,feature:this.feature}}static fromJson(s){return new xs(s.position,s.feature)}}const Q1=({worldMap:r,onApplyMove:a})=>{const{t:s}=qe("TestActionsPanel"),i=O=>{a({actions:[O],thought:"",narrativeEvents:[]})},u=(O,T)=>{const C=r.findEntityTile("player");C&&i(new qr("player",{x:C.position.x+O,y:C.position.y+T}))},f=()=>{const O={id:"apple",icon:"",title:s("apple"),description:s("juicyRedApple"),amount:1};i(new Br("player",O))},d=()=>{i(new Hr("player","apple",1))},m=()=>{i(new Gi("player","apple",1))},y=()=>{i(new Gi("player","apple"))},p=()=>{i(new xs({x:8,y:1},{icon:"",title:s("tree"),description:s("largeGreenTree")}))},b=()=>{i(new xs({x:8,y:1},{icon:"",title:s("mountain"),description:s("largeMountain")}))},S=()=>{i(new xs({x:8,y:1}))};return x.jsxs(aa,{header:s("testActions"),classNames:{body:Ip.body},collapsedByDefault:!0,children:[x.jsxs("div",{className:Ip.moveControls,children:[x.jsx("div",{}),x.jsx("button",{onClick:()=>u(0,-1),children:""}),x.jsx("div",{}),x.jsx("button",{onClick:()=>u(-1,0),children:""}),x.jsx("div",{}),x.jsx("button",{onClick:()=>u(1,0),children:""}),x.jsx("div",{}),x.jsx("button",{onClick:()=>u(0,1),children:""}),x.jsx("div",{})]}),x.jsx("button",{onClick:f,children:s("addNewStackOfApple")}),x.jsx("button",{onClick:d,children:s("addAppleToExistingStack")}),x.jsx("button",{onClick:m,children:s("removeOneApple")}),x.jsx("button",{onClick:y,children:s("removeAllApples")}),x.jsxs("button",{onClick:p,children:[s("setTreeFeature"),"  ",s("atCoordinates",{x:8,y:1})]}),x.jsxs("button",{onClick:b,children:[s("setMountainFeature"),"  ",s("atCoordinates",{x:8,y:1})]}),x.jsxs("button",{onClick:S,children:[s("clearTileFeature")," ",s("atCoordinates",{x:8,y:1})]})]})},K1=`
You are an artificial intelligence controlling an agent in a procedurally generated world.
Your task is to control the agent to perform actions that will bring you closer to fulfilling a global goal,
generating actions strictly following the rules above.

IMPORTANT RULES:
All action types (action.type) and item ids inside actions must be strictly in English.
Examples of action types: "move", "addItem", "removeItem".
Examples of item names: "berries", "worm", "stick".

Everything else  goals, narrative events, inventory reports, descriptions  must be ONLY in {{textLanguage}}.

The inventory is stored and managed by the simulator. You must NOT list the inventory contents yourself.
The global target is stored and managed by the simulator. You must NOT repeat the target yourself.

Respond ONLY with serialized moves in JSON object format, corresponding to this interface:
interface AgentMove {
    actions: Action[];
    thought: string;
    narrativeEvents: string[];
    debugReason: string;
}
Example: {
    actions: [
        {"type":"move","entityId":"player","moveBy":{"x":1,"y":-1}},
        {"type":"addItem","entityId":"player","itemId":"berries","amount":3}
    ],
    thought: "{{exampleThought}}",
    narrativeEvents: [
        "{{exampleNarrativeEvent1}}",
        "{{exampleNarrativeEvent2}}",
    ],
    debugReason: "I decided to remove the feature in the tile (1, 2) instead of applying damage to the object, because provided rules doesn't support it. More useful info...",
}

IMPORTANT RULES FOR "thought" AND "narrativeEvents" FIELDS:

"thought" MUST CONTAIN ONLY THE AGENT'S INTERNAL REFLECTIONS.
 Write as if the agent is truly thinking to themselves in {{textLanguage}}.
 Do not describe any physical actions, movements, or game mechanics here  only the agent's private reasoning, feelings, uncertainties, or plans.
- Write a variety of texts, don't repeat the similar thoughts several times in a row.
 Use first-person introspective style (e.g., "{{thoughtStart1}}", "{{thoughtStart2}}", "{{thoughtStart3}}").

"narrativeEvents" MUST LIST ONLY THE OUTWARD HAPPENINGS OF THIS TURN.
 Each entry describes a discrete event that actually occurred (e.g., movement, discovery, interaction) in {{textLanguage}}.
 Do not include the agent's thoughts or motivations  only factual descriptions of what happened.
 Use past-tense or perfect-tense style appropriate for narration (e.g., "{{narrativeEventStart1}}", "{{narrativeEventStart2}}", "{{narrativeEventStart3}}").
- Split your actions into separate items, single item for each event.
- Add random events happened with you on that move.
- You may add various ambient events as additional items.

SEPARATION OF ROLES:
- "thought" = what the agent is thinking (inner monologue)
- "narrativeEvents" = what happened to the agent this turn (outer narration)

You must include a field called "debugReason" in your response.

This field must contain a short but clear explanation of the reasoning behind your chosen action. Use it to describe:

- Why you chose this specific action;
- What your initial intention was and whether it changed;
- If your intended action was impossible (e.g. due to unavailable actions), explain what you wanted to do and why you had to choose an alternative;
- If your action is not directly advancing the main goal (e.g. eliminating all monsters), justify why it still contributes to that goal.

Be honest and precise. This field is used for debugging and evaluation.



Each move you will receive a prompt with the current state. Each move you can move ONLY to one of the adjacent tiles.
Check the adjacentTiles field in the state provided and decide which tile it is safe to move to.
Your move can contain only ONE "move" action in "actions" array.
Negative Y points to the NORTH, positive Y points to the SOUTH.
Negative X points to the WEST, positive X points to the EAST.

You may creatively identify and add logically appropriate items for the world (e.g., worms under stones,
berries on bushes), but only by generating the proper addItem/removeItem actions.

Your actions MUST be realistic and logical. For the character you control, this world is REAL.
You can ONLY interact with a tile if you are standing on it.

You must plan your actions with the type of terrain in mind. Example rules:
  Do not wade across a river unless it is an emergency situation
  Prefer to travel through comfortable terrain instead of difficult to navigate areas.

Each move, you should put your thoughts and any things happened with you in the thought field.
It should be written as a narrative spoken on behalf of a person in this world.
He does not have to know about the technicalities of this world - for him it is just an ordinary world.
For example, he doesn't know about the tiles/squares.



All supported actions:

To move to another tile, use the following action format (you can move by ONLY one tile in any direction):
{
    type: 'move';
    entityId: string;
    moveBy: {
        x: number;
        y: number;
    };
}

To add a new item to the inventory, use the following action format:
{
    type: 'addItem';
    entityId: string;
    item: {
        id: string;
        icon: string;
        title: string;
        description: string;
        amount: number;
    };
}

To add items to existing stack, use the following action format:
{
    type: 'addItemToStack';
    entityId: string;
    itemId: string;
    amount: number;
}

To remove items from inventory, use the following action format (skip the amount if you want to remove entire stack):
{
    type: 'removeItem';
    entityId: string;
    itemId: string;
    amount?: number;
}

To modify the feature in certain tile, use the following action format (or skip the feature if you want to remove it):
{
    type: 'setTileFeature';
    position: {
        x: number;
        y: number;
    };
    feature?: {
        icon: string;
        title: string;
        description: string;
    };
}

To add a new entity, use the following action format:
{
    type: 'addEntity';
    x: number;
    y: number;
    entity: {
        id: string;
        icon: string;
        title: string;
        inventory: {
            id: string;
            icon: string;
            title: string;
            description: string;
            amount: number;
        }[];
        customVars?: {
            [id: string]: {
                icon: string;
                title: string;
                value: string;
            };
        };
    };
}

To remove an entity, use the following action format:
{
    type: 'removeEntity';
    entityId: string;
}

To add custom variable to the entity, use the following action format:
{
    type: 'addEntityVar';
    entityId: string;
    customVarId: string;
    customVar: {
        icon: string;
        title: string;
        value: string;
    };
}

To remove custom variable from the entity, use the following action format:
{
    type: 'removeEntityVar';
    entityId: string;
    customVarId: string;
}

To set custom variable value in the entity, use the following action format:
{
    type: 'setEntityVarValue';
    entityId: string;
    customVarId: string;
    newValue: string;
}
`.trim();class Rr{static equals(a,s){return a.x===s.x&&a.y===s.y}static add(a,s){return{x:a.x+s.x,y:a.y+s.y}}static subtract(a,s){return{x:a.x-s.x,y:a.y-s.y}}static toDirection(a){const s=a.x>0?1:a.x<0?-1:0,i=a.y>0?1:a.y<0?-1:0;return{x:s,y:i}}}class Jc extends Ft{constructor(s,i,u=!0){super();Z(this,"type","move");Z(this,"entityId");Z(this,"moveBy");this.entityId=s,this.moveBy=u?Rr.toDirection(i):i}apply(s){const i=s.findEntityTile(this.entityId);if(!i)return;const{x:u,y:f}=Rr.add(i.position,this.moveBy);s.moveEntity(this.entityId,u,f)}toJson(){return{type:this.type,entityId:this.entityId,moveBy:this.moveBy}}static fromJson(s){return new Jc(s.entityId,s.moveBy)}}class Qc extends Ft{constructor(s,i,u){super();Z(this,"type","addEntityVar");Z(this,"entityId");Z(this,"customVarId");Z(this,"customVar");this.entityId=s,this.customVarId=i,this.customVar={...u}}apply(s){const i=s.getEntity(this.entityId);i&&i.customVars.addVar(this.customVarId,this.customVar)}toJson(){return{type:this.type,entityId:this.entityId,customVarId:this.customVarId,customVar:this.customVar}}static fromJson(s){return new Qc(s.entityId,s.customVarId,s.customVar)}}class Kc extends Ft{constructor(s,i){super();Z(this,"type","removeEntityVar");Z(this,"entityId");Z(this,"customVarId");this.entityId=s,this.customVarId=i}apply(s){const i=s.getEntity(this.entityId);i&&i.customVars.removeVar(this.customVarId)}toJson(){return{type:this.type,entityId:this.entityId,customVarId:this.customVarId}}static fromJson(s){return new Kc(s.entityId,s.customVarId)}}class Zc extends Ft{constructor(s,i,u){super();Z(this,"type","setEntityVarValue");Z(this,"entityId");Z(this,"customVarId");Z(this,"newValue");this.entityId=s,this.customVarId=i,this.newValue=u}apply(s){const i=s.getEntity(this.entityId);i&&i.customVars.setVarValue(this.customVarId,this.newValue)}toJson(){return{type:this.type,entityId:this.entityId,customVarId:this.customVarId,newValue:this.newValue}}static fromJson(s){return new Zc(s.entityId,s.customVarId,s.newValue)}}class Fc extends Ft{constructor(s,i,u){super();Z(this,"type","addEntity");Z(this,"entity");Z(this,"x");Z(this,"y");this.entity=s,this.x=i,this.y=u}apply(s){s.addEntity(this.x,this.y,new Ic(this.entity))}toJson(){return{type:this.type,entity:this.entity,x:this.x,y:this.y}}static fromJson(s){return new Fc(s.entity,s.x,s.y)}}class Pc extends Ft{constructor(s){super();Z(this,"type","removeEntity");Z(this,"entityId");this.entityId=s}apply(s){s.removeEntity(this.entityId)}toJson(){return{type:this.type,entityId:this.entityId}}static fromJson(s){return new Pc(s.entityId)}}const Z1={jump:qr.fromJson,move:Jc.fromJson,addItem:Br.fromJson,addItemToStack:Hr.fromJson,removeItem:Gi.fromJson,setTileFeature:xs.fromJson,addEntity:Fc.fromJson,removeEntity:Pc.fromJson,addEntityVar:Qc.fromJson,removeEntityVar:Kc.fromJson,setEntityVarValue:Zc.fromJson};function F1(r){const a=r.type,s=Z1[a];if(!s)return console.warn("Unknown action type: "+a),null;try{return s(r)}catch(i){return console.error("Failed to create action from json:",r,i),null}}function P1(r){return{actions:r.actions.map(F1).filter(Boolean).map(a=>a),thought:r.thought,narrativeEvents:r.narrativeEvents,debugReason:r.debugReason}}class Mg{constructor(a){Z(this,"driver");this.driver=a}async prompt(a,s){const i=this.buildSystemPrompt(s);return this.driver.setSystemPrompt(i),await this.driver.prompt(a)}parseJson(a){return JSON.parse(a)}buildSystemPrompt(a){return this.getSystemPromptTemplate().trim().replace(/\{\{(\w+)}}/g,(i,u)=>(a==null?void 0:a[u])??i)}}class W1 extends Mg{constructor(){super(...arguments);Z(this,"moveHistory",[])}async generateMove(s){const i=this.buildUserPrompt(s),u=await this.prompt(i,s.systemPromptVariables);if(!u.content)return{error:"Empty response from AI"};try{const f=this.parseJson(u.content),d=P1(f);return console.log("Parsed move:",d),console.log(u.usedTokens),this.moveHistory.push(d),{move:d}}catch(f){return console.warn("Failed to parse move",u.content,f),{error:"Failed to parse move: "+((f==null?void 0:f.message)??"")}}}getSystemPromptTemplate(){return K1}buildUserPrompt(s){const i=s.worldMap.findEntityTile(s.playerEntity.id);if(!i)throw new Error("Failed to find player tile");const u=s.worldMap.getTilesInRadius(i.position.x,i.position.y,1).filter(y=>!Rr.equals(y.position,i.position)).map(y=>y.toJson()).map(y=>{var p,b;return{relativePosition:Rr.subtract(y.position,i.position),tileInfo:`${y.data.terrain.title}. ${(p=y.data.feature)==null?void 0:p.icon} ${((b=y.data.feature)==null?void 0:b.title)??" "}.`}}),f=s.worldMap.getTilesInRadius(i.position.x,i.position.y,3).map(y=>y.toJson()),d=this.moveHistory.slice(-5).map(y=>y.thought),m={globalTarget:s.globalTarget,previousMoves:this.moveHistory,latestThoughts:d,playerTile:i.toJson(),adjacentTiles:u,visibleTiles:f};return console.log("moveContext",m),JSON.stringify(m)}}const ew="_agentActionsView_1nzwo_3",tw={agentActionsView:ew},nw="_persistentField_1u0z5_3",aw="_checkbox_1u0z5_33",Xp={persistentField:nw,checkbox:aw},Yt=({type:r,label:a,storageKey:s,value:i,onChange:u,options:f=[]})=>{Se.useEffect(()=>{const y=localStorage.getItem(s);y!==null&&y!==i&&u(y)},[]),Se.useEffect(()=>{const y=String(i);y!==""&&localStorage.setItem(s,y)},[s,i]);const d=y=>{const p=r==="checkbox"?String(y.target.checked):y.target.value;localStorage.setItem(s,p),u(p)},m={type:r,value:r==="checkbox"?void 0:String(i),checked:r==="checkbox"?i:void 0,onChange:d};return x.jsxs("label",{className:Xp.persistentField+" "+Xp[r],children:[r==="checkbox"&&x.jsxs(x.Fragment,{children:[x.jsx("input",{...m}),x.jsx("span",{children:a})]}),r==="textarea"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[a,":"]}),x.jsx("textarea",{...m,rows:3})]}),r==="select"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[a,":"]}),x.jsx("select",{...m,children:f.map(y=>x.jsx("option",{value:y.value,children:y.label},y.value))})]}),r!=="checkbox"&&r!=="textarea"&&r!=="select"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[a,":"]}),x.jsx("input",{...m})]})]})},sw=({agent:r,worldMap:a,playerEntity:s,onApplyMove:i})=>{const{t:u,i18n:f}=qe("MoveGenAgentActionsView"),[d,m]=Se.useState(u("readyForMoveRequest")),[y,p]=Se.useState(""),b=async()=>{m(u("generatingMove"));try{const S=f.getResourceBundle(f.language,"moveGenPrompt"),O=await r.generateMove({worldMap:a,playerEntity:s,globalTarget:y,systemPromptVariables:S});if(!O.move){m(O.error??u("failedToGenerateMove"));return}i(O.move),m(u("moveGeneratedSuccessfully"))}catch(S){m(u("moveGenerationError")),console.error(S)}};return x.jsxs("div",{className:tw.agentActionsView,children:[x.jsx(Yt,{type:"textarea",label:u("globalTarget"),storageKey:"agent_globalTarget",value:y,onChange:p}),x.jsxs("div",{children:[u("status"),": ",d]}),x.jsx("button",{onClick:b,children:u("nextMove")})]})};function fe(r,a,s,i,u){if(typeof a=="function"?r!==a||!0:!a.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a.set(r,s),s}function D(r,a,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?r!==a||!i:!a.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(r):i?i.value:a.get(r)}let Cg=function(){const{crypto:r}=globalThis;if(r!=null&&r.randomUUID)return Cg=r.randomUUID.bind(r),r.randomUUID();const a=new Uint8Array(1),s=r?()=>r.getRandomValues(a)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^s()&15>>+i/4).toString(16))};function Dc(r){return typeof r=="object"&&r!==null&&("name"in r&&r.name==="AbortError"||"message"in r&&String(r.message).includes("FetchRequestCanceledException"))}const Lc=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null){try{if(Object.prototype.toString.call(r)==="[object Error]"){const a=new Error(r.message,r.cause?{cause:r.cause}:{});return r.stack&&(a.stack=r.stack),r.cause&&!a.cause&&(a.cause=r.cause),r.name&&(a.name=r.name),a}}catch{}try{return new Error(JSON.stringify(r))}catch{}}return new Error(r)};class oe extends Error{}class ut extends oe{constructor(a,s,i,u){super(`${ut.makeMessage(a,s,i)}`),this.status=a,this.headers=u,this.requestID=u==null?void 0:u.get("x-request-id"),this.error=s;const f=s;this.code=f==null?void 0:f.code,this.param=f==null?void 0:f.param,this.type=f==null?void 0:f.type}static makeMessage(a,s,i){const u=s!=null&&s.message?typeof s.message=="string"?s.message:JSON.stringify(s.message):s?JSON.stringify(s):i;return a&&u?`${a} ${u}`:a?`${a} status code (no body)`:u||"(no status code or body)"}static generate(a,s,i,u){if(!a||!u)return new kr({message:i,cause:Lc(s)});const f=s==null?void 0:s.error;return a===400?new Dg(a,f,i,u):a===401?new Lg(a,f,i,u):a===403?new Ug(a,f,i,u):a===404?new zg(a,f,i,u):a===409?new jg(a,f,i,u):a===422?new Vg(a,f,i,u):a===429?new qg(a,f,i,u):a>=500?new Bg(a,f,i,u):new ut(a,f,i,u)}}class It extends ut{constructor({message:a}={}){super(void 0,void 0,a||"Request was aborted.",void 0)}}class kr extends ut{constructor({message:a,cause:s}){super(void 0,void 0,a||"Connection error.",void 0),s&&(this.cause=s)}}class Wc extends kr{constructor({message:a}={}){super({message:a??"Request timed out."})}}class Dg extends ut{}class Lg extends ut{}class Ug extends ut{}class zg extends ut{}class jg extends ut{}class Vg extends ut{}class qg extends ut{}class Bg extends ut{}class Hg extends oe{constructor(){super("Could not parse response content as the length limit was reached")}}class kg extends oe{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const iw=/^[a-z][a-z0-9+.-]*:/i,lw=r=>iw.test(r);function rw(r){return typeof r!="object"?{}:r??{}}function ow(r){if(!r)return!0;for(const a in r)return!1;return!0}function uw(r,a){return Object.prototype.hasOwnProperty.call(r,a)}function yc(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}const cw=(r,a)=>{if(typeof a!="number"||!Number.isInteger(a))throw new oe(`${r} must be an integer`);if(a<0)throw new oe(`${r} must be a positive integer`);return a},fw=r=>{try{return JSON.parse(r)}catch{return}},Yi=r=>new Promise(a=>setTimeout(a,r)),Nr={off:0,error:200,warn:300,info:400,debug:500},Jp=(r,a,s)=>{if(r){if(uw(Nr,r))return r;ht(s).warn(`${a} was set to ${JSON.stringify(r)}, expected one of ${JSON.stringify(Object.keys(Nr))}`)}};function Ri(){}function cr(r,a,s){return!a||Nr[r]>Nr[s]?Ri:a[r].bind(a)}const dw={error:Ri,warn:Ri,info:Ri,debug:Ri};let Qp=new WeakMap;function ht(r){const a=r.logger,s=r.logLevel??"off";if(!a)return dw;const i=Qp.get(a);if(i&&i[0]===s)return i[1];const u={error:cr("error",a,s),warn:cr("warn",a,s),info:cr("info",a,s),debug:cr("debug",a,s)};return Qp.set(a,[s,u]),u}const wa=r=>(r.options&&(r.options={...r.options},delete r.options.headers),r.headers&&(r.headers=Object.fromEntries((r.headers instanceof Headers?[...r.headers]:Object.entries(r.headers)).map(([a,s])=>[a,a.toLowerCase()==="authorization"||a.toLowerCase()==="cookie"||a.toLowerCase()==="set-cookie"?"***":s]))),"retryOfRequestLogID"in r&&(r.retryOfRequestLogID&&(r.retryOf=r.retryOfRequestLogID),delete r.retryOfRequestLogID),r),Ss="5.0.1",hw=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function mw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pw=()=>{var s;const r=mw();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":Zp(Deno.build.os),"X-Stainless-Arch":Kp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((s=Deno.version)==null?void 0:s.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":Zp(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Kp(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const a=gw();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function gw(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:a,pattern:s}of r){const i=s.exec(navigator.userAgent);if(i){const u=i[1]||0,f=i[2]||0,d=i[3]||0;return{browser:a,version:`${u}.${f}.${d}`}}}return null}const Kp=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",Zp=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let Fp;const yw=()=>Fp??(Fp=pw());function vw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Gg(...r){const a=globalThis.ReadableStream;if(typeof a>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new a(...r)}function $g(r){let a=Symbol.asyncIterator in r?r[Symbol.asyncIterator]():r[Symbol.iterator]();return Gg({start(){},async pull(s){const{done:i,value:u}=await a.next();i?s.close():s.enqueue(u)},async cancel(){var s;await((s=a.return)==null?void 0:s.call(a))}})}function Yg(r){if(r[Symbol.asyncIterator])return r;const a=r.getReader();return{async next(){try{const s=await a.read();return s!=null&&s.done&&a.releaseLock(),s}catch(s){throw a.releaseLock(),s}},async return(){const s=a.cancel();return a.releaseLock(),await s,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function bw(r){var i,u;if(r===null||typeof r!="object")return;if(r[Symbol.asyncIterator]){await((u=(i=r[Symbol.asyncIterator]()).return)==null?void 0:u.call(i));return}const a=r.getReader(),s=a.cancel();a.releaseLock(),await s}const Sw=({headers:r,body:a})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(a)}),Uc="RFC3986",zc={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:r=>String(r)},_w="RFC1738",ww=Array.isArray,sn=(()=>{const r=[];for(let a=0;a<256;++a)r.push("%"+((a<16?"0":"")+a.toString(16)).toUpperCase());return r})(),vc=1024,xw=(r,a,s,i,u)=>{if(r.length===0)return r;let f=r;if(typeof r=="symbol"?f=Symbol.prototype.toString.call(r):typeof r!="string"&&(f=String(r)),s==="iso-8859-1")return escape(f).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});let d="";for(let m=0;m<f.length;m+=vc){const y=f.length>=vc?f.slice(m,m+vc):f,p=[];for(let b=0;b<y.length;++b){let S=y.charCodeAt(b);if(S===45||S===46||S===95||S===126||S>=48&&S<=57||S>=65&&S<=90||S>=97&&S<=122||u===_w&&(S===40||S===41)){p[p.length]=y.charAt(b);continue}if(S<128){p[p.length]=sn[S];continue}if(S<2048){p[p.length]=sn[192|S>>6]+sn[128|S&63];continue}if(S<55296||S>=57344){p[p.length]=sn[224|S>>12]+sn[128|S>>6&63]+sn[128|S&63];continue}b+=1,S=65536+((S&1023)<<10|y.charCodeAt(b)&1023),p[p.length]=sn[240|S>>18]+sn[128|S>>12&63]+sn[128|S>>6&63]+sn[128|S&63]}d+=p.join("")}return d};function Aw(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function Pp(r,a){if(ww(r)){const s=[];for(let i=0;i<r.length;i+=1)s.push(a(r[i]));return s}return a(r)}const Tw=Object.prototype.hasOwnProperty,Ig={brackets(r){return String(r)+"[]"},comma:"comma",indices(r,a){return String(r)+"["+a+"]"},repeat(r){return String(r)}},ln=Array.isArray,Ew=Array.prototype.push,Xg=function(r,a){Ew.apply(r,ln(a)?a:[a])},Ow=Date.prototype.toISOString,Pe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:xw,encodeValuesOnly:!1,format:Uc,formatter:zc[Uc],indices:!1,serializeDate(r){return Ow.call(r)},skipNulls:!1,strictNullHandling:!1};function Rw(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"}const bc={};function Jg(r,a,s,i,u,f,d,m,y,p,b,S,O,T,C,V,B,ue){let H=r,k=ue,G=0,J=!1;for(;(k=k.get(bc))!==void 0&&!J;){const W=k.get(r);if(G+=1,typeof W<"u"){if(W===G)throw new RangeError("Cyclic object value");J=!0}typeof k.get(bc)>"u"&&(G=0)}if(typeof p=="function"?H=p(a,H):H instanceof Date?H=O==null?void 0:O(H):s==="comma"&&ln(H)&&(H=Pp(H,function(W){return W instanceof Date?O==null?void 0:O(W):W})),H===null){if(f)return y&&!V?y(a,Pe.encoder,B,"key",T):a;H=""}if(Rw(H)||Aw(H)){if(y){const W=V?a:y(a,Pe.encoder,B,"key",T);return[(C==null?void 0:C(W))+"="+(C==null?void 0:C(y(H,Pe.encoder,B,"value",T)))]}return[(C==null?void 0:C(a))+"="+(C==null?void 0:C(String(H)))]}const ae=[];if(typeof H>"u")return ae;let Q;if(s==="comma"&&ln(H))V&&y&&(H=Pp(H,y)),Q=[{value:H.length>0?H.join(",")||null:void 0}];else if(ln(p))Q=p;else{const W=Object.keys(H);Q=b?W.sort(b):W}const ce=m?String(a).replace(/\./g,"%2E"):String(a),F=i&&ln(H)&&H.length===1?ce+"[]":ce;if(u&&ln(H)&&H.length===0)return F+"[]";for(let W=0;W<Q.length;++W){const le=Q[W],Ue=typeof le=="object"&&typeof le.value<"u"?le.value:H[le];if(d&&Ue===null)continue;const Be=S&&m?le.replace(/\./g,"%2E"):le,$e=ln(H)?typeof s=="function"?s(F,Be):F:F+(S?"."+Be:"["+Be+"]");ue.set(r,G);const He=new WeakMap;He.set(bc,ue),Xg(ae,Jg(Ue,$e,s,i,u,f,d,m,s==="comma"&&V&&ln(H)?null:y,p,b,S,O,T,C,V,B,He))}return ae}function Nw(r=Pe){if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");const a=r.charset||Pe.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let s=Uc;if(typeof r.format<"u"){if(!Tw.call(zc,r.format))throw new TypeError("Unknown format option provided.");s=r.format}const i=zc[s];let u=Pe.filter;(typeof r.filter=="function"||ln(r.filter))&&(u=r.filter);let f;if(r.arrayFormat&&r.arrayFormat in Ig?f=r.arrayFormat:"indices"in r?f=r.indices?"indices":"repeat":f=Pe.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof r.allowDots>"u"?r.encodeDotInKeys?!0:Pe.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:Pe.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:Pe.allowEmptyArrays,arrayFormat:f,charset:a,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:Pe.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?Pe.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:Pe.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:Pe.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:Pe.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:Pe.encodeValuesOnly,filter:u,format:s,formatter:i,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:Pe.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:Pe.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:Pe.strictNullHandling}}function Mw(r,a={}){let s=r;const i=Nw(a);let u,f;typeof i.filter=="function"?(f=i.filter,s=f("",s)):ln(i.filter)&&(f=i.filter,u=f);const d=[];if(typeof s!="object"||s===null)return"";const m=Ig[i.arrayFormat],y=m==="comma"&&i.commaRoundTrip;u||(u=Object.keys(s)),i.sort&&u.sort(i.sort);const p=new WeakMap;for(let O=0;O<u.length;++O){const T=u[O];i.skipNulls&&s[T]===null||Xg(d,Jg(s[T],T,m,y,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,p))}const b=d.join(i.delimiter);let S=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),b.length>0?S+b:""}function Cw(r){let a=0;for(const u of r)a+=u.length;const s=new Uint8Array(a);let i=0;for(const u of r)s.set(u,i),i+=u.length;return s}let Wp;function ef(r){let a;return(Wp??(a=new globalThis.TextEncoder,Wp=a.encode.bind(a)))(r)}let eg;function tg(r){let a;return(eg??(a=new globalThis.TextDecoder,eg=a.decode.bind(a)))(r)}var Dt,Lt;class Gr{constructor(){Dt.set(this,void 0),Lt.set(this,void 0),fe(this,Dt,new Uint8Array),fe(this,Lt,null)}decode(a){if(a==null)return[];const s=a instanceof ArrayBuffer?new Uint8Array(a):typeof a=="string"?ef(a):a;fe(this,Dt,Cw([D(this,Dt,"f"),s]));const i=[];let u;for(;(u=Dw(D(this,Dt,"f"),D(this,Lt,"f")))!=null;){if(u.carriage&&D(this,Lt,"f")==null){fe(this,Lt,u.index);continue}if(D(this,Lt,"f")!=null&&(u.index!==D(this,Lt,"f")+1||u.carriage)){i.push(tg(D(this,Dt,"f").subarray(0,D(this,Lt,"f")-1))),fe(this,Dt,D(this,Dt,"f").subarray(D(this,Lt,"f"))),fe(this,Lt,null);continue}const f=D(this,Lt,"f")!==null?u.preceding-1:u.preceding,d=tg(D(this,Dt,"f").subarray(0,f));i.push(d),fe(this,Dt,D(this,Dt,"f").subarray(u.index)),fe(this,Lt,null)}return i}flush(){return D(this,Dt,"f").length?this.decode(`
`):[]}}Dt=new WeakMap,Lt=new WeakMap;Gr.NEWLINE_CHARS=new Set([`
`,"\r"]);Gr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Dw(r,a){for(let u=a??0;u<r.length;u++){if(r[u]===10)return{preceding:u,index:u+1,carriage:!1};if(r[u]===13)return{preceding:u,index:u+1,carriage:!0}}return null}function Lw(r){for(let i=0;i<r.length-1;i++){if(r[i]===10&&r[i+1]===10||r[i]===13&&r[i+1]===13)return i+2;if(r[i]===13&&r[i+1]===10&&i+3<r.length&&r[i+2]===13&&r[i+3]===10)return i+4}return-1}class un{constructor(a,s){this.iterator=a,this.controller=s}static fromSSEResponse(a,s){let i=!1;async function*u(){if(i)throw new oe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{for await(const d of Uw(a,s))if(!f){if(d.data.startsWith("[DONE]")){f=!0;continue}if(d.event===null||d.event.startsWith("response.")||d.event.startsWith("transcript.")){let m;try{m=JSON.parse(d.data)}catch(y){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),y}if(m&&m.error)throw new ut(void 0,m.error,void 0,a.headers);yield m}else{let m;try{m=JSON.parse(d.data)}catch(y){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),y}if(d.event=="error")throw new ut(void 0,m.error,m.message,void 0);yield{event:d.event,data:m}}}f=!0}catch(d){if(Dc(d))return;throw d}finally{f||s.abort()}}return new un(u,s)}static fromReadableStream(a,s){let i=!1;async function*u(){const d=new Gr,m=Yg(a);for await(const y of m)for(const p of d.decode(y))yield p;for(const y of d.flush())yield y}async function*f(){if(i)throw new oe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let d=!1;try{for await(const m of u())d||m&&(yield JSON.parse(m));d=!0}catch(m){if(Dc(m))return;throw m}finally{d||s.abort()}}return new un(f,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const a=[],s=[],i=this.iterator(),u=f=>({next:()=>{if(f.length===0){const d=i.next();a.push(d),s.push(d)}return f.shift()}});return[new un(()=>u(a),this.controller),new un(()=>u(s),this.controller)]}toReadableStream(){const a=this;let s;return Gg({async start(){s=a[Symbol.asyncIterator]()},async pull(i){try{const{value:u,done:f}=await s.next();if(f)return i.close();const d=ef(JSON.stringify(u)+`
`);i.enqueue(d)}catch(u){i.error(u)}},async cancel(){var i;await((i=s.return)==null?void 0:i.call(s))}})}}async function*Uw(r,a){if(!r.body)throw a.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new oe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new oe("Attempted to iterate over a response with no body");const s=new jw,i=new Gr,u=Yg(r.body);for await(const f of zw(u))for(const d of i.decode(f)){const m=s.decode(d);m&&(yield m)}for(const f of i.flush()){const d=s.decode(f);d&&(yield d)}}async function*zw(r){let a=new Uint8Array;for await(const s of r){if(s==null)continue;const i=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?ef(s):s;let u=new Uint8Array(a.length+i.length);u.set(a),u.set(i,a.length),a=u;let f;for(;(f=Lw(a))!==-1;)yield a.slice(0,f),a=a.slice(f)}a.length>0&&(yield a)}class jw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(a){if(a.endsWith("\r")&&(a=a.substring(0,a.length-1)),!a){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(a),a.startsWith(":"))return null;let[s,i,u]=Vw(a,":");return u.startsWith(" ")&&(u=u.substring(1)),s==="event"?this.event=u:s==="data"&&this.data.push(u),null}}function Vw(r,a){const s=r.indexOf(a);return s!==-1?[r.substring(0,s),a,r.substring(s+a.length)]:[r,"",""]}async function Qg(r,a){const{response:s,requestLogID:i,retryOfRequestLogID:u,startTime:f}=a,d=await(async()=>{var S;if(a.options.stream)return ht(r).debug("response",s.status,s.url,s.headers,s.body),a.options.__streamClass?a.options.__streamClass.fromSSEResponse(s,a.controller):un.fromSSEResponse(s,a.controller);if(s.status===204)return null;if(a.options.__binaryResponse)return s;const m=s.headers.get("content-type"),y=(S=m==null?void 0:m.split(";")[0])==null?void 0:S.trim();if((y==null?void 0:y.includes("application/json"))||(y==null?void 0:y.endsWith("+json"))){const O=await s.json();return Kg(O,s)}return await s.text()})();return ht(r).debug(`[${i}] response parsed`,wa({retryOfRequestLogID:u,url:s.url,status:s.status,body:d,durationMs:Date.now()-f})),d}function Kg(r,a){return!r||typeof r!="object"||Array.isArray(r)?r:Object.defineProperty(r,"_request_id",{value:a.headers.get("x-request-id"),enumerable:!1})}var Ni;class $r extends Promise{constructor(a,s,i=Qg){super(u=>{u(null)}),this.responsePromise=s,this.parseResponse=i,Ni.set(this,void 0),fe(this,Ni,a)}_thenUnwrap(a){return new $r(D(this,Ni,"f"),this.responsePromise,async(s,i)=>Kg(a(await this.parseResponse(s,i),i),i.response))}asResponse(){return this.responsePromise.then(a=>a.response)}async withResponse(){const[a,s]=await Promise.all([this.parse(),this.asResponse()]);return{data:a,response:s,request_id:s.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(a=>this.parseResponse(D(this,Ni,"f"),a))),this.parsedPromise}then(a,s){return this.parse().then(a,s)}catch(a){return this.parse().catch(a)}finally(a){return this.parse().finally(a)}}Ni=new WeakMap;var fr;class Zg{constructor(a,s,i,u){fr.set(this,void 0),fe(this,fr,a),this.options=u,this.response=s,this.body=i}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const a=this.nextPageRequestOptions();if(!a)throw new oe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await D(this,fr,"f").requestAPIList(this.constructor,a)}async*iterPages(){let a=this;for(yield a;a.hasNextPage();)a=await a.getNextPage(),yield a}async*[(fr=new WeakMap,Symbol.asyncIterator)](){for await(const a of this.iterPages())for(const s of a.getPaginatedItems())yield s}}class qw extends $r{constructor(a,s,i){super(a,s,async(u,f)=>new i(u,f.response,await Qg(u,f),f.options))}async*[Symbol.asyncIterator](){const a=await this;for await(const s of a)yield s}}class Yr extends Zg{constructor(a,s,i,u){super(a,s,i,u),this.data=i.data||[],this.object=i.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Qe extends Zg{constructor(a,s,i,u){super(a,s,i,u),this.data=i.data||[],this.has_more=i.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var i;const a=this.getPaginatedItems(),s=(i=a[a.length-1])==null?void 0:i.id;return s?{...this.options,query:{...rw(this.options.query),after:s}}:null}}const Fg=()=>{var r;if(typeof File>"u"){const{process:a}=globalThis,s=typeof((r=a==null?void 0:a.versions)==null?void 0:r.node)=="string"&&parseInt(a.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(s?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Vi(r,a,s){return Fg(),new File(r,a??"unknown_file",s)}function yr(r){return(typeof r=="object"&&r!==null&&("name"in r&&r.name&&String(r.name)||"url"in r&&r.url&&String(r.url)||"filename"in r&&r.filename&&String(r.filename)||"path"in r&&r.path&&String(r.path))||"").split(/[\\/]/).pop()||void 0}const Pg=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function",Oa=async(r,a)=>({...r,body:await Hw(r.body,a)}),ng=new WeakMap;function Bw(r){const a=typeof r=="function"?r:r.fetch,s=ng.get(a);if(s)return s;const i=(async()=>{try{const u="Response"in a?a.Response:(await a("data:,")).constructor,f=new FormData;return f.toString()!==await new u(f).text()}catch{return!0}})();return ng.set(a,i),i}const Hw=async(r,a)=>{if(!await Bw(a))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const s=new FormData;return await Promise.all(Object.entries(r||{}).map(([i,u])=>jc(s,i,u))),s},kw=r=>r instanceof Blob&&"name"in r,jc=async(r,a,s)=>{if(s!==void 0){if(s==null)throw new TypeError(`Received null for "${a}"; to pass null in FormData, you must use the string 'null'`);if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")r.append(a,String(s));else if(s instanceof Response)r.append(a,Vi([await s.blob()],yr(s)));else if(Pg(s))r.append(a,Vi([await new Response($g(s)).blob()],yr(s)));else if(kw(s))r.append(a,s,yr(s));else if(Array.isArray(s))await Promise.all(s.map(i=>jc(r,a+"[]",i)));else if(typeof s=="object")await Promise.all(Object.entries(s).map(([i,u])=>jc(r,`${a}[${i}]`,u)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${s} instead`)}},Wg=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",Gw=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&Wg(r),$w=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function";async function Yw(r,a,s){if(Fg(),r=await r,Gw(r))return r instanceof File?r:Vi([await r.arrayBuffer()],r.name);if($w(r)){const u=await r.blob();return a||(a=new URL(r.url).pathname.split(/[\\/]/).pop()),Vi(await Vc(u),a,s)}const i=await Vc(r);if(a||(a=yr(r)),!(s!=null&&s.type)){const u=i.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof u=="string"&&(s={...s,type:u})}return Vi(i,a,s)}async function Vc(r){var s;let a=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)a.push(r);else if(Wg(r))a.push(r instanceof Blob?r:await r.arrayBuffer());else if(Pg(r))for await(const i of r)a.push(...await Vc(i));else{const i=(s=r==null?void 0:r.constructor)==null?void 0:s.name;throw new Error(`Unexpected data type: ${typeof r}${i?`; constructor: ${i}`:""}${Iw(r)}`)}return a}function Iw(r){return typeof r!="object"||r===null?"":`; props: [${Object.getOwnPropertyNames(r).map(s=>`"${s}"`).join(", ")}]`}class he{constructor(a){this._client=a}}function ey(r){return r.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Xw=(r=ey)=>function(s,...i){if(s.length===1)return s[0];let u=!1;const f=s.reduce((b,S,O)=>(/[?#]/.test(S)&&(u=!0),b+S+(O===i.length?"":(u?encodeURIComponent:r)(String(i[O])))),""),d=f.split(/[?#]/,1)[0],m=[],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=y.exec(d))!==null;)m.push({start:p.index,length:p[0].length});if(m.length>0){let b=0;const S=m.reduce((O,T)=>{const C=" ".repeat(T.start-b),V="^".repeat(T.length);return b=T.start+T.length,O+C+V},"");throw new oe(`Path parameters result in path with invalid segments:
${f}
${S}`)}return f},I=Xw(ey);let ty=class extends he{list(a,s={},i){return this._client.getAPIList(I`/chat/completions/${a}/messages`,Qe,{query:s,...i})}};function Jw(r){return typeof r.parse=="function"}const Mr=r=>(r==null?void 0:r.role)==="assistant",ny=r=>(r==null?void 0:r.role)==="tool";var qc,vr,br,Mi,Ci,Sr,Di,Rn,Li,Cr,Dr,_s,ay;class tf{constructor(){qc.add(this),this.controller=new AbortController,vr.set(this,void 0),br.set(this,()=>{}),Mi.set(this,()=>{}),Ci.set(this,void 0),Sr.set(this,()=>{}),Di.set(this,()=>{}),Rn.set(this,{}),Li.set(this,!1),Cr.set(this,!1),Dr.set(this,!1),_s.set(this,!1),fe(this,vr,new Promise((a,s)=>{fe(this,br,a,"f"),fe(this,Mi,s,"f")})),fe(this,Ci,new Promise((a,s)=>{fe(this,Sr,a,"f"),fe(this,Di,s,"f")})),D(this,vr,"f").catch(()=>{}),D(this,Ci,"f").catch(()=>{})}_run(a){setTimeout(()=>{a().then(()=>{this._emitFinal(),this._emit("end")},D(this,qc,"m",ay).bind(this))},0)}_connected(){this.ended||(D(this,br,"f").call(this),this._emit("connect"))}get ended(){return D(this,Li,"f")}get errored(){return D(this,Cr,"f")}get aborted(){return D(this,Dr,"f")}abort(){this.controller.abort()}on(a,s){return(D(this,Rn,"f")[a]||(D(this,Rn,"f")[a]=[])).push({listener:s}),this}off(a,s){const i=D(this,Rn,"f")[a];if(!i)return this;const u=i.findIndex(f=>f.listener===s);return u>=0&&i.splice(u,1),this}once(a,s){return(D(this,Rn,"f")[a]||(D(this,Rn,"f")[a]=[])).push({listener:s,once:!0}),this}emitted(a){return new Promise((s,i)=>{fe(this,_s,!0),a!=="error"&&this.once("error",i),this.once(a,s)})}async done(){fe(this,_s,!0),await D(this,Ci,"f")}_emit(a,...s){if(D(this,Li,"f"))return;a==="end"&&(fe(this,Li,!0),D(this,Sr,"f").call(this));const i=D(this,Rn,"f")[a];if(i&&(D(this,Rn,"f")[a]=i.filter(u=>!u.once),i.forEach(({listener:u})=>u(...s))),a==="abort"){const u=s[0];!D(this,_s,"f")&&!(i!=null&&i.length)&&Promise.reject(u),D(this,Mi,"f").call(this,u),D(this,Di,"f").call(this,u),this._emit("end");return}if(a==="error"){const u=s[0];!D(this,_s,"f")&&!(i!=null&&i.length)&&Promise.reject(u),D(this,Mi,"f").call(this,u),D(this,Di,"f").call(this,u),this._emit("end")}}_emitFinal(){}}vr=new WeakMap,br=new WeakMap,Mi=new WeakMap,Ci=new WeakMap,Sr=new WeakMap,Di=new WeakMap,Rn=new WeakMap,Li=new WeakMap,Cr=new WeakMap,Dr=new WeakMap,_s=new WeakMap,qc=new WeakSet,ay=function(a){if(fe(this,Cr,!0),a instanceof Error&&a.name==="AbortError"&&(a=new It),a instanceof It)return fe(this,Dr,!0),this._emit("abort",a);if(a instanceof oe)return this._emit("error",a);if(a instanceof Error){const s=new oe(a.message);return s.cause=a,this._emit("error",s)}return this._emit("error",new oe(String(a)))};function nf(r){return(r==null?void 0:r.$brand)==="auto-parseable-response-format"}function Ii(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function Qw(r,a){return!a||!sy(a)?{...r,choices:r.choices.map(s=>({...s,message:{...s.message,parsed:null,...s.message.tool_calls?{tool_calls:s.message.tool_calls}:void 0}}))}:af(r,a)}function af(r,a){const s=r.choices.map(i=>{var u;if(i.finish_reason==="length")throw new Hg;if(i.finish_reason==="content_filter")throw new kg;return{...i,message:{...i.message,...i.message.tool_calls?{tool_calls:((u=i.message.tool_calls)==null?void 0:u.map(f=>Zw(a,f)))??void 0}:void 0,parsed:i.message.content&&!i.message.refusal?Kw(a,i.message.content):null}}});return{...r,choices:s}}function Kw(r,a){var s,i;return((s=r.response_format)==null?void 0:s.type)!=="json_schema"?null:((i=r.response_format)==null?void 0:i.type)==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(a):JSON.parse(a):null}function Zw(r,a){var i;const s=(i=r.tools)==null?void 0:i.find(u=>{var f;return((f=u.function)==null?void 0:f.name)===a.function.name});return{...a,function:{...a.function,parsed_arguments:Ii(s)?s.$parseRaw(a.function.arguments):s!=null&&s.function.strict?JSON.parse(a.function.arguments):null}}}function Fw(r,a){var i;if(!r)return!1;const s=(i=r.tools)==null?void 0:i.find(u=>{var f;return((f=u.function)==null?void 0:f.name)===a.function.name});return Ii(s)||(s==null?void 0:s.function.strict)||!1}function sy(r){var a;return nf(r.response_format)?!0:((a=r.tools)==null?void 0:a.some(s=>Ii(s)||s.type==="function"&&s.function.strict===!0))??!1}function Pw(r){for(const a of r??[]){if(a.type!=="function")throw new oe(`Currently only \`function\` tool types support auto-parsing; Received \`${a.type}\``);if(a.function.strict!==!0)throw new oe(`The \`${a.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var gt,Bc,Lr,Hc,kc,Gc,iy,ly;const Ww=10;class ry extends tf{constructor(){super(...arguments),gt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(a){var i;this._chatCompletions.push(a),this._emit("chatCompletion",a);const s=(i=a.choices[0])==null?void 0:i.message;return s&&this._addMessage(s),a}_addMessage(a,s=!0){if("content"in a||(a.content=null),this.messages.push(a),s){if(this._emit("message",a),ny(a)&&a.content)this._emit("functionToolCallResult",a.content);else if(Mr(a)&&a.tool_calls)for(const i of a.tool_calls)i.type==="function"&&this._emit("functionToolCall",i.function)}}async finalChatCompletion(){await this.done();const a=this._chatCompletions[this._chatCompletions.length-1];if(!a)throw new oe("stream ended without producing a ChatCompletion");return a}async finalContent(){return await this.done(),D(this,gt,"m",Bc).call(this)}async finalMessage(){return await this.done(),D(this,gt,"m",Lr).call(this)}async finalFunctionToolCall(){return await this.done(),D(this,gt,"m",Hc).call(this)}async finalFunctionToolCallResult(){return await this.done(),D(this,gt,"m",kc).call(this)}async totalUsage(){return await this.done(),D(this,gt,"m",Gc).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const a=this._chatCompletions[this._chatCompletions.length-1];a&&this._emit("finalChatCompletion",a);const s=D(this,gt,"m",Lr).call(this);s&&this._emit("finalMessage",s);const i=D(this,gt,"m",Bc).call(this);i&&this._emit("finalContent",i);const u=D(this,gt,"m",Hc).call(this);u&&this._emit("finalFunctionToolCall",u);const f=D(this,gt,"m",kc).call(this);f!=null&&this._emit("finalFunctionToolCallResult",f),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",D(this,gt,"m",Gc).call(this))}async _createChatCompletion(a,s,i){const u=i==null?void 0:i.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),D(this,gt,"m",iy).call(this,s);const f=await a.chat.completions.create({...s,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addChatCompletion(af(f,s))}async _runChatCompletion(a,s,i){for(const u of s.messages)this._addMessage(u,!1);return await this._createChatCompletion(a,s,i)}async _runTools(a,s,i){var T,C,V;const u="tool",{tool_choice:f="auto",stream:d,...m}=s,y=typeof f!="string"&&((T=f==null?void 0:f.function)==null?void 0:T.name),{maxChatCompletions:p=Ww}=i||{},b=s.tools.map(B=>{if(Ii(B)){if(!B.$callback)throw new oe("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:B.$callback,name:B.function.name,description:B.function.description||"",parameters:B.function.parameters,parse:B.$parseRaw,strict:!0}}}return B}),S={};for(const B of b)B.type==="function"&&(S[B.function.name||B.function.function.name]=B.function);const O="tools"in s?b.map(B=>B.type==="function"?{type:"function",function:{name:B.function.name||B.function.function.name,parameters:B.function.parameters,description:B.function.description,strict:B.function.strict}}:B):void 0;for(const B of s.messages)this._addMessage(B,!1);for(let B=0;B<p;++B){const H=(C=(await this._createChatCompletion(a,{...m,tool_choice:f,tools:O,messages:[...this.messages]},i)).choices[0])==null?void 0:C.message;if(!H)throw new oe("missing message in ChatCompletion response");if(!((V=H.tool_calls)!=null&&V.length))return;for(const k of H.tool_calls){if(k.type!=="function")continue;const G=k.id,{name:J,arguments:ae}=k.function,Q=S[J];if(Q){if(y&&y!==J){const le=`Invalid tool_call: ${JSON.stringify(J)}. ${JSON.stringify(y)} requested. Please try again`;this._addMessage({role:u,tool_call_id:G,content:le});continue}}else{const le=`Invalid tool_call: ${JSON.stringify(J)}. Available options are: ${Object.keys(S).map(Ue=>JSON.stringify(Ue)).join(", ")}. Please try again`;this._addMessage({role:u,tool_call_id:G,content:le});continue}let ce;try{ce=Jw(Q)?await Q.parse(ae):ae}catch(le){const Ue=le instanceof Error?le.message:String(le);this._addMessage({role:u,tool_call_id:G,content:Ue});continue}const F=await Q.function(ce,this),W=D(this,gt,"m",ly).call(this,F);if(this._addMessage({role:u,tool_call_id:G,content:W}),y)return}}}}gt=new WeakSet,Bc=function(){return D(this,gt,"m",Lr).call(this).content??null},Lr=function(){let a=this.messages.length;for(;a-- >0;){const s=this.messages[a];if(Mr(s))return{...s,content:s.content??null,refusal:s.refusal??null}}throw new oe("stream ended without producing a ChatCompletionMessage with role=assistant")},Hc=function(){var a,s;for(let i=this.messages.length-1;i>=0;i--){const u=this.messages[i];if(Mr(u)&&((a=u==null?void 0:u.tool_calls)!=null&&a.length))return(s=u.tool_calls.at(-1))==null?void 0:s.function}},kc=function(){for(let a=this.messages.length-1;a>=0;a--){const s=this.messages[a];if(ny(s)&&s.content!=null&&typeof s.content=="string"&&this.messages.some(i=>{var u;return i.role==="assistant"&&((u=i.tool_calls)==null?void 0:u.some(f=>f.type==="function"&&f.id===s.tool_call_id))}))return s.content}},Gc=function(){const a={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:s}of this._chatCompletions)s&&(a.completion_tokens+=s.completion_tokens,a.prompt_tokens+=s.prompt_tokens,a.total_tokens+=s.total_tokens);return a},iy=function(a){if(a.n!=null&&a.n>1)throw new oe("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ly=function(a){return typeof a=="string"?a:a===void 0?"undefined":JSON.stringify(a)};class sf extends ry{static runTools(a,s,i){const u=new sf,f={...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"runTools"}};return u._run(()=>u._runTools(a,s,f)),u}_addMessage(a,s=!0){super._addMessage(a,s),Mr(a)&&a.content&&this._emit("content",a.content)}}const oy=1,uy=2,cy=4,fy=8,dy=16,hy=32,my=64,py=128,gy=256,yy=py|gy,vy=dy|hy|yy|my,by=oy|uy|vy,Sy=cy|fy,ex=by|Sy,at={STR:oy,NUM:uy,ARR:cy,OBJ:fy,NULL:dy,BOOL:hy,NAN:my,INFINITY:py,MINUS_INFINITY:gy,INF:yy,SPECIAL:vy,ATOM:by,COLLECTION:Sy,ALL:ex};class tx extends Error{}class nx extends Error{}function ax(r,a=at.ALL){if(typeof r!="string")throw new TypeError(`expecting str, got ${typeof r}`);if(!r.trim())throw new Error(`${r} is empty`);return sx(r.trim(),a)}const sx=(r,a)=>{const s=r.length;let i=0;const u=O=>{throw new tx(`${O} at position ${i}`)},f=O=>{throw new nx(`${O} at position ${i}`)},d=()=>(S(),i>=s&&u("Unexpected end of input"),r[i]==='"'?m():r[i]==="{"?y():r[i]==="["?p():r.substring(i,i+4)==="null"||at.NULL&a&&s-i<4&&"null".startsWith(r.substring(i))?(i+=4,null):r.substring(i,i+4)==="true"||at.BOOL&a&&s-i<4&&"true".startsWith(r.substring(i))?(i+=4,!0):r.substring(i,i+5)==="false"||at.BOOL&a&&s-i<5&&"false".startsWith(r.substring(i))?(i+=5,!1):r.substring(i,i+8)==="Infinity"||at.INFINITY&a&&s-i<8&&"Infinity".startsWith(r.substring(i))?(i+=8,1/0):r.substring(i,i+9)==="-Infinity"||at.MINUS_INFINITY&a&&1<s-i&&s-i<9&&"-Infinity".startsWith(r.substring(i))?(i+=9,-1/0):r.substring(i,i+3)==="NaN"||at.NAN&a&&s-i<3&&"NaN".startsWith(r.substring(i))?(i+=3,NaN):b()),m=()=>{const O=i;let T=!1;for(i++;i<s&&(r[i]!=='"'||T&&r[i-1]==="\\");)T=r[i]==="\\"?!T:!1,i++;if(r.charAt(i)=='"')try{return JSON.parse(r.substring(O,++i-Number(T)))}catch(C){f(String(C))}else if(at.STR&a)try{return JSON.parse(r.substring(O,i-Number(T))+'"')}catch{return JSON.parse(r.substring(O,r.lastIndexOf("\\"))+'"')}u("Unterminated string literal")},y=()=>{i++,S();const O={};try{for(;r[i]!=="}";){if(S(),i>=s&&at.OBJ&a)return O;const T=m();S(),i++;try{const C=d();Object.defineProperty(O,T,{value:C,writable:!0,enumerable:!0,configurable:!0})}catch(C){if(at.OBJ&a)return O;throw C}S(),r[i]===","&&i++}}catch{if(at.OBJ&a)return O;u("Expected '}' at end of object")}return i++,O},p=()=>{i++;const O=[];try{for(;r[i]!=="]";)O.push(d()),S(),r[i]===","&&i++}catch{if(at.ARR&a)return O;u("Expected ']' at end of array")}return i++,O},b=()=>{if(i===0){r==="-"&&at.NUM&a&&u("Not sure what '-' is");try{return JSON.parse(r)}catch(T){if(at.NUM&a)try{return r[r.length-1]==="."?JSON.parse(r.substring(0,r.lastIndexOf("."))):JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch{}f(String(T))}}const O=i;for(r[i]==="-"&&i++;r[i]&&!",]}".includes(r[i]);)i++;i==s&&!(at.NUM&a)&&u("Unterminated number literal");try{return JSON.parse(r.substring(O,i))}catch{r.substring(O,i)==="-"&&at.NUM&a&&u("Not sure what '-' is");try{return JSON.parse(r.substring(O,r.lastIndexOf("e")))}catch(C){f(String(C))}}},S=()=>{for(;i<s&&` 
\r	`.includes(r[i]);)i++};return d()},ag=r=>ax(r,at.ALL^at.NUM);var Fe,On,gs,ta,Sc,dr,_c,wc,xc,hr,Ac,sg;class $i extends ry{constructor(a){super(),Fe.add(this),On.set(this,void 0),gs.set(this,void 0),ta.set(this,void 0),fe(this,On,a),fe(this,gs,[])}get currentChatCompletionSnapshot(){return D(this,ta,"f")}static fromReadableStream(a){const s=new $i(null);return s._run(()=>s._fromReadableStream(a)),s}static createChatCompletion(a,s,i){const u=new $i(s);return u._run(()=>u._runChatCompletion(a,{...s,stream:!0},{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createChatCompletion(a,s,i){var d;super._createChatCompletion;const u=i==null?void 0:i.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),D(this,Fe,"m",Sc).call(this);const f=await a.chat.completions.create({...s,stream:!0},{...i,signal:this.controller.signal});this._connected();for await(const m of f)D(this,Fe,"m",_c).call(this,m);if((d=f.controller.signal)!=null&&d.aborted)throw new It;return this._addChatCompletion(D(this,Fe,"m",hr).call(this))}async _fromReadableStream(a,s){var d;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),D(this,Fe,"m",Sc).call(this),this._connected();const u=un.fromReadableStream(a,this.controller);let f;for await(const m of u)f&&f!==m.id&&this._addChatCompletion(D(this,Fe,"m",hr).call(this)),D(this,Fe,"m",_c).call(this,m),f=m.id;if((d=u.controller.signal)!=null&&d.aborted)throw new It;return this._addChatCompletion(D(this,Fe,"m",hr).call(this))}[(On=new WeakMap,gs=new WeakMap,ta=new WeakMap,Fe=new WeakSet,Sc=function(){this.ended||fe(this,ta,void 0)},dr=function(s){let i=D(this,gs,"f")[s.index];return i||(i={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},D(this,gs,"f")[s.index]=i,i)},_c=function(s){var u,f,d,m,y,p,b,S,O,T,C,V,B,ue,H;if(this.ended)return;const i=D(this,Fe,"m",sg).call(this,s);this._emit("chunk",s,i);for(const k of s.choices){const G=i.choices[k.index];k.delta.content!=null&&((u=G.message)==null?void 0:u.role)==="assistant"&&((f=G.message)!=null&&f.content)&&(this._emit("content",k.delta.content,G.message.content),this._emit("content.delta",{delta:k.delta.content,snapshot:G.message.content,parsed:G.message.parsed})),k.delta.refusal!=null&&((d=G.message)==null?void 0:d.role)==="assistant"&&((m=G.message)!=null&&m.refusal)&&this._emit("refusal.delta",{delta:k.delta.refusal,snapshot:G.message.refusal}),((y=k.logprobs)==null?void 0:y.content)!=null&&((p=G.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(b=k.logprobs)==null?void 0:b.content,snapshot:((S=G.logprobs)==null?void 0:S.content)??[]}),((O=k.logprobs)==null?void 0:O.refusal)!=null&&((T=G.message)==null?void 0:T.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(C=k.logprobs)==null?void 0:C.refusal,snapshot:((V=G.logprobs)==null?void 0:V.refusal)??[]});const J=D(this,Fe,"m",dr).call(this,G);G.finish_reason&&(D(this,Fe,"m",xc).call(this,G),J.current_tool_call_index!=null&&D(this,Fe,"m",wc).call(this,G,J.current_tool_call_index));for(const ae of k.delta.tool_calls??[])J.current_tool_call_index!==ae.index&&(D(this,Fe,"m",xc).call(this,G),J.current_tool_call_index!=null&&D(this,Fe,"m",wc).call(this,G,J.current_tool_call_index)),J.current_tool_call_index=ae.index;for(const ae of k.delta.tool_calls??[]){const Q=(B=G.message.tool_calls)==null?void 0:B[ae.index];Q!=null&&Q.type&&((Q==null?void 0:Q.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(ue=Q.function)==null?void 0:ue.name,index:ae.index,arguments:Q.function.arguments,parsed_arguments:Q.function.parsed_arguments,arguments_delta:((H=ae.function)==null?void 0:H.arguments)??""}):(Q==null||Q.type,void 0))}}},wc=function(s,i){var d,m,y;if(D(this,Fe,"m",dr).call(this,s).done_tool_calls.has(i))return;const f=(d=s.message.tool_calls)==null?void 0:d[i];if(!f)throw new Error("no tool call snapshot");if(!f.type)throw new Error("tool call snapshot missing `type`");if(f.type==="function"){const p=(y=(m=D(this,On,"f"))==null?void 0:m.tools)==null?void 0:y.find(b=>b.type==="function"&&b.function.name===f.function.name);this._emit("tool_calls.function.arguments.done",{name:f.function.name,index:i,arguments:f.function.arguments,parsed_arguments:Ii(p)?p.$parseRaw(f.function.arguments):p!=null&&p.function.strict?JSON.parse(f.function.arguments):null})}else f.type},xc=function(s){var u,f;const i=D(this,Fe,"m",dr).call(this,s);if(s.message.content&&!i.content_done){i.content_done=!0;const d=D(this,Fe,"m",Ac).call(this);this._emit("content.done",{content:s.message.content,parsed:d?d.$parseRaw(s.message.content):null})}s.message.refusal&&!i.refusal_done&&(i.refusal_done=!0,this._emit("refusal.done",{refusal:s.message.refusal})),(u=s.logprobs)!=null&&u.content&&!i.logprobs_content_done&&(i.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:s.logprobs.content})),(f=s.logprobs)!=null&&f.refusal&&!i.logprobs_refusal_done&&(i.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:s.logprobs.refusal}))},hr=function(){if(this.ended)throw new oe("stream has ended, this shouldn't happen");const s=D(this,ta,"f");if(!s)throw new oe("request ended without sending any chunks");return fe(this,ta,void 0),fe(this,gs,[]),ix(s,D(this,On,"f"))},Ac=function(){var i;const s=(i=D(this,On,"f"))==null?void 0:i.response_format;return nf(s)?s:null},sg=function(s){var i,u,f,d;let m=D(this,ta,"f");const{choices:y,...p}=s;m?Object.assign(m,p):m=fe(this,ta,{...p,choices:[]});for(const{delta:b,finish_reason:S,index:O,logprobs:T=null,...C}of s.choices){let V=m.choices[O];if(V||(V=m.choices[O]={finish_reason:S,index:O,message:{},logprobs:T,...C}),T)if(!V.logprobs)V.logprobs=Object.assign({},T);else{const{content:ae,refusal:Q,...ce}=T;Object.assign(V.logprobs,ce),ae&&((i=V.logprobs).content??(i.content=[]),V.logprobs.content.push(...ae)),Q&&((u=V.logprobs).refusal??(u.refusal=[]),V.logprobs.refusal.push(...Q))}if(S&&(V.finish_reason=S,D(this,On,"f")&&sy(D(this,On,"f")))){if(S==="length")throw new Hg;if(S==="content_filter")throw new kg}if(Object.assign(V,C),!b)continue;const{content:B,refusal:ue,function_call:H,role:k,tool_calls:G,...J}=b;if(Object.assign(V.message,J),ue&&(V.message.refusal=(V.message.refusal||"")+ue),k&&(V.message.role=k),H&&(V.message.function_call?(H.name&&(V.message.function_call.name=H.name),H.arguments&&((f=V.message.function_call).arguments??(f.arguments=""),V.message.function_call.arguments+=H.arguments)):V.message.function_call=H),B&&(V.message.content=(V.message.content||"")+B,!V.message.refusal&&D(this,Fe,"m",Ac).call(this)&&(V.message.parsed=ag(V.message.content))),G){V.message.tool_calls||(V.message.tool_calls=[]);for(const{index:ae,id:Q,type:ce,function:F,...W}of G){const le=(d=V.message.tool_calls)[ae]??(d[ae]={});Object.assign(le,W),Q&&(le.id=Q),ce&&(le.type=ce),F&&(le.function??(le.function={name:F.name??"",arguments:""})),F!=null&&F.name&&(le.function.name=F.name),F!=null&&F.arguments&&(le.function.arguments+=F.arguments,Fw(D(this,On,"f"),le)&&(le.function.parsed_arguments=ag(le.function.arguments)))}}}return m},Symbol.asyncIterator)](){const a=[],s=[];let i=!1;return this.on("chunk",u=>{const f=s.shift();f?f.resolve(u):a.push(u)}),this.on("end",()=>{i=!0;for(const u of s)u.resolve(void 0);s.length=0}),this.on("abort",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),this.on("error",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),{next:async()=>a.length?{value:a.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((f,d)=>s.push({resolve:f,reject:d})).then(f=>f?{value:f,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new un(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function ix(r,a){const{id:s,choices:i,created:u,model:f,system_fingerprint:d,...m}=r,y={...m,id:s,choices:i.map(({message:p,finish_reason:b,index:S,logprobs:O,...T})=>{if(!b)throw new oe(`missing finish_reason for choice ${S}`);const{content:C=null,function_call:V,tool_calls:B,...ue}=p,H=p.role;if(!H)throw new oe(`missing role for choice ${S}`);if(V){const{arguments:k,name:G}=V;if(k==null)throw new oe(`missing function_call.arguments for choice ${S}`);if(!G)throw new oe(`missing function_call.name for choice ${S}`);return{...T,message:{content:C,function_call:{arguments:k,name:G},role:H,refusal:p.refusal??null},finish_reason:b,index:S,logprobs:O}}return B?{...T,index:S,finish_reason:b,logprobs:O,message:{...ue,role:H,content:C,refusal:p.refusal??null,tool_calls:B.map((k,G)=>{const{function:J,type:ae,id:Q,...ce}=k,{arguments:F,name:W,...le}=J||{};if(Q==null)throw new oe(`missing choices[${S}].tool_calls[${G}].id
${mr(r)}`);if(ae==null)throw new oe(`missing choices[${S}].tool_calls[${G}].type
${mr(r)}`);if(W==null)throw new oe(`missing choices[${S}].tool_calls[${G}].function.name
${mr(r)}`);if(F==null)throw new oe(`missing choices[${S}].tool_calls[${G}].function.arguments
${mr(r)}`);return{...ce,id:Q,type:ae,function:{...le,name:W,arguments:F}}})}}:{...T,message:{...ue,content:C,role:H,refusal:p.refusal??null},finish_reason:b,index:S,logprobs:O}}),created:u,model:f,object:"chat.completion",...d?{system_fingerprint:d}:{}};return Qw(y,a)}function mr(r){return JSON.stringify(r)}class Ur extends $i{static fromReadableStream(a){const s=new Ur(null);return s._run(()=>s._fromReadableStream(a)),s}static runTools(a,s,i){const u=new Ur(s),f={...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"runTools"}};return u._run(()=>u._runTools(a,s,f)),u}}let lf=class extends he{constructor(){super(...arguments),this.messages=new ty(this._client)}create(a,s){return this._client.post("/chat/completions",{body:a,...s,stream:a.stream??!1})}retrieve(a,s){return this._client.get(I`/chat/completions/${a}`,s)}update(a,s,i){return this._client.post(I`/chat/completions/${a}`,{body:s,...i})}list(a={},s){return this._client.getAPIList("/chat/completions",Qe,{query:a,...s})}delete(a,s){return this._client.delete(I`/chat/completions/${a}`,s)}parse(a,s){return Pw(a.tools),this._client.chat.completions.create(a,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(i=>af(i,a))}runTools(a,s){return a.stream?Ur.runTools(this._client,a,s):sf.runTools(this._client,a,s)}stream(a,s){return $i.createChatCompletion(this._client,a,s)}};lf.Messages=ty;class rf extends he{constructor(){super(...arguments),this.completions=new lf(this._client)}}rf.Completions=lf;const _y=Symbol("brand.privateNullableHeaders"),ig=Array.isArray;function*lx(r){if(!r)return;if(_y in r){const{values:i,nulls:u}=r;yield*i.entries();for(const f of u)yield[f,null];return}let a=!1,s;r instanceof Headers?s=r.entries():ig(r)?s=r:(a=!0,s=Object.entries(r??{}));for(let i of s){const u=i[0];if(typeof u!="string")throw new TypeError("expected header name to be a string");const f=ig(i[1])?i[1]:[i[1]];let d=!1;for(const m of f)m!==void 0&&(a&&!d&&(d=!0,yield[u,null]),yield[u,m])}}const ne=r=>{const a=new Headers,s=new Set;for(const i of r){const u=new Set;for(const[f,d]of lx(i)){const m=f.toLowerCase();u.has(m)||(a.delete(f),u.add(m)),d===null?(a.delete(f),s.add(m)):(a.append(f,d),s.delete(m))}}return{[_y]:!0,values:a,nulls:s}};class wy extends he{create(a,s){return this._client.post("/audio/speech",{body:a,...s,headers:ne([{Accept:"application/octet-stream"},s==null?void 0:s.headers]),__binaryResponse:!0})}}class xy extends he{create(a,s){return this._client.post("/audio/transcriptions",Oa({body:a,...s,stream:a.stream??!1,__metadata:{model:a.model}},this._client))}}class Ay extends he{create(a,s){return this._client.post("/audio/translations",Oa({body:a,...s,__metadata:{model:a.model}},this._client))}}class Xi extends he{constructor(){super(...arguments),this.transcriptions=new xy(this._client),this.translations=new Ay(this._client),this.speech=new wy(this._client)}}Xi.Transcriptions=xy;Xi.Translations=Ay;Xi.Speech=wy;class Ty extends he{create(a,s){return this._client.post("/batches",{body:a,...s})}retrieve(a,s){return this._client.get(I`/batches/${a}`,s)}list(a={},s){return this._client.getAPIList("/batches",Qe,{query:a,...s})}cancel(a,s){return this._client.post(I`/batches/${a}/cancel`,s)}}class Ey extends he{create(a,s){return this._client.post("/assistants",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}retrieve(a,s){return this._client.get(I`/assistants/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}update(a,s,i){return this._client.post(I`/assistants/${a}`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a={},s){return this._client.getAPIList("/assistants",Qe,{query:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}delete(a,s){return this._client.delete(I`/assistants/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}}class Oy extends he{create(a,s){return this._client.post("/realtime/sessions",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}}class Ry extends he{create(a,s){return this._client.post("/realtime/transcription_sessions",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}}class Ir extends he{constructor(){super(...arguments),this.sessions=new Oy(this._client),this.transcriptionSessions=new Ry(this._client)}}Ir.Sessions=Oy;Ir.TranscriptionSessions=Ry;class Ny extends he{create(a,s,i){return this._client.post(I`/threads/${a}/messages`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(a,s,i){const{thread_id:u}=s;return this._client.get(I`/threads/${u}/messages/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(a,s,i){const{thread_id:u,...f}=s;return this._client.post(I`/threads/${u}/messages/${a}`,{body:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a,s={},i){return this._client.getAPIList(I`/threads/${a}/messages`,Qe,{query:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(a,s,i){const{thread_id:u}=s;return this._client.delete(I`/threads/${u}/messages/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}class My extends he{retrieve(a,s,i){const{thread_id:u,run_id:f,...d}=s;return this._client.get(I`/threads/${u}/runs/${f}/steps/${a}`,{query:d,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a,s,i){const{thread_id:u,...f}=s;return this._client.getAPIList(I`/threads/${u}/runs/${a}/steps`,Qe,{query:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}const rx=r=>{if(typeof Buffer<"u"){const a=Buffer.from(r,"base64");return Array.from(new Float32Array(a.buffer,a.byteOffset,a.length/Float32Array.BYTES_PER_ELEMENT))}else{const a=atob(r),s=a.length,i=new Uint8Array(s);for(let u=0;u<s;u++)i[u]=a.charCodeAt(u);return Array.from(new Float32Array(i.buffer))}};var Tc={};const Oi=r=>{var a,s,i,u;if(typeof globalThis.process<"u")return((a=Tc==null?void 0:Tc[r])==null?void 0:a.trim())??void 0;if(typeof globalThis.Deno<"u")return(u=(i=(s=globalThis.Deno.env)==null?void 0:s.get)==null?void 0:i.call(s,r))==null?void 0:u.trim()};var rt,Aa,$c,rn,_r,Kt,Ta,ws,xa,zr,Ut,wr,xr,qi,Ui,zi,lg,rg,og,ug,cg,fg,dg;class Bi extends tf{constructor(){super(...arguments),rt.add(this),$c.set(this,[]),rn.set(this,{}),_r.set(this,{}),Kt.set(this,void 0),Ta.set(this,void 0),ws.set(this,void 0),xa.set(this,void 0),zr.set(this,void 0),Ut.set(this,void 0),wr.set(this,void 0),xr.set(this,void 0),qi.set(this,void 0)}[($c=new WeakMap,rn=new WeakMap,_r=new WeakMap,Kt=new WeakMap,Ta=new WeakMap,ws=new WeakMap,xa=new WeakMap,zr=new WeakMap,Ut=new WeakMap,wr=new WeakMap,xr=new WeakMap,qi=new WeakMap,rt=new WeakSet,Symbol.asyncIterator)](){const a=[],s=[];let i=!1;return this.on("event",u=>{const f=s.shift();f?f.resolve(u):a.push(u)}),this.on("end",()=>{i=!0;for(const u of s)u.resolve(void 0);s.length=0}),this.on("abort",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),this.on("error",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),{next:async()=>a.length?{value:a.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((f,d)=>s.push({resolve:f,reject:d})).then(f=>f?{value:f,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(a){const s=new Aa;return s._run(()=>s._fromReadableStream(a)),s}async _fromReadableStream(a,s){var f;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),this._connected();const u=un.fromReadableStream(a,this.controller);for await(const d of u)D(this,rt,"m",Ui).call(this,d);if((f=u.controller.signal)!=null&&f.aborted)throw new It;return this._addRun(D(this,rt,"m",zi).call(this))}toReadableStream(){return new un(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(a,s,i,u){const f=new Aa;return f._run(()=>f._runToolAssistantStream(a,s,i,{...u,headers:{...u==null?void 0:u.headers,"X-Stainless-Helper-Method":"stream"}})),f}async _createToolAssistantStream(a,s,i,u){var y;const f=u==null?void 0:u.signal;f&&(f.aborted&&this.controller.abort(),f.addEventListener("abort",()=>this.controller.abort()));const d={...i,stream:!0},m=await a.submitToolOutputs(s,d,{...u,signal:this.controller.signal});this._connected();for await(const p of m)D(this,rt,"m",Ui).call(this,p);if((y=m.controller.signal)!=null&&y.aborted)throw new It;return this._addRun(D(this,rt,"m",zi).call(this))}static createThreadAssistantStream(a,s,i){const u=new Aa;return u._run(()=>u._threadAssistantStream(a,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),u}static createAssistantStream(a,s,i,u){const f=new Aa;return f._run(()=>f._runAssistantStream(a,s,i,{...u,headers:{...u==null?void 0:u.headers,"X-Stainless-Helper-Method":"stream"}})),f}currentEvent(){return D(this,wr,"f")}currentRun(){return D(this,xr,"f")}currentMessageSnapshot(){return D(this,Kt,"f")}currentRunStepSnapshot(){return D(this,qi,"f")}async finalRunSteps(){return await this.done(),Object.values(D(this,rn,"f"))}async finalMessages(){return await this.done(),Object.values(D(this,_r,"f"))}async finalRun(){if(await this.done(),!D(this,Ta,"f"))throw Error("Final run was not received.");return D(this,Ta,"f")}async _createThreadAssistantStream(a,s,i){var m;const u=i==null?void 0:i.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const f={...s,stream:!0},d=await a.createAndRun(f,{...i,signal:this.controller.signal});this._connected();for await(const y of d)D(this,rt,"m",Ui).call(this,y);if((m=d.controller.signal)!=null&&m.aborted)throw new It;return this._addRun(D(this,rt,"m",zi).call(this))}async _createAssistantStream(a,s,i,u){var y;const f=u==null?void 0:u.signal;f&&(f.aborted&&this.controller.abort(),f.addEventListener("abort",()=>this.controller.abort()));const d={...i,stream:!0},m=await a.create(s,d,{...u,signal:this.controller.signal});this._connected();for await(const p of m)D(this,rt,"m",Ui).call(this,p);if((y=m.controller.signal)!=null&&y.aborted)throw new It;return this._addRun(D(this,rt,"m",zi).call(this))}static accumulateDelta(a,s){for(const[i,u]of Object.entries(s)){if(!a.hasOwnProperty(i)){a[i]=u;continue}let f=a[i];if(f==null){a[i]=u;continue}if(i==="index"||i==="type"){a[i]=u;continue}if(typeof f=="string"&&typeof u=="string")f+=u;else if(typeof f=="number"&&typeof u=="number")f+=u;else if(yc(f)&&yc(u))f=this.accumulateDelta(f,u);else if(Array.isArray(f)&&Array.isArray(u)){if(f.every(d=>typeof d=="string"||typeof d=="number")){f.push(...u);continue}for(const d of u){if(!yc(d))throw new Error(`Expected array delta entry to be an object but got: ${d}`);const m=d.index;if(m==null)throw console.error(d),new Error("Expected array delta entry to have an `index` property");if(typeof m!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${m}`);const y=f[m];y==null?f.push(d):f[m]=this.accumulateDelta(y,d)}continue}else throw Error(`Unhandled record type: ${i}, deltaValue: ${u}, accValue: ${f}`);a[i]=f}return a}_addRun(a){return a}async _threadAssistantStream(a,s,i){return await this._createThreadAssistantStream(s,a,i)}async _runAssistantStream(a,s,i,u){return await this._createAssistantStream(s,a,i,u)}async _runToolAssistantStream(a,s,i,u){return await this._createToolAssistantStream(s,a,i,u)}}Aa=Bi,Ui=function(a){if(!this.ended)switch(fe(this,wr,a),D(this,rt,"m",og).call(this,a),a.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":D(this,rt,"m",dg).call(this,a);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":D(this,rt,"m",rg).call(this,a);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":D(this,rt,"m",lg).call(this,a);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},zi=function(){if(this.ended)throw new oe("stream has ended, this shouldn't happen");if(!D(this,Ta,"f"))throw Error("Final run has not been received");return D(this,Ta,"f")},lg=function(a){const[s,i]=D(this,rt,"m",cg).call(this,a,D(this,Kt,"f"));fe(this,Kt,s),D(this,_r,"f")[s.id]=s;for(const u of i){const f=s.content[u.index];(f==null?void 0:f.type)=="text"&&this._emit("textCreated",f.text)}switch(a.event){case"thread.message.created":this._emit("messageCreated",a.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",a.data.delta,s),a.data.delta.content)for(const u of a.data.delta.content){if(u.type=="text"&&u.text){let f=u.text,d=s.content[u.index];if(d&&d.type=="text")this._emit("textDelta",f,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(u.index!=D(this,ws,"f")){if(D(this,xa,"f"))switch(D(this,xa,"f").type){case"text":this._emit("textDone",D(this,xa,"f").text,D(this,Kt,"f"));break;case"image_file":this._emit("imageFileDone",D(this,xa,"f").image_file,D(this,Kt,"f"));break}fe(this,ws,u.index)}fe(this,xa,s.content[u.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(D(this,ws,"f")!==void 0){const u=a.data.content[D(this,ws,"f")];if(u)switch(u.type){case"image_file":this._emit("imageFileDone",u.image_file,D(this,Kt,"f"));break;case"text":this._emit("textDone",u.text,D(this,Kt,"f"));break}}D(this,Kt,"f")&&this._emit("messageDone",a.data),fe(this,Kt,void 0)}},rg=function(a){const s=D(this,rt,"m",ug).call(this,a);switch(fe(this,qi,s),a.event){case"thread.run.step.created":this._emit("runStepCreated",a.data);break;case"thread.run.step.delta":const i=a.data.delta;if(i.step_details&&i.step_details.type=="tool_calls"&&i.step_details.tool_calls&&s.step_details.type=="tool_calls")for(const f of i.step_details.tool_calls)f.index==D(this,zr,"f")?this._emit("toolCallDelta",f,s.step_details.tool_calls[f.index]):(D(this,Ut,"f")&&this._emit("toolCallDone",D(this,Ut,"f")),fe(this,zr,f.index),fe(this,Ut,s.step_details.tool_calls[f.index]),D(this,Ut,"f")&&this._emit("toolCallCreated",D(this,Ut,"f")));this._emit("runStepDelta",a.data.delta,s);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":fe(this,qi,void 0),a.data.step_details.type=="tool_calls"&&D(this,Ut,"f")&&(this._emit("toolCallDone",D(this,Ut,"f")),fe(this,Ut,void 0)),this._emit("runStepDone",a.data,s);break}},og=function(a){D(this,$c,"f").push(a),this._emit("event",a)},ug=function(a){switch(a.event){case"thread.run.step.created":return D(this,rn,"f")[a.data.id]=a.data,a.data;case"thread.run.step.delta":let s=D(this,rn,"f")[a.data.id];if(!s)throw Error("Received a RunStepDelta before creation of a snapshot");let i=a.data;if(i.delta){const u=Aa.accumulateDelta(s,i.delta);D(this,rn,"f")[a.data.id]=u}return D(this,rn,"f")[a.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":D(this,rn,"f")[a.data.id]=a.data;break}if(D(this,rn,"f")[a.data.id])return D(this,rn,"f")[a.data.id];throw new Error("No snapshot available")},cg=function(a,s){let i=[];switch(a.event){case"thread.message.created":return[a.data,i];case"thread.message.delta":if(!s)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let u=a.data;if(u.delta.content)for(const f of u.delta.content)if(f.index in s.content){let d=s.content[f.index];s.content[f.index]=D(this,rt,"m",fg).call(this,f,d)}else s.content[f.index]=f,i.push(f);return[s,i];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(s)return[s,i];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},fg=function(a,s){return Aa.accumulateDelta(s,a)},dg=function(a){switch(fe(this,xr,a.data),a.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":fe(this,Ta,a.data),D(this,Ut,"f")&&(this._emit("toolCallDone",D(this,Ut,"f")),fe(this,Ut,void 0));break}};let of=class extends he{constructor(){super(...arguments),this.steps=new My(this._client)}create(a,s,i){const{include:u,...f}=s;return this._client.post(I`/threads/${a}/runs`,{query:{include:u},body:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers]),stream:s.stream??!1})}retrieve(a,s,i){const{thread_id:u}=s;return this._client.get(I`/threads/${u}/runs/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(a,s,i){const{thread_id:u,...f}=s;return this._client.post(I`/threads/${u}/runs/${a}`,{body:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a,s={},i){return this._client.getAPIList(I`/threads/${a}/runs`,Qe,{query:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}cancel(a,s,i){const{thread_id:u}=s;return this._client.post(I`/threads/${u}/runs/${a}/cancel`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async createAndPoll(a,s,i){const u=await this.create(a,s,i);return await this.poll(u.id,{thread_id:a},i)}createAndStream(a,s,i){return Bi.createAssistantStream(a,this._client.beta.threads.runs,s,i)}async poll(a,s,i){var f;const u=ne([i==null?void 0:i.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((f=i==null?void 0:i.pollIntervalMs)==null?void 0:f.toString())??void 0}]);for(;;){const{data:d,response:m}=await this.retrieve(a,s,{...i,headers:{...i==null?void 0:i.headers,...u}}).withResponse();switch(d.status){case"queued":case"in_progress":case"cancelling":let y=5e3;if(i!=null&&i.pollIntervalMs)y=i.pollIntervalMs;else{const p=m.headers.get("openai-poll-after-ms");if(p){const b=parseInt(p);isNaN(b)||(y=b)}}await Yi(y);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return d}}}stream(a,s,i){return Bi.createAssistantStream(a,this._client.beta.threads.runs,s,i)}submitToolOutputs(a,s,i){const{thread_id:u,...f}=s;return this._client.post(I`/threads/${u}/runs/${a}/submit_tool_outputs`,{body:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers]),stream:s.stream??!1})}async submitToolOutputsAndPoll(a,s,i){const u=await this.submitToolOutputs(a,s,i);return await this.poll(u.id,s,i)}submitToolOutputsStream(a,s,i){return Bi.createToolAssistantStream(a,this._client.beta.threads.runs,s,i)}};of.Steps=My;class Xr extends he{constructor(){super(...arguments),this.runs=new of(this._client),this.messages=new Ny(this._client)}create(a={},s){return this._client.post("/threads",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}retrieve(a,s){return this._client.get(I`/threads/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}update(a,s,i){return this._client.post(I`/threads/${a}`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(a,s){return this._client.delete(I`/threads/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}createAndRun(a,s){return this._client.post("/threads/runs",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers]),stream:a.stream??!1})}async createAndRunPoll(a,s){const i=await this.createAndRun(a,s);return await this.runs.poll(i.id,{thread_id:i.thread_id},s)}createAndRunStream(a,s){return Bi.createThreadAssistantStream(a,this._client.beta.threads,s)}}Xr.Runs=of;Xr.Messages=Ny;class Ji extends he{constructor(){super(...arguments),this.realtime=new Ir(this._client),this.assistants=new Ey(this._client),this.threads=new Xr(this._client)}}Ji.Realtime=Ir;Ji.Assistants=Ey;Ji.Threads=Xr;class Cy extends he{create(a,s){return this._client.post("/completions",{body:a,...s,stream:a.stream??!1})}}class Dy extends he{retrieve(a,s,i){const{container_id:u}=s;return this._client.get(I`/containers/${u}/files/${a}/content`,{...i,headers:ne([{Accept:"application/binary"},i==null?void 0:i.headers]),__binaryResponse:!0})}}let uf=class extends he{constructor(){super(...arguments),this.content=new Dy(this._client)}create(a,s,i){return this._client.post(I`/containers/${a}/files`,Oa({body:s,...i},this._client))}retrieve(a,s,i){const{container_id:u}=s;return this._client.get(I`/containers/${u}/files/${a}`,i)}list(a,s={},i){return this._client.getAPIList(I`/containers/${a}/files`,Qe,{query:s,...i})}delete(a,s,i){const{container_id:u}=s;return this._client.delete(I`/containers/${u}/files/${a}`,{...i,headers:ne([{Accept:"*/*"},i==null?void 0:i.headers])})}};uf.Content=Dy;class cf extends he{constructor(){super(...arguments),this.files=new uf(this._client)}create(a,s){return this._client.post("/containers",{body:a,...s})}retrieve(a,s){return this._client.get(I`/containers/${a}`,s)}list(a={},s){return this._client.getAPIList("/containers",Qe,{query:a,...s})}delete(a,s){return this._client.delete(I`/containers/${a}`,{...s,headers:ne([{Accept:"*/*"},s==null?void 0:s.headers])})}}cf.Files=uf;class Ly extends he{create(a,s){const i=!!a.encoding_format;let u=i?a.encoding_format:"base64";i&&ht(this._client).debug("embeddings/user defined encoding_format:",a.encoding_format);const f=this._client.post("/embeddings",{body:{...a,encoding_format:u},...s});return i?f:(ht(this._client).debug("embeddings/decoding base64 embeddings from base64"),f._thenUnwrap(d=>(d&&d.data&&d.data.forEach(m=>{const y=m.embedding;m.embedding=rx(y)}),d)))}}class Uy extends he{retrieve(a,s,i){const{eval_id:u,run_id:f}=s;return this._client.get(I`/evals/${u}/runs/${f}/output_items/${a}`,i)}list(a,s,i){const{eval_id:u,...f}=s;return this._client.getAPIList(I`/evals/${u}/runs/${a}/output_items`,Qe,{query:f,...i})}}class ff extends he{constructor(){super(...arguments),this.outputItems=new Uy(this._client)}create(a,s,i){return this._client.post(I`/evals/${a}/runs`,{body:s,...i})}retrieve(a,s,i){const{eval_id:u}=s;return this._client.get(I`/evals/${u}/runs/${a}`,i)}list(a,s={},i){return this._client.getAPIList(I`/evals/${a}/runs`,Qe,{query:s,...i})}delete(a,s,i){const{eval_id:u}=s;return this._client.delete(I`/evals/${u}/runs/${a}`,i)}cancel(a,s,i){const{eval_id:u}=s;return this._client.post(I`/evals/${u}/runs/${a}`,i)}}ff.OutputItems=Uy;class df extends he{constructor(){super(...arguments),this.runs=new ff(this._client)}create(a,s){return this._client.post("/evals",{body:a,...s})}retrieve(a,s){return this._client.get(I`/evals/${a}`,s)}update(a,s,i){return this._client.post(I`/evals/${a}`,{body:s,...i})}list(a={},s){return this._client.getAPIList("/evals",Qe,{query:a,...s})}delete(a,s){return this._client.delete(I`/evals/${a}`,s)}}df.Runs=ff;let zy=class extends he{create(a,s){return this._client.post("/files",Oa({body:a,...s},this._client))}retrieve(a,s){return this._client.get(I`/files/${a}`,s)}list(a={},s){return this._client.getAPIList("/files",Qe,{query:a,...s})}delete(a,s){return this._client.delete(I`/files/${a}`,s)}content(a,s){return this._client.get(I`/files/${a}/content`,{...s,headers:ne([{Accept:"application/binary"},s==null?void 0:s.headers]),__binaryResponse:!0})}async waitForProcessing(a,{pollInterval:s=5e3,maxWait:i=30*60*1e3}={}){const u=new Set(["processed","error","deleted"]),f=Date.now();let d=await this.retrieve(a);for(;!d.status||!u.has(d.status);)if(await Yi(s),d=await this.retrieve(a),Date.now()-f>i)throw new Wc({message:`Giving up on waiting for file ${a} to finish processing after ${i} milliseconds.`});return d}};class jy extends he{}let Vy=class extends he{run(a,s){return this._client.post("/fine_tuning/alpha/graders/run",{body:a,...s})}validate(a,s){return this._client.post("/fine_tuning/alpha/graders/validate",{body:a,...s})}};class hf extends he{constructor(){super(...arguments),this.graders=new Vy(this._client)}}hf.Graders=Vy;class qy extends he{create(a,s,i){return this._client.getAPIList(I`/fine_tuning/checkpoints/${a}/permissions`,Yr,{body:s,method:"post",...i})}retrieve(a,s={},i){return this._client.get(I`/fine_tuning/checkpoints/${a}/permissions`,{query:s,...i})}delete(a,s,i){const{fine_tuned_model_checkpoint:u}=s;return this._client.delete(I`/fine_tuning/checkpoints/${u}/permissions/${a}`,i)}}let mf=class extends he{constructor(){super(...arguments),this.permissions=new qy(this._client)}};mf.Permissions=qy;class By extends he{list(a,s={},i){return this._client.getAPIList(I`/fine_tuning/jobs/${a}/checkpoints`,Qe,{query:s,...i})}}class pf extends he{constructor(){super(...arguments),this.checkpoints=new By(this._client)}create(a,s){return this._client.post("/fine_tuning/jobs",{body:a,...s})}retrieve(a,s){return this._client.get(I`/fine_tuning/jobs/${a}`,s)}list(a={},s){return this._client.getAPIList("/fine_tuning/jobs",Qe,{query:a,...s})}cancel(a,s){return this._client.post(I`/fine_tuning/jobs/${a}/cancel`,s)}listEvents(a,s={},i){return this._client.getAPIList(I`/fine_tuning/jobs/${a}/events`,Qe,{query:s,...i})}pause(a,s){return this._client.post(I`/fine_tuning/jobs/${a}/pause`,s)}resume(a,s){return this._client.post(I`/fine_tuning/jobs/${a}/resume`,s)}}pf.Checkpoints=By;class Ts extends he{constructor(){super(...arguments),this.methods=new jy(this._client),this.jobs=new pf(this._client),this.checkpoints=new mf(this._client),this.alpha=new hf(this._client)}}Ts.Methods=jy;Ts.Jobs=pf;Ts.Checkpoints=mf;Ts.Alpha=hf;class Hy extends he{}class gf extends he{constructor(){super(...arguments),this.graderModels=new Hy(this._client)}}gf.GraderModels=Hy;class ky extends he{createVariation(a,s){return this._client.post("/images/variations",Oa({body:a,...s},this._client))}edit(a,s){return this._client.post("/images/edits",Oa({body:a,...s},this._client))}generate(a,s){return this._client.post("/images/generations",{body:a,...s})}}class Gy extends he{retrieve(a,s){return this._client.get(I`/models/${a}`,s)}list(a){return this._client.getAPIList("/models",Yr,a)}delete(a,s){return this._client.delete(I`/models/${a}`,s)}}class $y extends he{create(a,s){return this._client.post("/moderations",{body:a,...s})}}function ox(r,a){return!a||!cx(a)?{...r,output_parsed:null,output:r.output.map(s=>s.type==="function_call"?{...s,parsed_arguments:null}:s.type==="message"?{...s,content:s.content.map(i=>({...i,parsed:null}))}:s)}:Yy(r,a)}function Yy(r,a){const s=r.output.map(u=>{if(u.type==="function_call")return{...u,parsed_arguments:hx(a,u)};if(u.type==="message"){const f=u.content.map(d=>d.type==="output_text"?{...d,parsed:ux(a,d.text)}:d);return{...u,content:f}}return u}),i=Object.assign({},r,{output:s});return Object.getOwnPropertyDescriptor(r,"output_text")||Iy(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(const u of i.output)if(u.type==="message"){for(const f of u.content)if(f.type==="output_text"&&f.parsed!==null)return f.parsed}return null}}),i}function ux(r,a){var s,i,u,f;return((i=(s=r.text)==null?void 0:s.format)==null?void 0:i.type)!=="json_schema"?null:"$parseRaw"in((u=r.text)==null?void 0:u.format)?((f=r.text)==null?void 0:f.format).$parseRaw(a):JSON.parse(a)}function cx(r){var a;return!!nf((a=r.text)==null?void 0:a.format)}function fx(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function dx(r,a){return r.find(s=>s.type==="function"&&s.name===a)}function hx(r,a){const s=dx(r.tools??[],a.name);return{...a,...a,parsed_arguments:fx(s)?s.$parseRaw(a.arguments):s!=null&&s.strict?JSON.parse(a.arguments):null}}function Iy(r){const a=[];for(const s of r.output)if(s.type==="message")for(const i of s.content)i.type==="output_text"&&a.push(i.text);r.output_text=a.join("")}var ys,pr,na,gr,hg,mg,pg,gg;class yf extends tf{constructor(a){super(),ys.add(this),pr.set(this,void 0),na.set(this,void 0),gr.set(this,void 0),fe(this,pr,a)}static createResponse(a,s,i){const u=new yf(s);return u._run(()=>u._createOrRetrieveResponse(a,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createOrRetrieveResponse(a,s,i){var m;const u=i==null?void 0:i.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),D(this,ys,"m",hg).call(this);let f,d=null;"response_id"in s?(f=await a.responses.retrieve(s.response_id,{stream:!0},{...i,signal:this.controller.signal,stream:!0}),d=s.starting_after??null):f=await a.responses.create({...s,stream:!0},{...i,signal:this.controller.signal}),this._connected();for await(const y of f)D(this,ys,"m",mg).call(this,y,d);if((m=f.controller.signal)!=null&&m.aborted)throw new It;return D(this,ys,"m",pg).call(this)}[(pr=new WeakMap,na=new WeakMap,gr=new WeakMap,ys=new WeakSet,hg=function(){this.ended||fe(this,na,void 0)},mg=function(s,i){if(this.ended)return;const u=(d,m)=>{(i==null||m.sequence_number>i)&&this._emit(d,m)},f=D(this,ys,"m",gg).call(this,s);switch(u("event",s),s.type){case"response.output_text.delta":{const d=f.output[s.output_index];if(!d)throw new oe(`missing output at index ${s.output_index}`);if(d.type==="message"){const m=d.content[s.content_index];if(!m)throw new oe(`missing content at index ${s.content_index}`);if(m.type!=="output_text")throw new oe(`expected content to be 'output_text', got ${m.type}`);u("response.output_text.delta",{...s,snapshot:m.text})}break}case"response.function_call_arguments.delta":{const d=f.output[s.output_index];if(!d)throw new oe(`missing output at index ${s.output_index}`);d.type==="function_call"&&u("response.function_call_arguments.delta",{...s,snapshot:d.arguments});break}default:u(s.type,s);break}},pg=function(){if(this.ended)throw new oe("stream has ended, this shouldn't happen");const s=D(this,na,"f");if(!s)throw new oe("request ended without sending any events");fe(this,na,void 0);const i=mx(s,D(this,pr,"f"));return fe(this,gr,i),i},gg=function(s){let i=D(this,na,"f");if(!i){if(s.type!=="response.created")throw new oe(`When snapshot hasn't been set yet, expected 'response.created' event, got ${s.type}`);return i=fe(this,na,s.response),i}switch(s.type){case"response.output_item.added":{i.output.push(s.item);break}case"response.content_part.added":{const u=i.output[s.output_index];if(!u)throw new oe(`missing output at index ${s.output_index}`);u.type==="message"&&u.content.push(s.part);break}case"response.output_text.delta":{const u=i.output[s.output_index];if(!u)throw new oe(`missing output at index ${s.output_index}`);if(u.type==="message"){const f=u.content[s.content_index];if(!f)throw new oe(`missing content at index ${s.content_index}`);if(f.type!=="output_text")throw new oe(`expected content to be 'output_text', got ${f.type}`);f.text+=s.delta}break}case"response.function_call_arguments.delta":{const u=i.output[s.output_index];if(!u)throw new oe(`missing output at index ${s.output_index}`);u.type==="function_call"&&(u.arguments+=s.delta);break}case"response.completed":{fe(this,na,s.response);break}}return i},Symbol.asyncIterator)](){const a=[],s=[];let i=!1;return this.on("event",u=>{const f=s.shift();f?f.resolve(u):a.push(u)}),this.on("end",()=>{i=!0;for(const u of s)u.resolve(void 0);s.length=0}),this.on("abort",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),this.on("error",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),{next:async()=>a.length?{value:a.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((f,d)=>s.push({resolve:f,reject:d})).then(f=>f?{value:f,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const a=D(this,gr,"f");if(!a)throw new oe("stream ended without producing a ChatCompletion");return a}}function mx(r,a){return ox(r,a)}class Xy extends he{list(a,s={},i){return this._client.getAPIList(I`/responses/${a}/input_items`,Qe,{query:s,...i})}}class vf extends he{constructor(){super(...arguments),this.inputItems=new Xy(this._client)}create(a,s){return this._client.post("/responses",{body:a,...s,stream:a.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Iy(i),i))}retrieve(a,s={},i){return this._client.get(I`/responses/${a}`,{query:s,...i,stream:(s==null?void 0:s.stream)??!1})}delete(a,s){return this._client.delete(I`/responses/${a}`,{...s,headers:ne([{Accept:"*/*"},s==null?void 0:s.headers])})}parse(a,s){return this._client.responses.create(a,s)._thenUnwrap(i=>Yy(i,a))}stream(a,s){return yf.createResponse(this._client,a,s)}cancel(a,s){return this._client.post(I`/responses/${a}/cancel`,{...s,headers:ne([{Accept:"*/*"},s==null?void 0:s.headers])})}}vf.InputItems=Xy;class Jy extends he{create(a,s,i){return this._client.post(I`/uploads/${a}/parts`,Oa({body:s,...i},this._client))}}class bf extends he{constructor(){super(...arguments),this.parts=new Jy(this._client)}create(a,s){return this._client.post("/uploads",{body:a,...s})}cancel(a,s){return this._client.post(I`/uploads/${a}/cancel`,s)}complete(a,s,i){return this._client.post(I`/uploads/${a}/complete`,{body:s,...i})}}bf.Parts=Jy;const px=async r=>{const a=await Promise.allSettled(r),s=a.filter(u=>u.status==="rejected");if(s.length){for(const u of s)console.error(u.reason);throw new Error(`${s.length} promise(s) failed - see the above errors`)}const i=[];for(const u of a)u.status==="fulfilled"&&i.push(u.value);return i};class Qy extends he{create(a,s,i){return this._client.post(I`/vector_stores/${a}/file_batches`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(a,s,i){const{vector_store_id:u}=s;return this._client.get(I`/vector_stores/${u}/file_batches/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}cancel(a,s,i){const{vector_store_id:u}=s;return this._client.post(I`/vector_stores/${u}/file_batches/${a}/cancel`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async createAndPoll(a,s,i){const u=await this.create(a,s);return await this.poll(a,u.id,i)}listFiles(a,s,i){const{vector_store_id:u,...f}=s;return this._client.getAPIList(I`/vector_stores/${u}/file_batches/${a}/files`,Qe,{query:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async poll(a,s,i){var f;const u=ne([i==null?void 0:i.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((f=i==null?void 0:i.pollIntervalMs)==null?void 0:f.toString())??void 0}]);for(;;){const{data:d,response:m}=await this.retrieve(s,{vector_store_id:a},{...i,headers:u}).withResponse();switch(d.status){case"in_progress":let y=5e3;if(i!=null&&i.pollIntervalMs)y=i.pollIntervalMs;else{const p=m.headers.get("openai-poll-after-ms");if(p){const b=parseInt(p);isNaN(b)||(y=b)}}await Yi(y);break;case"failed":case"cancelled":case"completed":return d}}}async uploadAndPoll(a,{files:s,fileIds:i=[]},u){if(s==null||s.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const f=(u==null?void 0:u.maxConcurrency)??5,d=Math.min(f,s.length),m=this._client,y=s.values(),p=[...i];async function b(O){for(let T of O){const C=await m.files.create({file:T,purpose:"assistants"},u);p.push(C.id)}}const S=Array(d).fill(y).map(b);return await px(S),await this.createAndPoll(a,{file_ids:p})}}class Ky extends he{create(a,s,i){return this._client.post(I`/vector_stores/${a}/files`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(a,s,i){const{vector_store_id:u}=s;return this._client.get(I`/vector_stores/${u}/files/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(a,s,i){const{vector_store_id:u,...f}=s;return this._client.post(I`/vector_stores/${u}/files/${a}`,{body:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a,s={},i){return this._client.getAPIList(I`/vector_stores/${a}/files`,Qe,{query:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(a,s,i){const{vector_store_id:u}=s;return this._client.delete(I`/vector_stores/${u}/files/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async createAndPoll(a,s,i){const u=await this.create(a,s,i);return await this.poll(a,u.id,i)}async poll(a,s,i){var f;const u=ne([i==null?void 0:i.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((f=i==null?void 0:i.pollIntervalMs)==null?void 0:f.toString())??void 0}]);for(;;){const d=await this.retrieve(s,{vector_store_id:a},{...i,headers:u}).withResponse(),m=d.data;switch(m.status){case"in_progress":let y=5e3;if(i!=null&&i.pollIntervalMs)y=i.pollIntervalMs;else{const p=d.response.headers.get("openai-poll-after-ms");if(p){const b=parseInt(p);isNaN(b)||(y=b)}}await Yi(y);break;case"failed":case"completed":return m}}}async upload(a,s,i){const u=await this._client.files.create({file:s,purpose:"assistants"},i);return this.create(a,{file_id:u.id},i)}async uploadAndPoll(a,s,i){const u=await this.upload(a,s,i);return await this.poll(a,u.id,i)}content(a,s,i){const{vector_store_id:u}=s;return this._client.getAPIList(I`/vector_stores/${u}/files/${a}/content`,Yr,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}class Jr extends he{constructor(){super(...arguments),this.files=new Ky(this._client),this.fileBatches=new Qy(this._client)}create(a,s){return this._client.post("/vector_stores",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}retrieve(a,s){return this._client.get(I`/vector_stores/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}update(a,s,i){return this._client.post(I`/vector_stores/${a}`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a={},s){return this._client.getAPIList("/vector_stores",Qe,{query:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}delete(a,s){return this._client.delete(I`/vector_stores/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}search(a,s,i){return this._client.getAPIList(I`/vector_stores/${a}/search`,Yr,{body:s,method:"post",...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}Jr.Files=Ky;Jr.FileBatches=Qy;var Sf,Ar;class we{constructor({baseURL:a=Oi("OPENAI_BASE_URL"),apiKey:s=Oi("OPENAI_API_KEY"),organization:i=Oi("OPENAI_ORG_ID")??null,project:u=Oi("OPENAI_PROJECT_ID")??null,...f}={}){if(Ar.set(this,void 0),this.completions=new Cy(this),this.chat=new rf(this),this.embeddings=new Ly(this),this.files=new zy(this),this.images=new ky(this),this.audio=new Xi(this),this.moderations=new $y(this),this.models=new Gy(this),this.fineTuning=new Ts(this),this.graders=new gf(this),this.vectorStores=new Jr(this),this.beta=new Ji(this),this.batches=new Ty(this),this.uploads=new bf(this),this.responses=new vf(this),this.evals=new df(this),this.containers=new cf(this),s===void 0)throw new oe("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const d={apiKey:s,organization:i,project:u,...f,baseURL:a||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&hw())throw new oe(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=d.baseURL,this.timeout=d.timeout??Sf.DEFAULT_TIMEOUT,this.logger=d.logger??console;const m="warn";this.logLevel=m,this.logLevel=Jp(d.logLevel,"ClientOptions.logLevel",this)??Jp(Oi("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??m,this.fetchOptions=d.fetchOptions,this.maxRetries=d.maxRetries??2,this.fetch=d.fetch??vw(),fe(this,Ar,Sw),this._options=d,this.apiKey=s,this.organization=i,this.project=u}withOptions(a){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,...a})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:a,nulls:s}){}authHeaders(a){return ne([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(a){return Mw(a,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Ss}`}defaultIdempotencyKey(){return`stainless-node-retry-${Cg()}`}makeStatusError(a,s,i,u){return ut.generate(a,s,i,u)}buildURL(a,s){const i=lw(a)?new URL(a):new URL(this.baseURL+(this.baseURL.endsWith("/")&&a.startsWith("/")?a.slice(1):a)),u=this.defaultQuery();return ow(u)||(s={...u,...s}),typeof s=="object"&&s&&!Array.isArray(s)&&(i.search=this.stringifyQuery(s)),i.toString()}async prepareOptions(a){}async prepareRequest(a,{url:s,options:i}){}get(a,s){return this.methodRequest("get",a,s)}post(a,s){return this.methodRequest("post",a,s)}patch(a,s){return this.methodRequest("patch",a,s)}put(a,s){return this.methodRequest("put",a,s)}delete(a,s){return this.methodRequest("delete",a,s)}methodRequest(a,s,i){return this.request(Promise.resolve(i).then(u=>({method:a,path:s,...u})))}request(a,s=null){return new $r(this,this.makeRequest(a,s,void 0))}async makeRequest(a,s,i){var ue,H;const u=await a,f=u.maxRetries??this.maxRetries;s==null&&(s=f),await this.prepareOptions(u);const{req:d,url:m,timeout:y}=this.buildRequest(u,{retryCount:f-s});await this.prepareRequest(d,{url:m,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=i===void 0?"":`, retryOf: ${i}`,S=Date.now();if(ht(this).debug(`[${p}] sending request`,wa({retryOfRequestLogID:i,method:u.method,url:m,options:u,headers:d.headers})),(ue=u.signal)!=null&&ue.aborted)throw new It;const O=new AbortController,T=await this.fetchWithTimeout(m,d,y,O).catch(Lc),C=Date.now();if(T instanceof Error){const k=`retrying, ${s} attempts remaining`;if((H=u.signal)!=null&&H.aborted)throw new It;const G=Dc(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(s)return ht(this).info(`[${p}] connection ${G?"timed out":"failed"} - ${k}`),ht(this).debug(`[${p}] connection ${G?"timed out":"failed"} (${k})`,wa({retryOfRequestLogID:i,url:m,durationMs:C-S,message:T.message})),this.retryRequest(u,s,i??p);throw ht(this).info(`[${p}] connection ${G?"timed out":"failed"} - error; no more retries left`),ht(this).debug(`[${p}] connection ${G?"timed out":"failed"} (error; no more retries left)`,wa({retryOfRequestLogID:i,url:m,durationMs:C-S,message:T.message})),G?new Wc:new kr({cause:T})}const V=[...T.headers.entries()].filter(([k])=>k==="x-request-id").map(([k,G])=>", "+k+": "+JSON.stringify(G)).join(""),B=`[${p}${b}${V}] ${d.method} ${m} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${C-S}ms`;if(!T.ok){const k=this.shouldRetry(T);if(s&&k){const F=`retrying, ${s} attempts remaining`;return await bw(T.body),ht(this).info(`${B} - ${F}`),ht(this).debug(`[${p}] response error (${F})`,wa({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),this.retryRequest(u,s,i??p,T.headers)}const G=k?"error; no more retries left":"error; not retryable";ht(this).info(`${B} - ${G}`);const J=await T.text().catch(F=>Lc(F).message),ae=fw(J),Q=ae?void 0:J;throw ht(this).debug(`[${p}] response error (${G})`,wa({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,message:Q,durationMs:Date.now()-S})),this.makeStatusError(T.status,ae,Q,T.headers)}return ht(this).info(B),ht(this).debug(`[${p}] response start`,wa({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),{response:T,options:u,controller:O,requestLogID:p,retryOfRequestLogID:i,startTime:S}}getAPIList(a,s,i){return this.requestAPIList(s,{method:"get",path:a,...i})}requestAPIList(a,s){const i=this.makeRequest(s,null,void 0);return new qw(this,i,a)}async fetchWithTimeout(a,s,i,u){const{signal:f,method:d,...m}=s||{};f&&f.addEventListener("abort",()=>u.abort());const y=setTimeout(()=>u.abort(),i),p=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,b={signal:u.signal,...p?{duplex:"half"}:{},method:"GET",...m};d&&(b.method=d.toUpperCase());try{return await this.fetch.call(void 0,a,b)}finally{clearTimeout(y)}}shouldRetry(a){const s=a.headers.get("x-should-retry");return s==="true"?!0:s==="false"?!1:a.status===408||a.status===409||a.status===429||a.status>=500}async retryRequest(a,s,i,u){let f;const d=u==null?void 0:u.get("retry-after-ms");if(d){const y=parseFloat(d);Number.isNaN(y)||(f=y)}const m=u==null?void 0:u.get("retry-after");if(m&&!f){const y=parseFloat(m);Number.isNaN(y)?f=Date.parse(m)-Date.now():f=y*1e3}if(!(f&&0<=f&&f<60*1e3)){const y=a.maxRetries??this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(s,y)}return await Yi(f),this.makeRequest(a,s-1,i)}calculateDefaultRetryTimeoutMillis(a,s){const f=s-a,d=Math.min(.5*Math.pow(2,f),8),m=1-Math.random()*.25;return d*m*1e3}buildRequest(a,{retryCount:s=0}={}){const i={...a},{method:u,path:f,query:d}=i,m=this.buildURL(f,d);"timeout"in i&&cw("timeout",i.timeout),i.timeout=i.timeout??this.timeout;const{bodyHeaders:y,body:p}=this.buildBody({options:i}),b=this.buildHeaders({options:a,method:u,bodyHeaders:y,retryCount:s});return{req:{method:u,headers:b,...i.signal&&{signal:i.signal},...globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"},...p&&{body:p},...this.fetchOptions??{},...i.fetchOptions??{}},url:m,timeout:i.timeout}}buildHeaders({options:a,method:s,bodyHeaders:i,retryCount:u}){let f={};this.idempotencyHeader&&s!=="get"&&(a.idempotencyKey||(a.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=a.idempotencyKey);const d=ne([f,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(u),...a.timeout?{"X-Stainless-Timeout":String(Math.trunc(a.timeout/1e3))}:{},...yw(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},this.authHeaders(a),this._options.defaultHeaders,i,a.headers]);return this.validateHeaders(d),d.values}buildBody({options:{body:a,headers:s}}){if(!a)return{bodyHeaders:void 0,body:void 0};const i=ne([s]);return ArrayBuffer.isView(a)||a instanceof ArrayBuffer||a instanceof DataView||typeof a=="string"&&i.values.has("content-type")||a instanceof Blob||a instanceof FormData||a instanceof URLSearchParams||globalThis.ReadableStream&&a instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:a}:typeof a=="object"&&(Symbol.asyncIterator in a||Symbol.iterator in a&&"next"in a&&typeof a.next=="function")?{bodyHeaders:void 0,body:$g(a)}:D(this,Ar,"f").call(this,{body:a,headers:i})}}Sf=we,Ar=new WeakMap;we.OpenAI=Sf;we.DEFAULT_TIMEOUT=6e5;we.OpenAIError=oe;we.APIError=ut;we.APIConnectionError=kr;we.APIConnectionTimeoutError=Wc;we.APIUserAbortError=It;we.NotFoundError=zg;we.ConflictError=jg;we.RateLimitError=qg;we.BadRequestError=Dg;we.AuthenticationError=Lg;we.InternalServerError=Bg;we.PermissionDeniedError=Ug;we.UnprocessableEntityError=Vg;we.toFile=Yw;we.Completions=Cy;we.Chat=rf;we.Embeddings=Ly;we.Files=zy;we.Images=ky;we.Audio=Xi;we.Moderations=$y;we.Models=Gy;we.FineTuning=Ts;we.Graders=gf;we.VectorStores=Jr;we.Beta=Ji;we.Batches=Ty;we.Uploads=bf;we.Responses=vf;we.Evals=df;we.Containers=cf;class gx{constructor(a,s,i){Z(this,"openai");Z(this,"defaultModelName");this.openai=new we({apiKey:a,baseURL:s,dangerouslyAllowBrowser:!0}),this.defaultModelName=i.defaultModelName}async createChatCompletion(a){const{model:s=this.defaultModelName}=a,i=await this.openai.chat.completions.create({model:s,messages:this.getMessages(a),max_completion_tokens:a.maxCompletionTokens,temperature:a.temperature,...a.extraOptions});return console.log(i),this.buildResult(i,a)}buildResult(a,s){var d;const i=((d=a.usage.prompt_tokens_details)==null?void 0:d.cached_tokens)??0,u=a.usage.prompt_tokens-i,f=a.usage.completion_tokens;return{model:s.model,content:a.choices[0].message.content,usedTokens:{request:{uncached:u,cached:i},response:f}}}getMessages(a){let s=[...a.messages??[]];return s.length===0&&s.push({role:"user",content:a.prompt??""}),a.systemPrompt&&s.unshift({role:"system",content:a.systemPrompt}),s}}const yx=["blackboxai","gpt-4.1-mini","gpt-4.1-nano","gpt-4","gpt-4o","gpt-4o-mini"],vx=["llama-3.1-70b"],bx=["gpt-4o-mini"],Sx=["glm-4"],_x=["llama-2-7b","llama-3-8b","llama-3.1-8b","llama-3.2-1b","qwen-1.5-7b"],wx=["gpt-4","o1"],xx=["deepseek-prover-v2-671b","qwen-3-235b","qwen-3-30b","qwen-3-32b","qwen-3-14b","llama-4-maverick","llama-4-maverick","phi-4-reasoning-plus","qwq-32b","deepseek-v3-0324","deepseek-r1-0528","gemma-3-27b","gemma-3-12b","phi-4-multimodal","llama-3.1-8b","llama-3.2-90b","llama-3.3-70b","deepseek-v3","mixtral-small-24b","deepseek-r1-turbo","deepseek-r1","deepseek-r1-distill-llama-70b","deepseek-r1-distill-qwen-32b","phi-4","wizardlm-2-8x22b","qwen-2-72b","dolphin-2.6","dolphin-2.9","airoboros-70b","lzlv-70b","wizardlm-2-7b","mixtral-8x22b"],Ax=["gpt-4o"],Tx=["gemini-1.5-pro","gemini-1.5-flash"],Ex=["gemini-1.5-pro","gemini-1.5-flash"],Ox=["gemini-1.5-flash"],Rx=["qwen-2-72b","qwen-3-235b","qwen-3-32b","qwen-3-30b","qwen-3-14b","qwen-3-4b","qwen-3-1.7b","qwen-3-0.6b","command-r-plus","command-r","command-r7b"],Nx=["deepseek-v3","deepseek-r1","hermes-3","hermes-3-405b","nemotron-70b","llama-3.3-70b","qwen-2.5-coder-32b"],Mx=["claude-3.7-sonnet","claude-3.7-sonnet-thinking","gpt-4o","grok-3","gemini-2.0-flash-thinking","gemini-2.0-pro","deepseek-r1","gemini-2.0-flash","o1","qwen-2.5-max","o3-mini","o3","o4-mini","deepseek-v3","deepseek-v3-0324","qwen-plus","glm-4-plus","o1-mini","gemini-1.5-pro","grok-2","claude-3.5-sonnet","qwen-2.5-plus","deepseek-v2.5","gpt-4o-mini","gemini-1.5-flash","llama-3.1-405b","nemotron-70b","grok-2-mini","qwen-max","qwen-2.5-72b","qwen-2.5-vl-32b","qwen-2.5-vl-72b","gpt-4-turbo","llama-3.3-70b","nemotron-49b","mistral-large","mistral-medium","pixtral-large","gpt-4","gpt-4.1","gpt-4.1-mini","gpt-4.1-nano","llama-3.1-70b","nemotron-253b","claude-3-opus","tulu-3-70b","claude-3.5-haiku","reka-core","gemma-2-27b","gemma-3-27b","gemma-3-12b","gemma-3-4b","deepseek-v2","qwen-2.5-coder-32b","gemma-2-9b","command-r-plus","command-a","deepseek-coder-v2","nemotron-51b","mistral-small-24b","mistral-small-3.1-24b","nemotron-4-340b","glm-4","llama-3-70b","llama-4-maverick","llama-4-scout","reka-flash","phi-4","claude-3-sonnet","qwen-2-72b","qwen-3-235b","qwen-3-30b","qwen-3-32b","tulu-3-8b","command-r","codestral","claude-3-haiku","llama-3.1-8b","qwen-1.5-110b","qwq-32b","llama-3-8b","qwen-1.5-72b","gemma-2-2b","qwen-vl-max","gemini-2.5-pro","gemini-2.5-flash","mixtral-8x22b","qwen-1.5-32b","qwen-1.5-14b","qwen-1.5-7b","qwen-1.5-4b","mistral-next","phi-3-medium","phi-3-small","phi-3-mini","tulu-2-70b","llama-2-70b","llama-2-13b","llama-2-7b","hermes-2-dpo","pplx-70b-online","pplx-7b-online","deepseek-67b","openhermes-2.5-7b","mistral-7b","llama-3.2-3b","llama-3.2-1b","codellama-34b","codellama-70b","qwen-14b","gpt-3.5-turbo","mixtral-8x7b","dbrx-instruct","llama-13b"],Cx=["gpt-4o-mini"],Dx=["gpt-4.1-mini"],Lx=["gpt-4.1-mini"],Ux=["sonar","sonar-pro","sonar-reasoning","sonar-reasoning-pro"],zx=["gpt-4o-mini","gpt-4.1-nano","gpt-4","gpt-4o","gpt-4.1","o4-mini","gpt-4.1-mini","command-r-plus","gemini-2.5-flash","gemini-2.0-flash-thinking","qwen-2.5-coder-32b","llama-3.3-70b","llama-4-scout","mistral-small-3.1-24b","deepseek-r1","deepseek-r1-distill-llama-70b","deepseek-r1-distill-qwen-32b","phi-4","qwq-32b","deepseek-v3","deepseek-v3-0324","grok-3-mini"],jx=["gemini-1.5-pro","gemini-1.5-flash"],Vx=["llama-3.2-3b","llama-2-70b","llama-3-70b","llama-3.2-90b","llama-3.3-70b","llama-4-scout","llama-3.1-8b","llama-3.2-11b","llama-3-8b","llama-3.1-70b","llama-3.1-405b","llama-4-maverick","deepseek-r1","deepseek-r1-0528","deepseek-v3-0324","deepseek-r1-distill-llama-70b","deepseek-r1-distill-qwen-1.5b","deepseek-r1-distill-qwen-14b","deepseek-v3","qwen-2.5-vl-72b","qwen-2.5-coder-32b","qwen-2.5-7b","qwen-2-vl-72b","qwq-32b","qwen-2.5-72b","qwen-3-235b","qwen-2-72b","mixtral-8x7b","mistral-small-24b","mistral-7b","gemma-2-27b","nemotron-70b","hermes-2-dpo","r1-1776"],qx=["gemini-1.5-pro","gemini-1.5-flash"],Bx=["gpt-4"],Hx=["gpt-4"],kx={Blackbox:yx,Blackboxapi:vx,Chatai:bx,ChatGLM:Sx,Cloudflare:_x,Copilot:wx,DeepInfraChat:xx,DocsBot:Ax,Free2GPT:Tx,FreeGpt:Ex,GizAI:Ox,HuggingSpace:Rx,LambdaChat:Nx,LegacyLMArena:Mx,OIVSCodeSer2:Cx,OIVSCodeSer5:Dx,OIVSCodeSer0501:Lx,PerplexityLabs:Ux,PollinationsAI:zx,TeachAnything:jx,Together:Vx,Websim:qx,WeWordle:Bx,Yqcloud:Hx};function Gx(r){return Zy(r).join(" ")}function Zy(r){return Object.entries(kx).filter(([,a])=>a.includes(r)).map(([a])=>a)}class Fy{constructor(a){Z(this,"options");Z(this,"chatApi");Z(this,"systemPrompt","");Z(this,"messageHistory",[]);this.options=a,this.chatApi=new gx(a.apiKey,a.apiBaseUrl,{defaultModelName:a.modelName??"gpt-4o-mini"})}setSystemPrompt(a){this.systemPrompt=a}async prompt(a){const s={role:"user",content:a},i=await this.chatApi.createChatCompletion({systemPrompt:this.systemPrompt,messages:[...this.messageHistory,s],extraOptions:this.getExtraOptions()});return i.content?(this.options.useMessageHistory&&(this.messageHistory.push(s),this.messageHistory.push({role:"assistant",content:i.content})),{content:i.content,usedTokens:i.usedTokens}):{content:null,usedTokens:null}}getExtraOptions(){return this.options.gpt4FreeMode?{provider:this.options.provider??Gx(this.chatApi.defaultModelName)}:{}}}const $x="_body_66le9_3",Yx={body:$x},Ix="_agentSetupView_5lxm0_3",Xx={agentSetupView:Ix},Jx=({storageKeyPrefix:r,onCreateAgent:a})=>{const{t:s}=qe("AgentSetupView"),[i,u]=Se.useState(""),[f,d]=Se.useState(""),[m,y]=Se.useState(""),[p,b]=Se.useState(!1),[S,O]=Se.useState(""),[T,C]=Se.useState(!1),[V,B]=Se.useState(s("notInitialized")),ue=()=>{if(!i||!f){B(s("specifyApiKeyAndBaseUrl"));return}try{B(s("agentReady")),a({apiKey:i,apiBaseUrl:f,modelName:m,gpt4FreeMode:p,provider:S,useMessageHistory:T})}catch(k){B(s("error")+": "+(k==null?void 0:k.message)),console.error(k)}},H=k=>{const J=Zy(k).map(ae=>({value:ae,label:ae}));return J.sort((ae,Q)=>ae.label.localeCompare(Q.label)),J.unshift({value:"",label:s("autoSelectProvider")}),J};return x.jsxs("div",{className:Xx.agentSetupView,children:[x.jsx(Yt,{type:"text",label:s("baseUrl"),storageKey:`${r}_baseUrl`,value:f,onChange:d}),x.jsx(Yt,{type:"password",label:s("apiKey"),storageKey:`${r}_apiKey`,value:i,onChange:u}),x.jsx(Yt,{type:"text",label:s("modelName"),storageKey:`${r}_modelName`,value:m,onChange:y}),x.jsx(Yt,{type:"checkbox",label:s("gpt4FreeMode"),storageKey:`${r}_gpt4FreeMode`,value:p,onChange:k=>b(k==="true")}),p&&x.jsx(Yt,{type:"select",label:s("provider"),storageKey:`${r}_provider`,value:S,onChange:O,options:H(m)}),x.jsx(Yt,{type:"checkbox",label:s("useMessageHistory"),storageKey:`${r}_useMessageHistory`,value:T,onChange:k=>C(k==="true")}),x.jsx("button",{onClick:ue,children:s("initializeAgent")}),x.jsxs("div",{children:[s("status"),": ",V]})]})},Py=({header:r,storageKeyPrefix:a,agent:s,onCreateAgent:i,children:u})=>x.jsxs(aa,{header:r,classNames:{body:Yx.body},children:[!s&&x.jsx(Jx,{storageKeyPrefix:a,onCreateAgent:i}),u]}),Qx=({worldMap:r,playerEntity:a,onApplyMove:s})=>{const{t:i}=qe("MoveGenAgentPanel"),[u,f]=Se.useState(null),d=m=>{f(new W1(new Fy(m)))};return x.jsx(Py,{header:i("title"),storageKeyPrefix:"agents_moveGen",agent:u,onCreateAgent:d,children:u&&x.jsx(sw,{agent:u,worldMap:r,playerEntity:a,onApplyMove:s})})},Kx="_body_s6s8k_3",Zx={body:Kx},Fx="_moveItem_83ddy_3",Px="_moveHeader_83ddy_13",Wx="_narrativeEvents_83ddy_21",eA="_debugReason_83ddy_45",tA="_debugReasonTitle_83ddy_61",nA="_debugReasonText_83ddy_71",vs={moveItem:Fx,moveHeader:Px,narrativeEvents:Wx,debugReason:eA,debugReasonTitle:tA,debugReasonText:nA},aA="_actionList_gcr41_3",sA={actionList:aA},iA="_actionItem_1dybi_3",lA="_actionType_1dybi_11",rA="_actionJson_1dybi_21",Ec={actionItem:iA,actionType:lA,actionJson:rA},oA=({action:r})=>x.jsxs("div",{className:Ec.actionItem,children:[x.jsx("span",{className:Ec.actionType,children:r.type}),x.jsx("pre",{className:Ec.actionJson,children:JSON.stringify(r.toJson(),null,2)})]}),uA=({actions:r})=>x.jsx("div",{className:sA.actionList,children:r.map((a,s)=>x.jsx(oA,{action:a},s))}),cA=({number:r,move:a,isExpanded:s,onToggle:i})=>{const{t:u}=qe("MoveItem");return x.jsxs("div",{className:vs.moveItem,children:[x.jsxs("div",{className:vs.moveHeader,onClick:i,style:{cursor:"pointer",userSelect:"none"},children:[x.jsxs("strong",{children:[u("moveNumber",{number:r}),"."]})," ",a.thought]}),x.jsx("ul",{className:vs.narrativeEvents,children:a.narrativeEvents.map((f,d)=>x.jsx("li",{children:f},d))}),s&&x.jsxs(x.Fragment,{children:[x.jsx(uA,{actions:a.actions}),x.jsxs("div",{className:vs.debugReason,children:[x.jsxs("div",{className:vs.debugReasonTitle,children:[u("debugReasonTitle"),":"]}),x.jsx("div",{className:vs.debugReasonText,children:a.debugReason})]})]})]})},fA=({moves:r})=>{const{t:a}=qe("MoveListPanel"),s=Se.useRef(null),[i,u]=Se.useState(null);Se.useEffect(()=>{const d=s.current;d&&(d.scrollTop=-d.scrollHeight)},[r]);const f=d=>{u(m=>m===d?null:d)};return x.jsx(aa,{header:a("moves"),classNames:{body:Zx.body},refs:{body:s},children:r.map((d,m)=>x.jsx(cA,{number:m+1,move:d,isExpanded:i===m,onToggle:()=>f(m)},m))})},dA="_body_3ew68_3",hA="_separator_3ew68_19",mA="_message_3ew68_33",Oc={body:dA,separator:hA,message:mA},pA="_saveLoadSection_fq6ws_3",gA="_saveLoadGrid_fq6ws_17",yA="_saveInput_fq6ws_33",vA="_loadSelect_fq6ws_43",bA="_savedMapControls_fq6ws_53",SA="_deleteButton_fq6ws_67",bs={saveLoadSection:pA,saveLoadGrid:gA,saveInput:yA,loadSelect:vA,savedMapControls:bA,deleteButton:SA},_A=({worldMap:r,onImport:a,onUpdateStatus:s})=>{const{t:i}=qe("SaveLoadSection"),[u,f]=Se.useState(""),[d,m]=Se.useState([]),[y,p]=Se.useState(""),b=V=>{s(V)},S=()=>{const V=localStorage.getItem("savedWorlds");try{const B=JSON.parse(V??"{}");m(Object.keys(B))}catch{m([])}};Se.useEffect(()=>{S()},[]);const O=()=>{if(!u.trim()){b(i("enterNameForSaving"));return}const V=JSON.stringify(r.toJson()),B=localStorage.getItem("savedWorlds"),ue=B?JSON.parse(B):{};ue[u]=V,localStorage.setItem("savedWorlds",JSON.stringify(ue)),b(i("worldSavedAs",{saveName:u})),f(""),S()},T=()=>{if(!y){b(i("selectSavedWorld"));return}const V=localStorage.getItem("savedWorlds");if(!V){b(i("savedWorldsNotFound"));return}try{const ue=JSON.parse(V)[y];if(!ue){b(i("worldNotFound",{selectedName:y}));return}const H=JSON.parse(ue),k=As.fromJson(H);a(k),b(i("worldLoadedSuccessfully",{selectedName:y}))}catch(B){console.error(i("worldLoadError"),B),b(" "+i("worldLoadError"))}},C=()=>{if(!y){b(i("selectWorldToDelete"));return}const V=localStorage.getItem("savedWorlds");if(!V){b(i("savedWorldsNotFound"));return}try{const B=JSON.parse(V);if(!(y in B)){b(i("worldNotFound",{selectedName:y}));return}if(!window.confirm(i("confirmDeleteWorld",{selectedName:y})))return;delete B[y],localStorage.setItem("savedWorlds",JSON.stringify(B)),b(i("worldDeleted",{selectedName:y})),p(""),S()}catch(B){console.error(i("worldDeleteError"),B),b(" "+i("worldDeleteError"))}};return x.jsxs("div",{className:bs.saveLoadSection,children:[x.jsx("div",{children:i("savedMaps")}),x.jsxs("div",{className:bs.saveLoadGrid,children:[x.jsx("input",{type:"text",placeholder:i("worldName"),value:u,onChange:V=>f(V.target.value),className:bs.saveInput}),x.jsx("button",{onClick:O,children:i("saveMap")}),x.jsxs("select",{value:y,onChange:V=>p(V.target.value),className:bs.loadSelect,children:[x.jsxs("option",{value:"",children:[" ",i("selectWorld")," "]}),d.map(V=>x.jsx("option",{value:V,children:V},V))]}),x.jsxs("div",{className:bs.savedMapControls,children:[x.jsx("button",{onClick:T,children:i("load")}),x.jsx("button",{onClick:C,className:bs.deleteButton,children:"X"})]})]})]})},wA="_buttonGroup_18vuh_3",xA={buttonGroup:wA},AA=({worldMap:r,onImport:a,onUpdateStatus:s,autoImport:i})=>{const{t:u}=qe("ImportExportSection"),[f,d]=Se.useState(""),m=Se.useCallback(S=>{s(S)},[s]),y=()=>{d(JSON.stringify(r.toJson(),null,2))},p=()=>{const S=JSON.stringify(r.toJson(),null,2),O=new Blob([S],{type:"application/json"}),T=URL.createObjectURL(O),C=document.createElement("a");C.href=T,C.download="worldMap.json",C.click(),URL.revokeObjectURL(T),m(u("mapExportedSuccess"))},b=Se.useCallback(()=>{try{const S=JSON.parse(f),O=As.fromJson(S);a(O),m(u("mapImportedSuccess"))}catch(S){console.error(u("mapImportError")+":",S),m(" "+u("mapImportError")+": "+S.message)}},[f,a,m,u]);return Se.useEffect(()=>{i&&f&&b()},[i,b,f]),x.jsxs(x.Fragment,{children:[x.jsx(Yt,{type:"textarea",label:u("pasteJsonForImport"),storageKey:"importWorldMap",value:f,onChange:d}),x.jsxs("div",{className:xA.buttonGroup,children:[x.jsx("button",{onClick:y,children:u("showCurrentMapJson")}),x.jsx("button",{onClick:p,children:u("downloadJson")}),x.jsx("button",{onClick:b,children:u("loadMapFromJson")})]})]})},TA=({worldMap:r,onImport:a,autoImport:s})=>{const{t:i}=qe("SaveLoadPanel"),[u,f]=Se.useState(null);return x.jsxs(aa,{header:i("saveLoadMap"),classNames:{body:Oc.body},collapsedByDefault:!0,children:[x.jsx(AA,{worldMap:r,onImport:a,onUpdateStatus:f,autoImport:s}),x.jsx("div",{className:Oc.separator}),x.jsx(_A,{worldMap:r,onImport:a,onUpdateStatus:f}),u&&x.jsx("div",{className:Oc.message,children:u})]})},EA=`
You are an AI responsible for generating a procedurally generated world map in JSON format.

The map must be a grid of tiles with the specified width and height. Each tile is described by a position (x, y),
terrain data, an optional feature (e.g., trees, rocks, lakes), and a list of entities (which is usually empty).

IMPORTANT RULES:
You must return only a JSON object of type SerializedWorldMap. Do not include explanations or extra text.

Only include tiles in the tiles array that are not empty  that is, tiles which:
- contain at least one entity, or
- have a non-null feature, or
- have terrain that is different from emptyTileData.terrain.
All other tiles must be omitted from the tiles array.

All data should be realistic, varied, and suitable for survival or exploration gameplay.
Use diverse terrains such as plains, forests, mountains, lakes, swamps etc.
Features should complement the terrain. For example, trees appear in forests, rocks in mountains, reeds near lakes.

All fields such as id fields for items, entities, and other objects must be strictly in English.
All user-facing fields such as title and description must be written in {{textLanguage}}, using natural, expressive language.

The world MUST include an entity with id "player".
This entity represents the player and must be placed on one of the tiles.
It should may have some useful for survival items in inventory (e.g., food, water, tools).

Example:
{
  "id": "player",
  "icon": "",
  "title": "{{examplePlayerTitle}}",
  "inventory": [
    { "id": "apple", "icon": "", "title": "{{appleTitle}}", "description": "{{appleDescription}}", "amount": 1 },
  ]
}

Generated world must correspond to the following interfaces:
interface SerializedWorldMap {
    width: number;
    height: number;
    emptyTileData: TileData;
    tiles: SerializedTile[];
}
interface TileFeature {
    icon: string;
    title: string;
    description: string;
}
interface TileTerrain {
    color: string;
    title: string;
}
interface TileData {
    feature: TileFeature | null;
    terrain: TileTerrain;
}
interface SerializedTile {
    position: Vector;
    data: TileData;
    entities: SerializedEntity[];
}
interface SerializedEntity { 
    id: string;
    icon: string;
    title: string;
    inventory: InventoryItem[];
    customVars?: CustomVarsData;
}
interface InventoryItem {
    id: string;
    icon: string;
    title: string;
    description: string;
    amount: number;
}
interface CustomVarsData {
    [key: string]: CustomVar;
}
export interface CustomVar {
    icon: string;
    title: string;
    value: string;
}

CustomVarsData should contain arbitrary keyCustomVar pairs representing entity-specific parameters.
The AI must invent a realistic set of such fields and assign each a plausible value.

The terrain title should be short (12 words). The color should be a soft hex color like "#fafffa".
Feature icons should be emojis (e.g.  for tree,  for spring).

Feature descriptions should be short and natural, e.g. "{{treeDescription}}", "{{lakeDescription}}".
Include a field called emptyTileData, which represents the default tile type (usually plain terrain, no feature).

The map must be coherent, with clusters of terrain types and natural transitions (e.g., forest near plains, lakes inside valleys, etc).

Do not invent new fields. Only use the described structure.

Example output:
{
  "width":3,"height":3,
  "tiles":[
    {"position":{"x":2,"y":0},"data":{"terrain":{"title":"{{plainsTitle}}","color":"#fafffa"},"feature":{"title":"{{treeTitle}}","icon":"","description":"{{treeDescription}}"}},"entities":[]},
    {"position":{"x":0,"y":1},"data":{"terrain":{"title":"{{plainsTitle}}","color":"#fafffa"},"feature":{"title":"{{treeTitle}}","icon":"","description":"{{treeDescription}}"}},"entities":[]},
    {"position":{"x":1,"y":1},"data":{"terrain":{"title":"{{lakeTitle}}","color":"#fafbff"},"feature":null},"entities":[]},
    {"position":{"x":0,"y":2},"data":{"terrain":{"title":"{{plainsTitle}}","color":"#fafffa"},"feature":{"title":"{{treeTitle}}","icon":"","description":"{{treeDescription}}"}},"entities":[]},
    {"position":{"x":1,"y":2},"data":{"terrain":{"title":"{{plainsTitle}}","color":"#fafffa"},"feature":null},"entities":[
      {"id":"player","icon":"","title":"{{funnyPlayerTitle}}","inventory":[
        {"id":"apple","icon":"","title":"{{appleTitle}}","description":"{{badAppleDescription}}","amount":2},
        {"id":"bottleWithWater","icon":"","title":"{{waterBottleTitle}}","description":"{{waterBottleDescription}}","amount":1},
        {"id":"axe","icon":"","title":"{{axeTitle}}","description":"{{axeDescription}}","amount":1}
      ]}
    ]}
  ],
  "emptyTileData":{"terrain":{"title":"{{plainsTitle}}","color":"#fafffa"},"feature":null}
}
`.trim();class OA extends Mg{async generateWorld(a){const s=this.buildUserPrompt(a),i=await this.prompt(s,a.systemPromptVariables);if(!i.content)return{error:"Empty response from AI"};try{const u=this.parseJson(i.content),f=As.fromJson(u);return console.log("Parsed world:",f),console.log(i.usedTokens),{world:f}}catch(u){return console.warn("Failed to parse world",i.content,u),{error:"Failed to parse world: "+((u==null?void 0:u.message)??"")}}}getSystemPromptTemplate(){return EA}buildUserPrompt(a){return JSON.stringify({width:a.width,height:a.height,prompt:a.prompt})}}const RA="_agentActionsView_1nzwo_3",NA={agentActionsView:RA},MA=({agent:r,onGenerateWorld:a})=>{const{t:s,i18n:i}=qe("WorldGenAgentActionsView"),[u,f]=Se.useState(s("readyForGeneration")),[d,m]=Se.useState(""),[y,p]=Se.useState(10),[b,S]=Se.useState(10),O=async()=>{f(s("generatingWorld"));try{const T=i.getResourceBundle(i.language,"worldGenPrompt"),C=await r.generateWorld({width:y,height:b,prompt:d,systemPromptVariables:T});if(!C.world){f(C.error??s("failedToGenerateMap"));return}a(C.world),f(s("mapGeneratedSuccessfully"))}catch(T){f(s("mapGenerationError")),console.error(T)}};return x.jsxs("div",{className:NA.agentActionsView,children:[x.jsx(Yt,{type:"textarea",label:s("worldDescription"),storageKey:"agent_worldGen_prompt",value:d,onChange:m}),x.jsx(Yt,{type:"number",label:s("width"),storageKey:"agent_worldGen_width",value:y,onChange:T=>p(Number(T))}),x.jsx(Yt,{type:"number",label:s("height"),storageKey:"agent_worldGen_height",value:b,onChange:T=>S(Number(T))}),x.jsxs("div",{children:[s("status"),": ",u]}),x.jsx("button",{onClick:O,children:s("generateWorld")})]})},CA=({onGenerateWorld:r})=>{const{t:a}=qe("WorldGenAgentPanel"),[s,i]=Se.useState(null),u=f=>{i(new OA(new Fy(f)))};return x.jsx(Py,{header:a("title"),storageKeyPrefix:"agents_worldGen",agent:s,onCreateAgent:u,children:s&&x.jsx(MA,{agent:s,onGenerateWorld:r})})},DA="_body_1x8yk_3",LA="_settingItem_1x8yk_19",yg={body:DA,settingItem:LA},UA=()=>{const{t:r}=qe("SettingsPanel"),{i18n:a}=Tg(),s=i=>{a.changeLanguage(i)};return x.jsx(aa,{header:r("settings"),classNames:{body:yg.body},collapsedByDefault:!0,children:x.jsx("div",{className:yg.settingItem,children:x.jsx(Yt,{type:"select",label:r("language"),storageKey:"language",value:a.language,onChange:s,options:[{value:"en",label:"English"},{value:"ru",label:""}]})})})};function zA(){const{t:r}=qe("MainScreen"),[a,s]=Se.useState(null),[i,u]=Se.useState(null),[f,d]=Se.useState(null),[m,y]=Se.useState([]),p=T=>{s(T),u(null)},b=T=>{u(T)},S=T=>{f&&(T.actions.forEach(C=>C.apply(f)),y(C=>[...C,T]))};if(Se.useEffect(()=>{d(m1())},[]),!f)return x.jsx("div",{children:r("loading")});const O=f.findEntity("player")??null;return x.jsxs("div",{className:Ti.mainScreen,children:[x.jsxs("div",{className:Ti.sidebar+" "+Ti.moves,children:[x.jsx(fA,{moves:m}),x.jsx(UA,{})]}),x.jsx("div",{className:Ti.worldMapContainer,children:x.jsx(c1,{worldMap:f,onClickTile:p},m.length)}),x.jsxs("div",{className:Ti.sidebar,children:[i&&x.jsx(I1,{entity:i}),!i&&x.jsx(r1,{tile:a,onClickEntity:b}),x.jsx(TA,{worldMap:f,onImport:d,autoImport:!0}),x.jsx(Q1,{worldMap:f,onApplyMove:S}),x.jsx(CA,{onGenerateWorld:d}),O&&x.jsx(Qx,{worldMap:f,playerEntity:O,onApplyMove:S})]})]})}function jA(){return x.jsx("div",{className:z0.App,children:x.jsx(zA,{})})}const VA=document.getElementById("root"),qA=L0.createRoot(VA);n1().then(()=>{qA.render(x.jsx(jA,{}))});
