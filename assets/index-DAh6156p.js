var gb=Object.defineProperty;var pb=(r,a,s)=>a in r?gb(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s;var me=(r,a,s)=>pb(r,typeof a!="symbol"?a+"":a,s);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(u){if(u.ep)return;u.ep=!0;const f=s(u);fetch(u.href,f)}})();function dp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var uc={exports:{}},_i={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function yb(){if(rg)return _i;rg=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var m in u)m!=="key"&&(f[m]=u[m])}else f=u;return u=f.ref,{$$typeof:r,type:i,key:d,ref:u!==void 0?u:null,props:f}}return _i.Fragment=a,_i.jsx=s,_i.jsxs=s,_i}var og;function vb(){return og||(og=1,uc.exports=yb()),uc.exports}var A=vb(),cc={exports:{}},wi={},fc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function bb(){return ug||(ug=1,function(r){function a(L,$){var W=L.length;L.push($);e:for(;0<W;){var Ae=W-1>>>1,_=L[Ae];if(0<u(_,$))L[Ae]=$,L[W]=_,W=Ae;else break e}}function s(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var $=L[0],W=L.pop();if(W!==$){L[0]=W;e:for(var Ae=0,_=L.length,z=_>>>1;Ae<z;){var Q=2*(Ae+1)-1,V=L[Q],te=Q+1,Se=L[te];if(0>u(V,W))te<_&&0>u(Se,V)?(L[Ae]=Se,L[te]=W,Ae=te):(L[Ae]=V,L[Q]=W,Ae=Q);else if(te<_&&0>u(Se,W))L[Ae]=Se,L[te]=W,Ae=te;else break e}}return $}function u(L,$){var W=L.sortIndex-$.sortIndex;return W!==0?W:L.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var y=[],g=[],b=1,S=null,O=3,T=!1,N=!1,q=!1,H=!1,ee=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function k(L){for(var $=s(g);$!==null;){if($.callback===null)i(g);else if($.startTime<=L)i(g),$.sortIndex=$.expirationTime,a(y,$);else break;$=s(g)}}function J(L){if(q=!1,k(L),!N)if(s(y)!==null)N=!0,oe||(oe=!0,Ue());else{var $=s(g);$!==null&&He(J,$.startTime-L)}}var oe=!1,I=-1,ue=5,Z=-1;function P(){return H?!0:!(r.unstable_now()-Z<ue)}function ie(){if(H=!1,oe){var L=r.unstable_now();Z=L;var $=!0;try{e:{N=!1,q&&(q=!1,G(I),I=-1),T=!0;var W=O;try{t:{for(k(L),S=s(y);S!==null&&!(S.expirationTime>L&&P());){var Ae=S.callback;if(typeof Ae=="function"){S.callback=null,O=S.priorityLevel;var _=Ae(S.expirationTime<=L);if(L=r.unstable_now(),typeof _=="function"){S.callback=_,k(L),$=!0;break t}S===s(y)&&i(y),k(L)}else i(y);S=s(y)}if(S!==null)$=!0;else{var z=s(g);z!==null&&He(J,z.startTime-L),$=!1}}break e}finally{S=null,O=W,T=!1}$=void 0}}finally{$?Ue():oe=!1}}}var Ue;if(typeof Y=="function")Ue=function(){Y(ie)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Ve=Be.port2;Be.port1.onmessage=ie,Ue=function(){Ve.postMessage(null)}}else Ue=function(){ee(ie,0)};function He(L,$){I=ee(function(){L(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(L){switch(O){case 1:case 2:case 3:var $=3;break;default:$=O}var W=O;O=$;try{return L()}finally{O=W}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=O;O=L;try{return $()}finally{O=W}},r.unstable_scheduleCallback=function(L,$,W){var Ae=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ae+W:Ae):W=Ae,L){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=W+_,L={id:b++,callback:$,priorityLevel:L,startTime:W,expirationTime:_,sortIndex:-1},W>Ae?(L.sortIndex=W,a(g,L),s(y)===null&&L===s(g)&&(q?(G(I),I=-1):q=!0,He(J,W-Ae))):(L.sortIndex=_,a(y,L),N||T||(N=!0,oe||(oe=!0,Ue()))),L},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(L){var $=O;return function(){var W=O;O=$;try{return L.apply(this,arguments)}finally{O=W}}}}(dc)),dc}var cg;function Sb(){return cg||(cg=1,fc.exports=bb()),fc.exports}var hc={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function _b(){if(fg)return ge;fg=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.iterator;function O(_){return _===null||typeof _!="object"?null:(_=S&&_[S]||_["@@iterator"],typeof _=="function"?_:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,q={};function H(_,z,Q){this.props=_,this.context=z,this.refs=q,this.updater=Q||T}H.prototype.isReactComponent={},H.prototype.setState=function(_,z){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,z,"setState")},H.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function ee(){}ee.prototype=H.prototype;function G(_,z,Q){this.props=_,this.context=z,this.refs=q,this.updater=Q||T}var Y=G.prototype=new ee;Y.constructor=G,N(Y,H.prototype),Y.isPureReactComponent=!0;var k=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function I(_,z,Q,V,te,Se){return Q=Se.ref,{$$typeof:r,type:_,key:z,ref:Q!==void 0?Q:null,props:Se}}function ue(_,z){return I(_.type,z,void 0,void 0,void 0,_.props)}function Z(_){return typeof _=="object"&&_!==null&&_.$$typeof===r}function P(_){var z={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(Q){return z[Q]})}var ie=/\/+/g;function Ue(_,z){return typeof _=="object"&&_!==null&&_.key!=null?P(""+_.key):z.toString(36)}function Be(){}function Ve(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(Be,Be):(_.status="pending",_.then(function(z){_.status==="pending"&&(_.status="fulfilled",_.value=z)},function(z){_.status==="pending"&&(_.status="rejected",_.reason=z)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function He(_,z,Q,V,te){var Se=typeof _;(Se==="undefined"||Se==="boolean")&&(_=null);var he=!1;if(_===null)he=!0;else switch(Se){case"bigint":case"string":case"number":he=!0;break;case"object":switch(_.$$typeof){case r:case a:he=!0;break;case b:return he=_._init,He(he(_._payload),z,Q,V,te)}}if(he)return te=te(_),he=V===""?"."+Ue(_,0):V,k(te)?(Q="",he!=null&&(Q=he.replace(ie,"$&/")+"/"),He(te,z,Q,"",function(Rn){return Rn})):te!=null&&(Z(te)&&(te=ue(te,Q+(te.key==null||_&&_.key===te.key?"":(""+te.key).replace(ie,"$&/")+"/")+he)),z.push(te)),1;he=0;var wt=V===""?".":V+":";if(k(_))for(var je=0;je<_.length;je++)V=_[je],Se=wt+Ue(V,je),he+=He(V,z,Q,Se,te);else if(je=O(_),typeof je=="function")for(_=je.call(_),je=0;!(V=_.next()).done;)V=V.value,Se=wt+Ue(V,je++),he+=He(V,z,Q,Se,te);else if(Se==="object"){if(typeof _.then=="function")return He(Ve(_),z,Q,V,te);throw z=String(_),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return he}function L(_,z,Q){if(_==null)return _;var V=[],te=0;return He(_,V,"","",function(Se){return z.call(Q,Se,te++)}),V}function $(_){if(_._status===-1){var z=_._result;z=z(),z.then(function(Q){(_._status===0||_._status===-1)&&(_._status=1,_._result=Q)},function(Q){(_._status===0||_._status===-1)&&(_._status=2,_._result=Q)}),_._status===-1&&(_._status=0,_._result=z)}if(_._status===1)return _._result.default;throw _._result}var W=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function Ae(){}return ge.Children={map:L,forEach:function(_,z,Q){L(_,function(){z.apply(this,arguments)},Q)},count:function(_){var z=0;return L(_,function(){z++}),z},toArray:function(_){return L(_,function(z){return z})||[]},only:function(_){if(!Z(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},ge.Component=H,ge.Fragment=s,ge.Profiler=u,ge.PureComponent=G,ge.StrictMode=i,ge.Suspense=y,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ge.__COMPILER_RUNTIME={__proto__:null,c:function(_){return J.H.useMemoCache(_)}},ge.cache=function(_){return function(){return _.apply(null,arguments)}},ge.cloneElement=function(_,z,Q){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var V=N({},_.props),te=_.key,Se=void 0;if(z!=null)for(he in z.ref!==void 0&&(Se=void 0),z.key!==void 0&&(te=""+z.key),z)!oe.call(z,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&z.ref===void 0||(V[he]=z[he]);var he=arguments.length-2;if(he===1)V.children=Q;else if(1<he){for(var wt=Array(he),je=0;je<he;je++)wt[je]=arguments[je+2];V.children=wt}return I(_.type,te,void 0,void 0,Se,V)},ge.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:f,_context:_},_},ge.createElement=function(_,z,Q){var V,te={},Se=null;if(z!=null)for(V in z.key!==void 0&&(Se=""+z.key),z)oe.call(z,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(te[V]=z[V]);var he=arguments.length-2;if(he===1)te.children=Q;else if(1<he){for(var wt=Array(he),je=0;je<he;je++)wt[je]=arguments[je+2];te.children=wt}if(_&&_.defaultProps)for(V in he=_.defaultProps,he)te[V]===void 0&&(te[V]=he[V]);return I(_,Se,void 0,void 0,null,te)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(_){return{$$typeof:m,render:_}},ge.isValidElement=Z,ge.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:$}},ge.memo=function(_,z){return{$$typeof:g,type:_,compare:z===void 0?null:z}},ge.startTransition=function(_){var z=J.T,Q={};J.T=Q;try{var V=_(),te=J.S;te!==null&&te(Q,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Ae,W)}catch(Se){W(Se)}finally{J.T=z}},ge.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ge.use=function(_){return J.H.use(_)},ge.useActionState=function(_,z,Q){return J.H.useActionState(_,z,Q)},ge.useCallback=function(_,z){return J.H.useCallback(_,z)},ge.useContext=function(_){return J.H.useContext(_)},ge.useDebugValue=function(){},ge.useDeferredValue=function(_,z){return J.H.useDeferredValue(_,z)},ge.useEffect=function(_,z,Q){var V=J.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(_,z)},ge.useId=function(){return J.H.useId()},ge.useImperativeHandle=function(_,z,Q){return J.H.useImperativeHandle(_,z,Q)},ge.useInsertionEffect=function(_,z){return J.H.useInsertionEffect(_,z)},ge.useLayoutEffect=function(_,z){return J.H.useLayoutEffect(_,z)},ge.useMemo=function(_,z){return J.H.useMemo(_,z)},ge.useOptimistic=function(_,z){return J.H.useOptimistic(_,z)},ge.useReducer=function(_,z,Q){return J.H.useReducer(_,z,Q)},ge.useRef=function(_){return J.H.useRef(_)},ge.useState=function(_){return J.H.useState(_)},ge.useSyncExternalStore=function(_,z,Q){return J.H.useSyncExternalStore(_,z,Q)},ge.useTransition=function(){return J.H.useTransition()},ge.version="19.1.0",ge}var dg;function Yc(){return dg||(dg=1,hc.exports=_b()),hc.exports}var mc={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function wb(){if(hg)return dt;hg=1;var r=Yc();function a(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,g,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:y,containerInfo:g,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dt.createPortal=function(y,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return f(y,g,null,b)},dt.flushSync=function(y){var g=d.T,b=i.p;try{if(d.T=null,i.p=2,y)return y()}finally{d.T=g,i.p=b,i.d.f()}},dt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(y,g))},dt.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},dt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var b=g.as,S=m(b,g.crossOrigin),O=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?i.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:T}):b==="script"&&i.d.X(y,{crossOrigin:S,integrity:O,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);i.d.M(y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(y)},dt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,S=m(b,g.crossOrigin);i.d.L(y,b,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dt.preloadModule=function(y,g){if(typeof y=="string")if(g){var b=m(g.as,g.crossOrigin);i.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(y)},dt.requestFormReset=function(y){i.d.r(y)},dt.unstable_batchedUpdates=function(y,g){return y(g)},dt.useFormState=function(y,g,b){return d.H.useFormState(y,g,b)},dt.useFormStatus=function(){return d.H.useHostTransitionStatus()},dt.version="19.1.0",dt}var mg;function xb(){if(mg)return mc.exports;mg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),mc.exports=wb(),mc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function Ab(){if(gg)return wi;gg=1;var r=Sb(),a=Yc(),s=xb();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(i(188))}function y(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var o=n.return;if(o===null)break;var c=o.alternate;if(c===null){if(l=o.return,l!==null){n=l;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===n)return m(o),e;if(c===l)return m(o),t;c=c.sibling}throw Error(i(188))}if(n.return!==l.return)n=o,l=c;else{for(var h=!1,p=o.child;p;){if(p===n){h=!0,n=o,l=c;break}if(p===l){h=!0,l=o,n=c;break}p=p.sibling}if(!h){for(p=c.child;p;){if(p===n){h=!0,n=c,l=o;break}if(p===l){h=!0,l=c,n=o;break}p=p.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function Ue(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case H:return"Profiler";case q:return"StrictMode";case J:return"Suspense";case oe:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case Y:return(e.displayName||"Context")+".Provider";case G:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:Ve(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return Ve(e(t))}catch{}}return null}var He=Array.isArray,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Ae=[],_=-1;function z(e){return{current:e}}function Q(e){0>_||(e.current=Ae[_],Ae[_]=null,_--)}function V(e,t){_++,Ae[_]=e.current,e.current=t}var te=z(null),Se=z(null),he=z(null),wt=z(null);function je(e,t){switch(V(he,t),V(Se,e),V(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jm(t),e=zm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(te),V(te,e)}function Rn(){Q(te),Q(Se),Q(he)}function Jr(e){e.memoizedState!==null&&V(wt,e);var t=te.current,n=zm(t,e.type);t!==n&&(V(Se,e),V(te,n))}function Qi(e){Se.current===e&&(Q(te),Q(Se)),wt.current===e&&(Q(wt),pi._currentValue=W)}var Kr=Object.prototype.hasOwnProperty,Ir=r.unstable_scheduleCallback,Zr=r.unstable_cancelCallback,Jy=r.unstable_shouldYield,Ky=r.unstable_requestPaint,Ft=r.unstable_now,Iy=r.unstable_getCurrentPriorityLevel,gf=r.unstable_ImmediatePriority,pf=r.unstable_UserBlockingPriority,Ji=r.unstable_NormalPriority,Zy=r.unstable_LowPriority,yf=r.unstable_IdlePriority,Fy=r.log,Py=r.unstable_setDisableYieldValue,As=null,xt=null;function Mn(e){if(typeof Fy=="function"&&Py(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(As,e)}catch{}}var At=Math.clz32?Math.clz32:tv,Wy=Math.log,ev=Math.LN2;function tv(e){return e>>>=0,e===0?32:31-(Wy(e)/ev|0)|0}var Ki=256,Ii=4194304;function na(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zi(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var p=l&134217727;return p!==0?(l=p&~c,l!==0?o=na(l):(h&=p,h!==0?o=na(h):n||(n=p&~e,n!==0&&(o=na(n))))):(p=l&~c,p!==0?o=na(p):h!==0?o=na(h):n||(n=l&~e,n!==0&&(o=na(n)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:o}function Ts(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function nv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vf(){var e=Ki;return Ki<<=1,(Ki&4194048)===0&&(Ki=256),e}function bf(){var e=Ii;return Ii<<=1,(Ii&62914560)===0&&(Ii=4194304),e}function Fr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Es(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function av(e,t,n,l,o,c){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var p=e.entanglements,v=e.expirationTimes,R=e.hiddenUpdates;for(n=h&~n;0<n;){var U=31-At(n),B=1<<U;p[U]=0,v[U]=-1;var M=R[U];if(M!==null)for(R[U]=null,U=0;U<M.length;U++){var C=M[U];C!==null&&(C.lane&=-536870913)}n&=~B}l!==0&&Sf(e,l,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function Sf(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-At(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&4194090}function _f(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-At(n),o=1<<l;o&t|e[l]&t&&(e[l]|=t),n&=~o}}function Pr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wf(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:tg(e.type))}function sv(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var Nn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Nn,yt="__reactProps$"+Nn,Ea="__reactContainer$"+Nn,eo="__reactEvents$"+Nn,iv="__reactListeners$"+Nn,lv="__reactHandles$"+Nn,xf="__reactResources$"+Nn,Os="__reactMarker$"+Nn;function to(e){delete e[ct],delete e[yt],delete e[eo],delete e[iv],delete e[lv]}function Oa(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ea]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=km(e);e!==null;){if(n=e[ct])return n;e=km(e)}return t}e=n,n=e.parentNode}return null}function Ra(e){if(e=e[ct]||e[Ea]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Rs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ma(e){var t=e[xf];return t||(t=e[xf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Os]=!0}var Af=new Set,Tf={};function aa(e,t){Na(e,t),Na(e+"Capture",t)}function Na(e,t){for(Tf[e]=t,e=0;e<t.length;e++)Af.add(t[e])}var rv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ef={},Of={};function ov(e){return Kr.call(Of,e)?!0:Kr.call(Ef,e)?!1:rv.test(e)?Of[e]=!0:(Ef[e]=!0,!1)}function Fi(e,t,n){if(ov(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Pi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function cn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}var no,Rf;function Ca(e){if(no===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);no=t&&t[1]||"",Rf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+no+e+Rf}var ao=!1;function so(e,t){if(!e||ao)return"";ao=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(C){var M=C}Reflect.construct(e,[],B)}else{try{B.call()}catch(C){M=C}e.call(B.prototype)}}else{try{throw Error()}catch(C){M=C}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(C){if(C&&M&&typeof C.stack=="string")return[C.stack,M.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),h=c[0],p=c[1];if(h&&p){var v=h.split(`
`),R=p.split(`
`);for(o=l=0;l<v.length&&!v[l].includes("DetermineComponentFrameRoot");)l++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(l===v.length||o===R.length)for(l=v.length-1,o=R.length-1;1<=l&&0<=o&&v[l]!==R[o];)o--;for(;1<=l&&0<=o;l--,o--)if(v[l]!==R[o]){if(l!==1||o!==1)do if(l--,o--,0>o||v[l]!==R[o]){var U=`
`+v[l].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=l&&0<=o);break}}}finally{ao=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ca(n):""}function uv(e){switch(e.tag){case 26:case 27:case 5:return Ca(e.type);case 16:return Ca("Lazy");case 13:return Ca("Suspense");case 19:return Ca("SuspenseList");case 0:case 15:return so(e.type,!1);case 11:return so(e.type.render,!1);case 1:return so(e.type,!0);case 31:return Ca("Activity");default:return""}}function Mf(e){try{var t="";do t+=uv(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cv(e){var t=Nf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){l=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wi(e){e._valueTracker||(e._valueTracker=cv(e))}function Cf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Nf(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function el(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fv=/[\n"\\]/g;function zt(e){return e.replace(fv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function io(e,t,n,l,o,c,h,p){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jt(t)):e.value!==""+jt(t)&&(e.value=""+jt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?lo(e,h,jt(t)):n!=null?lo(e,h,jt(n)):l!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+jt(p):e.removeAttribute("name")}function Df(e,t,n,l,o,c,h,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;n=n!=null?""+jt(n):"",t=t!=null?""+jt(t):n,p||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=p?e.checked:!!l,e.defaultChecked=!!l,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function lo(e,t,n){t==="number"&&el(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Da(e,t,n,l){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&l&&(e[n].defaultSelected=!0)}else{for(n=""+jt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Lf(e,t,n){if(t!=null&&(t=""+jt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+jt(n):""}function Uf(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(He(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=jt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l)}function La(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jf(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||dv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function zf(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&n[o]!==l&&jf(e,o,l)}else for(var c in t)t.hasOwnProperty(c)&&jf(e,c,t[c])}function ro(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(e){return mv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var oo=null;function uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,ja=null;function qf(e){var t=Ra(e);if(t&&(e=t.stateNode)){var n=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(io(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+zt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var o=l[yt]||null;if(!o)throw Error(i(90));io(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Cf(l)}break e;case"textarea":Lf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Da(e,!!n.multiple,t,!1)}}}var co=!1;function Bf(e,t,n){if(co)return e(t,n);co=!0;try{var l=e(t);return l}finally{if(co=!1,(Ua!==null||ja!==null)&&(kl(),Ua&&(t=Ua,e=ja,ja=Ua=null,qf(t),e)))for(t=0;t<e.length;t++)qf(e[t])}}function Ms(e,t){var n=e.stateNode;if(n===null)return null;var l=n[yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fo=!1;if(fn)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){fo=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{fo=!1}var Cn=null,ho=null,nl=null;function Hf(){if(nl)return nl;var e,t=ho,n=t.length,l,o="value"in Cn?Cn.value:Cn.textContent,c=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(l=1;l<=h&&t[n-l]===o[c-l];l++);return nl=o.slice(e,1<l?1-l:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sl(){return!0}function kf(){return!1}function vt(e){function t(n,l,o,c,h){this._reactName=n,this._targetInst=o,this.type=l,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?sl:kf,this.isPropagationStopped=kf,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),t}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=vt(sa),Cs=b({},sa,{view:0,detail:0}),gv=vt(Cs),mo,go,Ds,ll=b({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ds&&(Ds&&e.type==="mousemove"?(mo=e.screenX-Ds.screenX,go=e.screenY-Ds.screenY):go=mo=0,Ds=e),mo)},movementY:function(e){return"movementY"in e?e.movementY:go}}),Gf=vt(ll),pv=b({},ll,{dataTransfer:0}),yv=vt(pv),vv=b({},Cs,{relatedTarget:0}),po=vt(vv),bv=b({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Sv=vt(bv),_v=b({},sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wv=vt(_v),xv=b({},sa,{data:0}),$f=vt(xv),Av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ov(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ev[e])?!!t[e]:!1}function yo(){return Ov}var Rv=b({},Cs,{key:function(e){if(e.key){var t=Av[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mv=vt(Rv),Nv=b({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vf=vt(Nv),Cv=b({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),Dv=vt(Cv),Lv=b({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uv=vt(Lv),jv=b({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zv=vt(jv),qv=b({},sa,{newState:0,oldState:0}),Bv=vt(qv),Hv=[9,13,27,32],vo=fn&&"CompositionEvent"in window,Ls=null;fn&&"documentMode"in document&&(Ls=document.documentMode);var kv=fn&&"TextEvent"in window&&!Ls,Yf=fn&&(!vo||Ls&&8<Ls&&11>=Ls),Xf=" ",Qf=!1;function Jf(e,t){switch(e){case"keyup":return Hv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var za=!1;function Gv(e,t){switch(e){case"compositionend":return Kf(t);case"keypress":return t.which!==32?null:(Qf=!0,Xf);case"textInput":return e=t.data,e===Xf&&Qf?null:e;default:return null}}function $v(e,t){if(za)return e==="compositionend"||!vo&&Jf(e,t)?(e=Hf(),nl=ho=Cn=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yf&&t.locale!=="ko"?null:t.data;default:return null}}var Vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vv[e.type]:t==="textarea"}function Zf(e,t,n,l){Ua?ja?ja.push(l):ja=[l]:Ua=l,t=Ql(t,"onChange"),0<t.length&&(n=new il("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Us=null,js=null;function Yv(e){Nm(e,0)}function rl(e){var t=Rs(e);if(Cf(t))return e}function Ff(e,t){if(e==="change")return t}var Pf=!1;if(fn){var bo;if(fn){var So="oninput"in document;if(!So){var Wf=document.createElement("div");Wf.setAttribute("oninput","return;"),So=typeof Wf.oninput=="function"}bo=So}else bo=!1;Pf=bo&&(!document.documentMode||9<document.documentMode)}function ed(){Us&&(Us.detachEvent("onpropertychange",td),js=Us=null)}function td(e){if(e.propertyName==="value"&&rl(js)){var t=[];Zf(t,js,e,uo(e)),Bf(Yv,t)}}function Xv(e,t,n){e==="focusin"?(ed(),Us=t,js=n,Us.attachEvent("onpropertychange",td)):e==="focusout"&&ed()}function Qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rl(js)}function Jv(e,t){if(e==="click")return rl(t)}function Kv(e,t){if(e==="input"||e==="change")return rl(t)}function Iv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Iv;function zs(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var o=n[l];if(!Kr.call(t,o)||!Tt(e[o],t[o]))return!1}return!0}function nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ad(e,t){var n=nd(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nd(n)}}function sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function id(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=el(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=el(e.document)}return t}function _o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Zv=fn&&"documentMode"in document&&11>=document.documentMode,qa=null,wo=null,qs=null,xo=!1;function ld(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xo||qa==null||qa!==el(l)||(l=qa,"selectionStart"in l&&_o(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qs&&zs(qs,l)||(qs=l,l=Ql(wo,"onSelect"),0<l.length&&(t=new il("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=qa)))}function ia(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ba={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Ao={},rd={};fn&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function la(e){if(Ao[e])return Ao[e];if(!Ba[e])return e;var t=Ba[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rd)return Ao[e]=t[n];return e}var od=la("animationend"),ud=la("animationiteration"),cd=la("animationstart"),Fv=la("transitionrun"),Pv=la("transitionstart"),Wv=la("transitioncancel"),fd=la("transitionend"),dd=new Map,To="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");To.push("scrollEnd");function Xt(e,t){dd.set(e,t),aa(t,[e])}var hd=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var n=hd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Mf(t)},hd.set(e,t),t)}return{value:e,source:t,stack:Mf(t)}}var Bt=[],Ha=0,Eo=0;function ol(){for(var e=Ha,t=Eo=Ha=0;t<e;){var n=Bt[t];Bt[t++]=null;var l=Bt[t];Bt[t++]=null;var o=Bt[t];Bt[t++]=null;var c=Bt[t];if(Bt[t++]=null,l!==null&&o!==null){var h=l.pending;h===null?o.next=o:(o.next=h.next,h.next=o),l.pending=o}c!==0&&md(n,o,c)}}function ul(e,t,n,l){Bt[Ha++]=e,Bt[Ha++]=t,Bt[Ha++]=n,Bt[Ha++]=l,Eo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Oo(e,t,n,l){return ul(e,t,n,l),cl(e)}function ka(e,t){return ul(e,null,null,t),cl(e)}function md(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var o=!1,c=e.return;c!==null;)c.childLanes|=n,l=c.alternate,l!==null&&(l.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-At(n),e=c.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=n|536870912),c):null}function cl(e){if(50<oi)throw oi=0,Lu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ga={};function e0(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,l){return new e0(e,t,n,l)}function Ro(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dn(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function gd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fl(e,t,n,l,o,c){var h=0;if(l=e,typeof e=="function")Ro(e)&&(h=1);else if(typeof e=="string")h=nb(e,n,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Et(31,n,t,o),e.elementType=Z,e.lanes=c,e;case N:return ra(n.children,o,c,t);case q:h=8,o|=24;break;case H:return e=Et(12,n,t,o|2),e.elementType=H,e.lanes=c,e;case J:return e=Et(13,n,t,o),e.elementType=J,e.lanes=c,e;case oe:return e=Et(19,n,t,o),e.elementType=oe,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:case Y:h=10;break e;case G:h=9;break e;case k:h=11;break e;case I:h=14;break e;case ue:h=16,l=null;break e}h=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=Et(h,n,t,o),t.elementType=e,t.type=l,t.lanes=c,t}function ra(e,t,n,l){return e=Et(7,e,l,t),e.lanes=n,e}function Mo(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function No(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $a=[],Va=0,dl=null,hl=0,Ht=[],kt=0,oa=null,hn=1,mn="";function ua(e,t){$a[Va++]=hl,$a[Va++]=dl,dl=e,hl=t}function pd(e,t,n){Ht[kt++]=hn,Ht[kt++]=mn,Ht[kt++]=oa,oa=e;var l=hn;e=mn;var o=32-At(l)-1;l&=~(1<<o),n+=1;var c=32-At(t)+o;if(30<c){var h=o-o%5;c=(l&(1<<h)-1).toString(32),l>>=h,o-=h,hn=1<<32-At(t)+o|n<<o|l,mn=c+e}else hn=1<<c|n<<o|l,mn=e}function Co(e){e.return!==null&&(ua(e,1),pd(e,1,0))}function Do(e){for(;e===dl;)dl=$a[--Va],$a[Va]=null,hl=$a[--Va],$a[Va]=null;for(;e===oa;)oa=Ht[--kt],Ht[kt]=null,mn=Ht[--kt],Ht[kt]=null,hn=Ht[--kt],Ht[kt]=null}var gt=null,ke=null,Ee=!1,ca=null,Pt=!1,Lo=Error(i(519));function fa(e){var t=Error(i(418,""));throw ks(qt(t,e)),Lo}function yd(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ct]=e,t[yt]=l,n){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(n=0;n<ci.length;n++)be(ci[n],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),Df(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Wi(t);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),Uf(t,l.value,l.defaultValue,l.children),Wi(t)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Um(t.textContent,n)?(l.popover!=null&&(be("beforetoggle",t),be("toggle",t)),l.onScroll!=null&&be("scroll",t),l.onScrollEnd!=null&&be("scrollend",t),l.onClick!=null&&(t.onclick=Jl),t=!0):t=!1,t||fa(e)}function vd(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:gt=gt.return}}function Bs(e){if(e!==gt)return!1;if(!Ee)return vd(e),Ee=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Iu(e.type,e.memoizedProps)),n=!n),n&&ke&&fa(e),vd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){ke=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}ke=null}}else t===27?(t=ke,Jn(e.type)?(e=Wu,Wu=null,ke=e):ke=t):ke=gt?Jt(e.stateNode.nextSibling):null;return!0}function Hs(){ke=gt=null,Ee=!1}function bd(){var e=ca;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),ca=null),e}function ks(e){ca===null?ca=[e]:ca.push(e)}var Uo=z(null),da=null,gn=null;function Dn(e,t,n){V(Uo,t._currentValue),t._currentValue=n}function pn(e){e._currentValue=Uo.current,Q(Uo)}function jo(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function zo(e,t,n,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var h=o.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=o;for(var v=0;v<t.length;v++)if(p.context===t[v]){c.lanes|=n,p=c.alternate,p!==null&&(p.lanes|=n),jo(c.return,n,e),l||(h=null);break e}c=p.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(i(341));h.lanes|=n,c=h.alternate,c!==null&&(c.lanes|=n),jo(h,n,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function Gs(e,t,n,l){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(i(387));if(h=h.memoizedProps,h!==null){var p=o.type;Tt(o.pendingProps.value,h.value)||(e!==null?e.push(p):e=[p])}}else if(o===wt.current){if(h=o.alternate,h===null)throw Error(i(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(pi):e=[pi])}o=o.return}e!==null&&zo(t,e,n,l),t.flags|=262144}function ml(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ha(e){da=e,gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return Sd(da,e)}function gl(e,t){return da===null&&ha(e),Sd(e,t)}function Sd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},gn===null){if(e===null)throw Error(i(308));gn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gn=gn.next=t;return n}var t0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},n0=r.unstable_scheduleCallback,a0=r.unstable_NormalPriority,Ie={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qo(){return{controller:new t0,data:new Map,refCount:0}}function $s(e){e.refCount--,e.refCount===0&&n0(a0,function(){e.controller.abort()})}var Vs=null,Bo=0,Ya=0,Xa=null;function s0(e,t){if(Vs===null){var n=Vs=[];Bo=0,Ya=ku(),Xa={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Bo++,t.then(_d,_d),t}function _d(){if(--Bo===0&&Vs!==null){Xa!==null&&(Xa.status="fulfilled");var e=Vs;Vs=null,Ya=0,Xa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function i0(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),l}var wd=L.S;L.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&s0(e,t),wd!==null&&wd(e,t)};var ma=z(null);function Ho(){var e=ma.current;return e!==null?e:Le.pooledCache}function pl(e,t){t===null?V(ma,ma.current):V(ma,t.pool)}function xd(){var e=Ho();return e===null?null:{parent:Ie._currentValue,pool:e}}var Ys=Error(i(460)),Ad=Error(i(474)),yl=Error(i(542)),ko={then:function(){}};function Td(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vl(){}function Ed(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(vl,vl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rd(e),e;default:if(typeof t.status=="string")t.then(vl,vl);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rd(e),e}throw Xs=t,Ys}}var Xs=null;function Od(){if(Xs===null)throw Error(i(459));var e=Xs;return Xs=null,e}function Rd(e){if(e===Ys||e===yl)throw Error(i(483))}var Ln=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Un(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=cl(e),md(e,null,n),t}return ul(e,l,t,n),cl(e)}function Qs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,_f(e,n)}}function Vo(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var o=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?o=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?o=c=t:c=c.next=t}else o=c=t;n={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Yo=!1;function Js(){if(Yo){var e=Xa;if(e!==null)throw e}}function Ks(e,t,n,l){Yo=!1;var o=e.updateQueue;Ln=!1;var c=o.firstBaseUpdate,h=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var v=p,R=v.next;v.next=null,h===null?c=R:h.next=R,h=v;var U=e.alternate;U!==null&&(U=U.updateQueue,p=U.lastBaseUpdate,p!==h&&(p===null?U.firstBaseUpdate=R:p.next=R,U.lastBaseUpdate=v))}if(c!==null){var B=o.baseState;h=0,U=R=v=null,p=c;do{var M=p.lane&-536870913,C=M!==p.lane;if(C?(xe&M)===M:(l&M)===M){M!==0&&M===Ya&&(Yo=!0),U!==null&&(U=U.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var le=e,ae=p;M=t;var Ce=n;switch(ae.tag){case 1:if(le=ae.payload,typeof le=="function"){B=le.call(Ce,B,M);break e}B=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ae.payload,M=typeof le=="function"?le.call(Ce,B,M):le,M==null)break e;B=b({},B,M);break e;case 2:Ln=!0}}M=p.callback,M!==null&&(e.flags|=64,C&&(e.flags|=8192),C=o.callbacks,C===null?o.callbacks=[M]:C.push(M))}else C={lane:M,tag:p.tag,payload:p.payload,callback:p.callback,next:null},U===null?(R=U=C,v=B):U=U.next=C,h|=M;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;C=p,p=C.next,C.next=null,o.lastBaseUpdate=C,o.shared.pending=null}}while(!0);U===null&&(v=B),o.baseState=v,o.firstBaseUpdate=R,o.lastBaseUpdate=U,c===null&&(o.shared.lanes=0),Vn|=h,e.lanes=h,e.memoizedState=B}}function Md(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Nd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Md(n[e],t)}var Qa=z(null),bl=z(0);function Cd(e,t){e=xn,V(bl,e),V(Qa,t),xn=e|t.baseLanes}function Xo(){V(bl,xn),V(Qa,Qa.current)}function Qo(){xn=bl.current,Q(Qa),Q(bl)}var zn=0,pe=null,Me=null,Qe=null,Sl=!1,Ja=!1,ga=!1,_l=0,Is=0,Ka=null,l0=0;function Ye(){throw Error(i(321))}function Jo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Ko(e,t,n,l,o,c){return zn=c,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?mh:gh,ga=!1,c=n(l,o),ga=!1,Ja&&(c=Ld(t,n,l,o)),Dd(e),c}function Dd(e){L.H=Ol;var t=Me!==null&&Me.next!==null;if(zn=0,Qe=Me=pe=null,Sl=!1,Is=0,Ka=null,t)throw Error(i(300));e===null||et||(e=e.dependencies,e!==null&&ml(e)&&(et=!0))}function Ld(e,t,n,l){pe=e;var o=0;do{if(Ja&&(Ka=null),Is=0,Ja=!1,25<=o)throw Error(i(301));if(o+=1,Qe=Me=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}L.H=h0,c=t(n,l)}while(Ja);return c}function r0(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?Zs(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(pe.flags|=1024),t}function Io(){var e=_l!==0;return _l=0,e}function Zo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(Sl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Sl=!1}zn=0,Qe=Me=pe=null,Ja=!1,Is=_l=0,Ka=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?pe.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Je(){if(Me===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Qe===null?pe.memoizedState:Qe.next;if(t!==null)Qe=t,Me=e;else{if(e===null)throw pe.alternate===null?Error(i(467)):Error(i(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Qe===null?pe.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Po(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zs(e){var t=Is;return Is+=1,Ka===null&&(Ka=[]),e=Ed(Ka,e,t),t=pe,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?mh:gh),e}function wl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zs(e);if(e.$$typeof===Y)return ft(e)}throw Error(i(438,String(e)))}function Wo(e){var t=null,n=pe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Po(),pe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=P;return t.index++,n}function yn(e,t){return typeof t=="function"?t(e):t}function xl(e){var t=Je();return eu(t,Me,e)}function eu(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var o=e.baseQueue,c=l.pending;if(c!==null){if(o!==null){var h=o.next;o.next=c.next,c.next=h}t.baseQueue=o=c,l.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var p=h=null,v=null,R=t,U=!1;do{var B=R.lane&-536870913;if(B!==R.lane?(xe&B)===B:(zn&B)===B){var M=R.revertLane;if(M===0)v!==null&&(v=v.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),B===Ya&&(U=!0);else if((zn&M)===M){R=R.next,M===Ya&&(U=!0);continue}else B={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},v===null?(p=v=B,h=c):v=v.next=B,pe.lanes|=M,Vn|=M;B=R.action,ga&&n(c,B),c=R.hasEagerState?R.eagerState:n(c,B)}else M={lane:B,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},v===null?(p=v=M,h=c):v=v.next=M,pe.lanes|=B,Vn|=B;R=R.next}while(R!==null&&R!==t);if(v===null?h=c:v.next=p,!Tt(c,e.memoizedState)&&(et=!0,U&&(n=Xa,n!==null)))throw n;e.memoizedState=c,e.baseState=h,e.baseQueue=v,l.lastRenderedState=c}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function tu(e){var t=Je(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,o=n.pending,c=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do c=e(c,h.action),h=h.next;while(h!==o);Tt(c,t.memoizedState)||(et=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,l]}function Ud(e,t,n){var l=pe,o=Je(),c=Ee;if(c){if(n===void 0)throw Error(i(407));n=n()}else n=t();var h=!Tt((Me||o).memoizedState,n);h&&(o.memoizedState=n,et=!0),o=o.queue;var p=qd.bind(null,l,o,e);if(Fs(2048,8,p,[e]),o.getSnapshot!==t||h||Qe!==null&&Qe.memoizedState.tag&1){if(l.flags|=2048,Ia(9,Al(),zd.bind(null,l,o,n,t),null),Le===null)throw Error(i(349));c||(zn&124)!==0||jd(l,t,n)}return n}function jd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t=Po(),pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zd(e,t,n,l){t.value=n,t.getSnapshot=l,Bd(t)&&Hd(e)}function qd(e,t,n){return n(function(){Bd(t)&&Hd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function Hd(e){var t=ka(e,2);t!==null&&Ct(t,e,2)}function nu(e){var t=bt();if(typeof e=="function"){var n=e;if(e=n(),ga){Mn(!0);try{n()}finally{Mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:e},t}function kd(e,t,n,l){return e.baseState=n,eu(e,Me,typeof l=="function"?l:yn)}function o0(e,t,n,l,o){if(El(e))throw Error(i(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};L.T!==null?n(!0):c.isTransition=!1,l(c),n=t.pending,n===null?(c.next=t.pending=c,Gd(t,c)):(c.next=n.next,t.pending=n.next=c)}}function Gd(e,t){var n=t.action,l=t.payload,o=e.state;if(t.isTransition){var c=L.T,h={};L.T=h;try{var p=n(o,l),v=L.S;v!==null&&v(h,p),$d(e,t,p)}catch(R){au(e,t,R)}finally{L.T=c}}else try{c=n(o,l),$d(e,t,c)}catch(R){au(e,t,R)}}function $d(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Vd(e,t,l)},function(l){return au(e,t,l)}):Vd(e,t,n)}function Vd(e,t,n){t.status="fulfilled",t.value=n,Yd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Gd(e,n)))}function au(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Yd(t),t=t.next;while(t!==l)}e.action=null}function Yd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Xd(e,t){return t}function Qd(e,t){if(Ee){var n=Le.formState;if(n!==null){e:{var l=pe;if(Ee){if(ke){t:{for(var o=ke,c=Pt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Jt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){ke=Jt(o.nextSibling),l=o.data==="F!";break e}}fa(l)}l=!1}l&&(t=n[0])}}return n=bt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:t},n.queue=l,n=fh.bind(null,pe,l),l.dispatch=n,l=nu(!1),c=ou.bind(null,pe,!1,l.queue),l=bt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,n=o0.bind(null,pe,o,c,n),o.dispatch=n,l.memoizedState=e,[t,n,!1]}function Jd(e){var t=Je();return Kd(t,Me,e)}function Kd(e,t,n){if(t=eu(e,t,Xd)[0],e=xl(yn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Zs(t)}catch(h){throw h===Ys?yl:h}else l=t;t=Je();var o=t.queue,c=o.dispatch;return n!==t.memoizedState&&(pe.flags|=2048,Ia(9,Al(),u0.bind(null,o,n),null)),[l,c,e]}function u0(e,t){e.action=t}function Id(e){var t=Je(),n=Me;if(n!==null)return Kd(t,n,e);Je(),t=t.memoizedState,n=Je();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ia(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=pe.updateQueue,t===null&&(t=Po(),pe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Al(){return{destroy:void 0,resource:void 0}}function Zd(){return Je().memoizedState}function Tl(e,t,n,l){var o=bt();l=l===void 0?null:l,pe.flags|=e,o.memoizedState=Ia(1|t,Al(),n,l)}function Fs(e,t,n,l){var o=Je();l=l===void 0?null:l;var c=o.memoizedState.inst;Me!==null&&l!==null&&Jo(l,Me.memoizedState.deps)?o.memoizedState=Ia(t,c,n,l):(pe.flags|=e,o.memoizedState=Ia(1|t,c,n,l))}function Fd(e,t){Tl(8390656,8,e,t)}function Pd(e,t){Fs(2048,8,e,t)}function Wd(e,t){return Fs(4,2,e,t)}function eh(e,t){return Fs(4,4,e,t)}function th(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nh(e,t,n){n=n!=null?n.concat([e]):null,Fs(4,4,th.bind(null,t,e),n)}function su(){}function ah(e,t){var n=Je();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Jo(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function sh(e,t){var n=Je();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Jo(t,l[1]))return l[0];if(l=e(),ga){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[l,t],l}function iu(e,t,n){return n===void 0||(zn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=rm(),pe.lanes|=e,Vn|=e,n)}function ih(e,t,n,l){return Tt(n,t)?n:Qa.current!==null?(e=iu(e,n,l),Tt(e,t)||(et=!0),e):(zn&42)===0?(et=!0,e.memoizedState=n):(e=rm(),pe.lanes|=e,Vn|=e,t)}function lh(e,t,n,l,o){var c=$.p;$.p=c!==0&&8>c?c:8;var h=L.T,p={};L.T=p,ou(e,!1,t,n);try{var v=o(),R=L.S;if(R!==null&&R(p,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var U=i0(v,l);Ps(e,t,U,Nt(e))}else Ps(e,t,l,Nt(e))}catch(B){Ps(e,t,{then:function(){},status:"rejected",reason:B},Nt())}finally{$.p=c,L.T=h}}function c0(){}function lu(e,t,n,l){if(e.tag!==5)throw Error(i(476));var o=rh(e).queue;lh(e,o,t,W,n===null?c0:function(){return oh(e),n(l)})}function rh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:W},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function oh(e){var t=rh(e).next.queue;Ps(e,t,{},Nt())}function ru(){return ft(pi)}function uh(){return Je().memoizedState}function ch(){return Je().memoizedState}function f0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Nt();e=Un(n);var l=jn(t,e,n);l!==null&&(Ct(l,t,n),Qs(l,t,n)),t={cache:qo()},e.payload=t;return}t=t.return}}function d0(e,t,n){var l=Nt();n={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},El(e)?dh(t,n):(n=Oo(e,t,n,l),n!==null&&(Ct(n,e,l),hh(n,t,l)))}function fh(e,t,n){var l=Nt();Ps(e,t,n,l)}function Ps(e,t,n,l){var o={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(El(e))dh(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,p=c(h,n);if(o.hasEagerState=!0,o.eagerState=p,Tt(p,h))return ul(e,t,o,0),Le===null&&ol(),!1}catch{}finally{}if(n=Oo(e,t,o,l),n!==null)return Ct(n,e,l),hh(n,t,l),!0}return!1}function ou(e,t,n,l){if(l={lane:2,revertLane:ku(),action:l,hasEagerState:!1,eagerState:null,next:null},El(e)){if(t)throw Error(i(479))}else t=Oo(e,n,l,2),t!==null&&Ct(t,e,2)}function El(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function dh(e,t){Ja=Sl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,_f(e,n)}}var Ol={readContext:ft,use:wl,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},mh={readContext:ft,use:wl,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Fd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Tl(4194308,4,th.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){Tl(4,2,e,t)},useMemo:function(e,t){var n=bt();t=t===void 0?null:t;var l=e();if(ga){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=bt();if(n!==void 0){var o=n(t);if(ga){Mn(!0);try{n(t)}finally{Mn(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=d0.bind(null,pe,e),[l.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=nu(e);var t=e.queue,n=fh.bind(null,pe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:su,useDeferredValue:function(e,t){var n=bt();return iu(n,e,t)},useTransition:function(){var e=nu(!1);return e=lh.bind(null,pe,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=pe,o=bt();if(Ee){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Le===null)throw Error(i(349));(xe&124)!==0||jd(l,t,n)}o.memoizedState=n;var c={value:n,getSnapshot:t};return o.queue=c,Fd(qd.bind(null,l,c,e),[e]),l.flags|=2048,Ia(9,Al(),zd.bind(null,l,c,n,t),null),n},useId:function(){var e=bt(),t=Le.identifierPrefix;if(Ee){var n=mn,l=hn;n=(l&~(1<<32-At(l)-1)).toString(32)+n,t="«"+t+"R"+n,n=_l++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=l0++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:ru,useFormState:Qd,useActionState:Qd,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ou.bind(null,pe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Wo,useCacheRefresh:function(){return bt().memoizedState=f0.bind(null,pe)}},gh={readContext:ft,use:wl,useCallback:ah,useContext:ft,useEffect:Pd,useImperativeHandle:nh,useInsertionEffect:Wd,useLayoutEffect:eh,useMemo:sh,useReducer:xl,useRef:Zd,useState:function(){return xl(yn)},useDebugValue:su,useDeferredValue:function(e,t){var n=Je();return ih(n,Me.memoizedState,e,t)},useTransition:function(){var e=xl(yn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:Ud,useId:uh,useHostTransitionStatus:ru,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,t){var n=Je();return kd(n,Me,e,t)},useMemoCache:Wo,useCacheRefresh:ch},h0={readContext:ft,use:wl,useCallback:ah,useContext:ft,useEffect:Pd,useImperativeHandle:nh,useInsertionEffect:Wd,useLayoutEffect:eh,useMemo:sh,useReducer:tu,useRef:Zd,useState:function(){return tu(yn)},useDebugValue:su,useDeferredValue:function(e,t){var n=Je();return Me===null?iu(n,e,t):ih(n,Me.memoizedState,e,t)},useTransition:function(){var e=tu(yn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:Ud,useId:uh,useHostTransitionStatus:ru,useFormState:Id,useActionState:Id,useOptimistic:function(e,t){var n=Je();return Me!==null?kd(n,Me,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Wo,useCacheRefresh:ch},Za=null,Ws=0;function Rl(e){var t=Ws;return Ws+=1,Za===null&&(Za=[]),Ed(Za,e,t)}function ei(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ml(e,t){throw t.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ph(e){var t=e._init;return t(e._payload)}function yh(e){function t(x,w){if(e){var E=x.deletions;E===null?(x.deletions=[w],x.flags|=16):E.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function l(x){for(var w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function o(x,w){return x=dn(x,w),x.index=0,x.sibling=null,x}function c(x,w,E){return x.index=E,e?(E=x.alternate,E!==null?(E=E.index,E<w?(x.flags|=67108866,w):E):(x.flags|=67108866,w)):(x.flags|=1048576,w)}function h(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function p(x,w,E,j){return w===null||w.tag!==6?(w=Mo(E,x.mode,j),w.return=x,w):(w=o(w,E),w.return=x,w)}function v(x,w,E,j){var K=E.type;return K===N?U(x,w,E.props.children,j,E.key):w!==null&&(w.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ue&&ph(K)===w.type)?(w=o(w,E.props),ei(w,E),w.return=x,w):(w=fl(E.type,E.key,E.props,null,x.mode,j),ei(w,E),w.return=x,w)}function R(x,w,E,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=No(E,x.mode,j),w.return=x,w):(w=o(w,E.children||[]),w.return=x,w)}function U(x,w,E,j,K){return w===null||w.tag!==7?(w=ra(E,x.mode,j,K),w.return=x,w):(w=o(w,E),w.return=x,w)}function B(x,w,E){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Mo(""+w,x.mode,E),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case O:return E=fl(w.type,w.key,w.props,null,x.mode,E),ei(E,w),E.return=x,E;case T:return w=No(w,x.mode,E),w.return=x,w;case ue:var j=w._init;return w=j(w._payload),B(x,w,E)}if(He(w)||Ue(w))return w=ra(w,x.mode,E,null),w.return=x,w;if(typeof w.then=="function")return B(x,Rl(w),E);if(w.$$typeof===Y)return B(x,gl(x,w),E);Ml(x,w)}return null}function M(x,w,E,j){var K=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return K!==null?null:p(x,w,""+E,j);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case O:return E.key===K?v(x,w,E,j):null;case T:return E.key===K?R(x,w,E,j):null;case ue:return K=E._init,E=K(E._payload),M(x,w,E,j)}if(He(E)||Ue(E))return K!==null?null:U(x,w,E,j,null);if(typeof E.then=="function")return M(x,w,Rl(E),j);if(E.$$typeof===Y)return M(x,w,gl(x,E),j);Ml(x,E)}return null}function C(x,w,E,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return x=x.get(E)||null,p(w,x,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case O:return x=x.get(j.key===null?E:j.key)||null,v(w,x,j,K);case T:return x=x.get(j.key===null?E:j.key)||null,R(w,x,j,K);case ue:var ye=j._init;return j=ye(j._payload),C(x,w,E,j,K)}if(He(j)||Ue(j))return x=x.get(E)||null,U(w,x,j,K,null);if(typeof j.then=="function")return C(x,w,E,Rl(j),K);if(j.$$typeof===Y)return C(x,w,E,gl(w,j),K);Ml(w,j)}return null}function le(x,w,E,j){for(var K=null,ye=null,F=w,se=w=0,nt=null;F!==null&&se<E.length;se++){F.index>se?(nt=F,F=null):nt=F.sibling;var Te=M(x,F,E[se],j);if(Te===null){F===null&&(F=nt);break}e&&F&&Te.alternate===null&&t(x,F),w=c(Te,w,se),ye===null?K=Te:ye.sibling=Te,ye=Te,F=nt}if(se===E.length)return n(x,F),Ee&&ua(x,se),K;if(F===null){for(;se<E.length;se++)F=B(x,E[se],j),F!==null&&(w=c(F,w,se),ye===null?K=F:ye.sibling=F,ye=F);return Ee&&ua(x,se),K}for(F=l(F);se<E.length;se++)nt=C(F,x,se,E[se],j),nt!==null&&(e&&nt.alternate!==null&&F.delete(nt.key===null?se:nt.key),w=c(nt,w,se),ye===null?K=nt:ye.sibling=nt,ye=nt);return e&&F.forEach(function(Pn){return t(x,Pn)}),Ee&&ua(x,se),K}function ae(x,w,E,j){if(E==null)throw Error(i(151));for(var K=null,ye=null,F=w,se=w=0,nt=null,Te=E.next();F!==null&&!Te.done;se++,Te=E.next()){F.index>se?(nt=F,F=null):nt=F.sibling;var Pn=M(x,F,Te.value,j);if(Pn===null){F===null&&(F=nt);break}e&&F&&Pn.alternate===null&&t(x,F),w=c(Pn,w,se),ye===null?K=Pn:ye.sibling=Pn,ye=Pn,F=nt}if(Te.done)return n(x,F),Ee&&ua(x,se),K;if(F===null){for(;!Te.done;se++,Te=E.next())Te=B(x,Te.value,j),Te!==null&&(w=c(Te,w,se),ye===null?K=Te:ye.sibling=Te,ye=Te);return Ee&&ua(x,se),K}for(F=l(F);!Te.done;se++,Te=E.next())Te=C(F,x,se,Te.value,j),Te!==null&&(e&&Te.alternate!==null&&F.delete(Te.key===null?se:Te.key),w=c(Te,w,se),ye===null?K=Te:ye.sibling=Te,ye=Te);return e&&F.forEach(function(mb){return t(x,mb)}),Ee&&ua(x,se),K}function Ce(x,w,E,j){if(typeof E=="object"&&E!==null&&E.type===N&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case O:e:{for(var K=E.key;w!==null;){if(w.key===K){if(K=E.type,K===N){if(w.tag===7){n(x,w.sibling),j=o(w,E.props.children),j.return=x,x=j;break e}}else if(w.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ue&&ph(K)===w.type){n(x,w.sibling),j=o(w,E.props),ei(j,E),j.return=x,x=j;break e}n(x,w);break}else t(x,w);w=w.sibling}E.type===N?(j=ra(E.props.children,x.mode,j,E.key),j.return=x,x=j):(j=fl(E.type,E.key,E.props,null,x.mode,j),ei(j,E),j.return=x,x=j)}return h(x);case T:e:{for(K=E.key;w!==null;){if(w.key===K)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(x,w.sibling),j=o(w,E.children||[]),j.return=x,x=j;break e}else{n(x,w);break}else t(x,w);w=w.sibling}j=No(E,x.mode,j),j.return=x,x=j}return h(x);case ue:return K=E._init,E=K(E._payload),Ce(x,w,E,j)}if(He(E))return le(x,w,E,j);if(Ue(E)){if(K=Ue(E),typeof K!="function")throw Error(i(150));return E=K.call(E),ae(x,w,E,j)}if(typeof E.then=="function")return Ce(x,w,Rl(E),j);if(E.$$typeof===Y)return Ce(x,w,gl(x,E),j);Ml(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,w!==null&&w.tag===6?(n(x,w.sibling),j=o(w,E),j.return=x,x=j):(n(x,w),j=Mo(E,x.mode,j),j.return=x,x=j),h(x)):n(x,w)}return function(x,w,E,j){try{Ws=0;var K=Ce(x,w,E,j);return Za=null,K}catch(F){if(F===Ys||F===yl)throw F;var ye=Et(29,F,null,x.mode);return ye.lanes=j,ye.return=x,ye}finally{}}}var Fa=yh(!0),vh=yh(!1),Gt=z(null),Wt=null;function qn(e){var t=e.alternate;V(Ze,Ze.current&1),V(Gt,e),Wt===null&&(t===null||Qa.current!==null||t.memoizedState!==null)&&(Wt=e)}function bh(e){if(e.tag===22){if(V(Ze,Ze.current),V(Gt,e),Wt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Wt=e)}}else Bn()}function Bn(){V(Ze,Ze.current),V(Gt,Gt.current)}function vn(e){Q(Gt),Wt===e&&(Wt=null),Q(Ze)}var Ze=z(0);function Nl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Pu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function uu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Nt(),o=Un(l);o.payload=t,n!=null&&(o.callback=n),t=jn(e,o,l),t!==null&&(Ct(t,e,l),Qs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Nt(),o=Un(l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=jn(e,o,l),t!==null&&(Ct(t,e,l),Qs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nt(),l=Un(n);l.tag=2,t!=null&&(l.callback=t),t=jn(e,l,n),t!==null&&(Ct(t,e,n),Qs(t,e,n))}};function Sh(e,t,n,l,o,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,c,h):t.prototype&&t.prototype.isPureReactComponent?!zs(n,l)||!zs(o,c):!0}function _h(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&cu.enqueueReplaceState(t,t.state,null)}function pa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}var Cl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function wh(e){Cl(e)}function xh(e){console.error(e)}function Ah(e){Cl(e)}function Dl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Th(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function fu(e,t,n){return n=Un(n),n.tag=3,n.payload={element:null},n.callback=function(){Dl(e,t)},n}function Eh(e){return e=Un(e),e.tag=3,e}function Oh(e,t,n,l){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var c=l.value;e.payload=function(){return o(c)},e.callback=function(){Th(t,n,l)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Th(t,n,l),typeof o!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function m0(e,t,n,l,o){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Gs(t,n,o,!0),n=Gt.current,n!==null){switch(n.tag){case 13:return Wt===null?ju():n.alternate===null&&Ge===0&&(Ge=3),n.flags&=-257,n.flags|=65536,n.lanes=o,l===ko?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),qu(e,l,o)),!1;case 22:return n.flags|=65536,l===ko?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),qu(e,l,o)),!1}throw Error(i(435,n.tag))}return qu(e,l,o),ju(),!1}if(Ee)return t=Gt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==Lo&&(e=Error(i(422),{cause:l}),ks(qt(e,n)))):(l!==Lo&&(t=Error(i(423),{cause:l}),ks(qt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=qt(l,n),o=fu(e.stateNode,l,o),Vo(e,o),Ge!==4&&(Ge=2)),!1;var c=Error(i(520),{cause:l});if(c=qt(c,n),ri===null?ri=[c]:ri.push(c),Ge!==4&&(Ge=2),t===null)return!0;l=qt(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=fu(n.stateNode,l,e),Vo(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Yn===null||!Yn.has(c))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Eh(o),Oh(o,e,n,l),Vo(n,o),!1}n=n.return}while(n!==null);return!1}var Rh=Error(i(461)),et=!1;function st(e,t,n,l){t.child=e===null?vh(t,null,n,l):Fa(t,e.child,n,l)}function Mh(e,t,n,l,o){n=n.render;var c=t.ref;if("ref"in l){var h={};for(var p in l)p!=="ref"&&(h[p]=l[p])}else h=l;return ha(t),l=Ko(e,t,n,h,c,o),p=Io(),e!==null&&!et?(Zo(e,t,o),bn(e,t,o)):(Ee&&p&&Co(t),t.flags|=1,st(e,t,l,o),t.child)}function Nh(e,t,n,l,o){if(e===null){var c=n.type;return typeof c=="function"&&!Ro(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,Ch(e,t,c,l,o)):(e=fl(n.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!bu(e,o)){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:zs,n(h,l)&&e.ref===t.ref)return bn(e,t,o)}return t.flags|=1,e=dn(c,l),e.ref=t.ref,e.return=t,t.child=e}function Ch(e,t,n,l,o){if(e!==null){var c=e.memoizedProps;if(zs(c,l)&&e.ref===t.ref)if(et=!1,t.pendingProps=l=c,bu(e,o))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,bn(e,t,o)}return du(e,t,n,l,o)}function Dh(e,t,n){var l=t.pendingProps,o=l.children,c=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=c!==null?c.baseLanes|n:n,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;t.childLanes=c&~l}else t.childLanes=0,t.child=null;return Lh(e,t,l,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pl(t,c!==null?c.cachePool:null),c!==null?Cd(t,c):Xo(),bh(t);else return t.lanes=t.childLanes=536870912,Lh(e,t,c!==null?c.baseLanes|n:n,n)}else c!==null?(pl(t,c.cachePool),Cd(t,c),Bn(),t.memoizedState=null):(e!==null&&pl(t,null),Xo(),Bn());return st(e,t,o,n),t.child}function Lh(e,t,n,l){var o=Ho();return o=o===null?null:{parent:Ie._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&pl(t,null),Xo(),bh(t),e!==null&&Gs(e,t,l,!0),null}function Ll(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function du(e,t,n,l,o){return ha(t),n=Ko(e,t,n,l,void 0,o),l=Io(),e!==null&&!et?(Zo(e,t,o),bn(e,t,o)):(Ee&&l&&Co(t),t.flags|=1,st(e,t,n,o),t.child)}function Uh(e,t,n,l,o,c){return ha(t),t.updateQueue=null,n=Ld(t,l,n,o),Dd(e),l=Io(),e!==null&&!et?(Zo(e,t,c),bn(e,t,c)):(Ee&&l&&Co(t),t.flags|=1,st(e,t,n,c),t.child)}function jh(e,t,n,l,o){if(ha(t),t.stateNode===null){var c=Ga,h=n.contextType;typeof h=="object"&&h!==null&&(c=ft(h)),c=new n(l,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=cu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=l,c.state=t.memoizedState,c.refs={},Go(t),h=n.contextType,c.context=typeof h=="object"&&h!==null?ft(h):Ga,c.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(uu(t,n,h,l),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&cu.enqueueReplaceState(c,c.state,null),Ks(t,l,c,o),Js(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,v=pa(n,p);c.props=v;var R=c.context,U=n.contextType;h=Ga,typeof U=="object"&&U!==null&&(h=ft(U));var B=n.getDerivedStateFromProps;U=typeof B=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,U||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||R!==h)&&_h(t,c,l,h),Ln=!1;var M=t.memoizedState;c.state=M,Ks(t,l,c,o),Js(),R=t.memoizedState,p||M!==R||Ln?(typeof B=="function"&&(uu(t,n,B,l),R=t.memoizedState),(v=Ln||Sh(t,n,v,l,M,R,h))?(U||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=R),c.props=l,c.state=R,c.context=h,l=v):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{c=t.stateNode,$o(e,t),h=t.memoizedProps,U=pa(n,h),c.props=U,B=t.pendingProps,M=c.context,R=n.contextType,v=Ga,typeof R=="object"&&R!==null&&(v=ft(R)),p=n.getDerivedStateFromProps,(R=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==B||M!==v)&&_h(t,c,l,v),Ln=!1,M=t.memoizedState,c.state=M,Ks(t,l,c,o),Js();var C=t.memoizedState;h!==B||M!==C||Ln||e!==null&&e.dependencies!==null&&ml(e.dependencies)?(typeof p=="function"&&(uu(t,n,p,l),C=t.memoizedState),(U=Ln||Sh(t,n,U,l,M,C,v)||e!==null&&e.dependencies!==null&&ml(e.dependencies))?(R||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,C,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,C,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=C),c.props=l,c.state=C,c.context=v,l=U):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),l=!1)}return c=l,Ll(e,t),l=(t.flags&128)!==0,c||l?(c=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&l?(t.child=Fa(t,e.child,null,o),t.child=Fa(t,null,n,o)):st(e,t,n,o),t.memoizedState=c.state,e=t.child):e=bn(e,t,o),e}function zh(e,t,n,l){return Hs(),t.flags|=256,st(e,t,n,l),t.child}var hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mu(e){return{baseLanes:e,cachePool:xd()}}function gu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=$t),e}function qh(e,t,n){var l=t.pendingProps,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(o?qn(t):Bn(),Ee){var p=ke,v;if(v=p){e:{for(v=p,p=Pt;v.nodeType!==8;){if(!p){p=null;break e}if(v=Jt(v.nextSibling),v===null){p=null;break e}}p=v}p!==null?(t.memoizedState={dehydrated:p,treeContext:oa!==null?{id:hn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},v=Et(18,null,null,0),v.stateNode=p,v.return=t,t.child=v,gt=t,ke=null,v=!0):v=!1}v||fa(t)}if(p=t.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return Pu(p)?t.lanes=32:t.lanes=536870912,null;vn(t)}return p=l.children,l=l.fallback,o?(Bn(),o=t.mode,p=Ul({mode:"hidden",children:p},o),l=ra(l,o,n,null),p.return=t,l.return=t,p.sibling=l,t.child=p,o=t.child,o.memoizedState=mu(n),o.childLanes=gu(e,h,n),t.memoizedState=hu,l):(qn(t),pu(t,p))}if(v=e.memoizedState,v!==null&&(p=v.dehydrated,p!==null)){if(c)t.flags&256?(qn(t),t.flags&=-257,t=yu(e,t,n)):t.memoizedState!==null?(Bn(),t.child=e.child,t.flags|=128,t=null):(Bn(),o=l.fallback,p=t.mode,l=Ul({mode:"visible",children:l.children},p),o=ra(o,p,n,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,Fa(t,e.child,null,n),l=t.child,l.memoizedState=mu(n),l.childLanes=gu(e,h,n),t.memoizedState=hu,t=o);else if(qn(t),Pu(p)){if(h=p.nextSibling&&p.nextSibling.dataset,h)var R=h.dgst;h=R,l=Error(i(419)),l.stack="",l.digest=h,ks({value:l,source:null,stack:null}),t=yu(e,t,n)}else if(et||Gs(e,t,n,!1),h=(n&e.childLanes)!==0,et||h){if(h=Le,h!==null&&(l=n&-n,l=(l&42)!==0?1:Pr(l),l=(l&(h.suspendedLanes|n))!==0?0:l,l!==0&&l!==v.retryLane))throw v.retryLane=l,ka(e,l),Ct(h,e,l),Rh;p.data==="$?"||ju(),t=yu(e,t,n)}else p.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,ke=Jt(p.nextSibling),gt=t,Ee=!0,ca=null,Pt=!1,e!==null&&(Ht[kt++]=hn,Ht[kt++]=mn,Ht[kt++]=oa,hn=e.id,mn=e.overflow,oa=t),t=pu(t,l.children),t.flags|=4096);return t}return o?(Bn(),o=l.fallback,p=t.mode,v=e.child,R=v.sibling,l=dn(v,{mode:"hidden",children:l.children}),l.subtreeFlags=v.subtreeFlags&65011712,R!==null?o=dn(R,o):(o=ra(o,p,n,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,l=o,o=t.child,p=e.child.memoizedState,p===null?p=mu(n):(v=p.cachePool,v!==null?(R=Ie._currentValue,v=v.parent!==R?{parent:R,pool:R}:v):v=xd(),p={baseLanes:p.baseLanes|n,cachePool:v}),o.memoizedState=p,o.childLanes=gu(e,h,n),t.memoizedState=hu,l):(qn(t),n=e.child,e=n.sibling,n=dn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function pu(e,t){return t=Ul({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ul(e,t){return e=Et(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function yu(e,t,n){return Fa(t,e.child,null,n),e=pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bh(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),jo(e.return,t,n)}function vu(e,t,n,l,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=n,c.tailMode=o)}function Hh(e,t,n){var l=t.pendingProps,o=l.revealOrder,c=l.tail;if(st(e,t,l.children,n),l=Ze.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bh(e,n,t);else if(e.tag===19)Bh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(V(Ze,l),o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Nl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),vu(t,!1,o,n,c);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Nl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}vu(t,!0,n,null,c);break;case"together":vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Gs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ml(e)))}function g0(e,t,n){switch(t.tag){case 3:je(t,t.stateNode.containerInfo),Dn(t,Ie,e.memoizedState.cache),Hs();break;case 27:case 5:Jr(t);break;case 4:je(t,t.stateNode.containerInfo);break;case 10:Dn(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(qn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?qh(e,t,n):(qn(t),e=bn(e,t,n),e!==null?e.sibling:null);qn(t);break;case 19:var o=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Gs(e,t,n,!1),l=(n&t.childLanes)!==0),o){if(l)return Hh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(Ze,Ze.current),l)break;return null;case 22:case 23:return t.lanes=0,Dh(e,t,n);case 24:Dn(t,Ie,e.memoizedState.cache)}return bn(e,t,n)}function kh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!bu(e,n)&&(t.flags&128)===0)return et=!1,g0(e,t,n);et=(e.flags&131072)!==0}else et=!1,Ee&&(t.flags&1048576)!==0&&pd(t,hl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,o=l._init;if(l=o(l._payload),t.type=l,typeof l=="function")Ro(l)?(e=pa(l,e),t.tag=1,t=jh(null,t,l,e,n)):(t.tag=0,t=du(null,t,l,e,n));else{if(l!=null){if(o=l.$$typeof,o===k){t.tag=11,t=Mh(null,t,l,e,n);break e}else if(o===I){t.tag=14,t=Nh(null,t,l,e,n);break e}}throw t=Ve(l)||l,Error(i(306,t,""))}}return t;case 0:return du(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,o=pa(l,t.pendingProps),jh(e,t,l,o,n);case 3:e:{if(je(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var c=t.memoizedState;o=c.element,$o(e,t),Ks(t,l,null,n);var h=t.memoizedState;if(l=h.cache,Dn(t,Ie,l),l!==c.cache&&zo(t,[Ie],n,!0),Js(),l=h.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=zh(e,t,l,n);break e}else if(l!==o){o=qt(Error(i(424)),t),ks(o),t=zh(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ke=Jt(e.firstChild),gt=t,Ee=!0,ca=null,Pt=!0,n=vh(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Hs(),l===o){t=bn(e,t,n);break e}st(e,t,l,n)}t=t.child}return t;case 26:return Ll(e,t),e===null?(n=Ym(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ee||(n=t.type,e=t.pendingProps,l=Kl(he.current).createElement(n),l[ct]=t,l[yt]=e,lt(l,n,e),We(l),t.stateNode=l):t.memoizedState=Ym(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Jr(t),e===null&&Ee&&(l=t.stateNode=Gm(t.type,t.pendingProps,he.current),gt=t,Pt=!0,o=ke,Jn(t.type)?(Wu=o,ke=Jt(l.firstChild)):ke=o),st(e,t,t.pendingProps.children,n),Ll(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((o=l=ke)&&(l=V0(l,t.type,t.pendingProps,Pt),l!==null?(t.stateNode=l,gt=t,ke=Jt(l.firstChild),Pt=!1,o=!0):o=!1),o||fa(t)),Jr(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,l=c.children,Iu(o,c)?l=null:h!==null&&Iu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=Ko(e,t,r0,null,null,n),pi._currentValue=o),Ll(e,t),st(e,t,l,n),t.child;case 6:return e===null&&Ee&&((e=n=ke)&&(n=Y0(n,t.pendingProps,Pt),n!==null?(t.stateNode=n,gt=t,ke=null,e=!0):e=!1),e||fa(t)),null;case 13:return qh(e,t,n);case 4:return je(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Fa(t,null,l,n):st(e,t,l,n),t.child;case 11:return Mh(e,t,t.type,t.pendingProps,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Dn(t,t.type,l.value),st(e,t,l.children,n),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,ha(t),o=ft(o),l=l(o),t.flags|=1,st(e,t,l,n),t.child;case 14:return Nh(e,t,t.type,t.pendingProps,n);case 15:return Ch(e,t,t.type,t.pendingProps,n);case 19:return Hh(e,t,n);case 31:return l=t.pendingProps,n=t.mode,l={mode:l.mode,children:l.children},e===null?(n=Ul(l,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=dn(e.child,l),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Dh(e,t,n);case 24:return ha(t),l=ft(Ie),e===null?(o=Ho(),o===null&&(o=Le,c=qo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=n),o=c),t.memoizedState={parent:l,cache:o},Go(t),Dn(t,Ie,o)):((e.lanes&n)!==0&&($o(e,t),Ks(t,null,null,n),Js()),o=e.memoizedState,c=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Dn(t,Ie,l)):(l=c.cache,Dn(t,Ie,l),l!==o.cache&&zo(t,[Ie],n,!0))),st(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Sn(e){e.flags|=4}function Gh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Im(t)){if(t=Gt.current,t!==null&&((xe&4194048)===xe?Wt!==null:(xe&62914560)!==xe&&(xe&536870912)===0||t!==Wt))throw Xs=ko,Ad;e.flags|=8192}}function jl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bf():536870912,e.lanes|=t,ts|=t)}function ti(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function p0(e,t,n){var l=t.pendingProps;switch(Do(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),pn(Ie),Rn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bs(t)?Sn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bd())),qe(t),null;case 26:return n=t.memoizedState,e===null?(Sn(t),n!==null?(qe(t),Gh(t,n)):(qe(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Sn(t),qe(t),Gh(t,n)):(qe(t),t.flags&=-16777217):(e.memoizedProps!==l&&Sn(t),qe(t),t.flags&=-16777217),null;case 27:Qi(t),n=he.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return qe(t),null}e=te.current,Bs(t)?yd(t):(e=Gm(o,l,n),t.stateNode=e,Sn(t))}return qe(t),null;case 5:if(Qi(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return qe(t),null}if(e=te.current,Bs(t))yd(t);else{switch(o=Kl(he.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?o.createElement(n,{is:l.is}):o.createElement(n)}}e[ct]=t,e[yt]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(lt(e,n,l),n){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Sn(t)}}return qe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=he.current,Bs(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,o=gt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[ct]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Um(e.nodeValue,n)),e||fa(t)}else e=Kl(e).createTextNode(l),e[ct]=t,t.stateNode=e}return qe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Bs(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[ct]=t}else Hs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),o=!1}else o=bd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(vn(t),t):(vn(t),null)}if(vn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=l!==null,e=e!==null&&e.memoizedState!==null,n){l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool);var c=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==o&&(l.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),jl(t,t.updateQueue),qe(t),null;case 4:return Rn(),e===null&&Yu(t.stateNode.containerInfo),qe(t),null;case 10:return pn(t.type),qe(t),null;case 19:if(Q(Ze),o=t.memoizedState,o===null)return qe(t),null;if(l=(t.flags&128)!==0,c=o.rendering,c===null)if(l)ti(o,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Nl(e),c!==null){for(t.flags|=128,ti(o,!1),e=c.updateQueue,t.updateQueue=e,jl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)gd(n,e),n=n.sibling;return V(Ze,Ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ft()>Bl&&(t.flags|=128,l=!0,ti(o,!1),t.lanes=4194304)}else{if(!l)if(e=Nl(c),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,jl(t,e),ti(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!Ee)return qe(t),null}else 2*Ft()-o.renderingStartTime>Bl&&n!==536870912&&(t.flags|=128,l=!0,ti(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(e=o.last,e!==null?e.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ft(),t.sibling=null,e=Ze.current,V(Ze,l?e&1|2:e&1),t):(qe(t),null);case 22:case 23:return vn(t),Qo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),n=t.updateQueue,n!==null&&jl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&Q(ma),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),pn(Ie),qe(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function y0(e,t){switch(Do(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(Ie),Rn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Qi(t),null;case 13:if(vn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(Ze),null;case 4:return Rn(),null;case 10:return pn(t.type),null;case 22:case 23:return vn(t),Qo(),e!==null&&Q(ma),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pn(Ie),null;case 25:return null;default:return null}}function $h(e,t){switch(Do(t),t.tag){case 3:pn(Ie),Rn();break;case 26:case 27:case 5:Qi(t);break;case 4:Rn();break;case 13:vn(t);break;case 19:Q(Ze);break;case 10:pn(t.type);break;case 22:case 23:vn(t),Qo(),e!==null&&Q(ma);break;case 24:pn(Ie)}}function ni(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var o=l.next;n=o;do{if((n.tag&e)===e){l=void 0;var c=n.create,h=n.inst;l=c(),h.destroy=l}n=n.next}while(n!==o)}}catch(p){De(t,t.return,p)}}function Hn(e,t,n){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var c=o.next;l=c;do{if((l.tag&e)===e){var h=l.inst,p=h.destroy;if(p!==void 0){h.destroy=void 0,o=t;var v=n,R=p;try{R()}catch(U){De(o,v,U)}}}l=l.next}while(l!==c)}}catch(U){De(t,t.return,U)}}function Vh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Nd(t,n)}catch(l){De(e,e.return,l)}}}function Yh(e,t,n){n.props=pa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){De(e,t,l)}}function ai(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(o){De(e,t,o)}}function en(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(o){De(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){De(e,t,o)}else n.current=null}function Xh(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(o){De(e,e.return,o)}}function Su(e,t,n){try{var l=e.stateNode;B0(l,e.type,n,t),l[yt]=t}catch(o){De(e,e.return,o)}}function Qh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function _u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jl));else if(l!==4&&(l===27&&Jn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(wu(e,t,n),e=e.sibling;e!==null;)wu(e,t,n),e=e.sibling}function zl(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Jn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(zl(e,t,n),e=e.sibling;e!==null;)zl(e,t,n),e=e.sibling}function Jh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);lt(t,l,n),t[ct]=e,t[yt]=n}catch(c){De(e,e.return,c)}}var _n=!1,Xe=!1,xu=!1,Kh=typeof WeakSet=="function"?WeakSet:Set,tt=null;function v0(e,t){if(e=e.containerInfo,Ju=er,e=id(e),_o(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var o=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,p=-1,v=-1,R=0,U=0,B=e,M=null;t:for(;;){for(var C;B!==n||o!==0&&B.nodeType!==3||(p=h+o),B!==c||l!==0&&B.nodeType!==3||(v=h+l),B.nodeType===3&&(h+=B.nodeValue.length),(C=B.firstChild)!==null;)M=B,B=C;for(;;){if(B===e)break t;if(M===n&&++R===o&&(p=h),M===c&&++U===l&&(v=h),(C=B.nextSibling)!==null)break;B=M,M=B.parentNode}B=C}n=p===-1||v===-1?null:{start:p,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},er=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,o=c.memoizedProps,c=c.memoizedState,l=n.stateNode;try{var le=pa(n.type,o,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(le,c),l.__reactInternalSnapshotBeforeUpdate=e}catch(ae){De(n,n.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Fu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function Ih(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:kn(e,n),l&4&&ni(5,n);break;case 1:if(kn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){De(n,n.return,h)}else{var o=pa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){De(n,n.return,h)}}l&64&&Vh(n),l&512&&ai(n,n.return);break;case 3:if(kn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Nd(e,t)}catch(h){De(n,n.return,h)}}break;case 27:t===null&&l&4&&Jh(n);case 26:case 5:kn(e,n),t===null&&l&4&&Xh(n),l&512&&ai(n,n.return);break;case 12:kn(e,n);break;case 13:kn(e,n),l&4&&Ph(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=O0.bind(null,n),X0(e,n))));break;case 22:if(l=n.memoizedState!==null||_n,!l){t=t!==null&&t.memoizedState!==null||Xe,o=_n;var c=Xe;_n=l,(Xe=t)&&!c?Gn(e,n,(n.subtreeFlags&8772)!==0):kn(e,n),_n=o,Xe=c}break;case 30:break;default:kn(e,n)}}function Zh(e){var t=e.alternate;t!==null&&(e.alternate=null,Zh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&to(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,St=!1;function wn(e,t,n){for(n=n.child;n!==null;)Fh(e,t,n),n=n.sibling}function Fh(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(As,n)}catch{}switch(n.tag){case 26:Xe||en(n,t),wn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xe||en(n,t);var l=ze,o=St;Jn(n.type)&&(ze=n.stateNode,St=!1),wn(e,t,n),di(n.stateNode),ze=l,St=o;break;case 5:Xe||en(n,t);case 6:if(l=ze,o=St,ze=null,wn(e,t,n),ze=l,St=o,ze!==null)if(St)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(n.stateNode)}catch(c){De(n,t,c)}else try{ze.removeChild(n.stateNode)}catch(c){De(n,t,c)}break;case 18:ze!==null&&(St?(e=ze,Hm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Si(e)):Hm(ze,n.stateNode));break;case 4:l=ze,o=St,ze=n.stateNode.containerInfo,St=!0,wn(e,t,n),ze=l,St=o;break;case 0:case 11:case 14:case 15:Xe||Hn(2,n,t),Xe||Hn(4,n,t),wn(e,t,n);break;case 1:Xe||(en(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Yh(n,t,l)),wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:Xe=(l=Xe)||n.memoizedState!==null,wn(e,t,n),Xe=l;break;default:wn(e,t,n)}}function Ph(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Si(e)}catch(n){De(t,t.return,n)}}function b0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Kh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Kh),t;default:throw Error(i(435,e.tag))}}function Au(e,t){var n=b0(e);t.forEach(function(l){var o=R0.bind(null,e,l);n.has(l)||(n.add(l),l.then(o,o))})}function Ot(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var o=n[l],c=e,h=t,p=h;e:for(;p!==null;){switch(p.tag){case 27:if(Jn(p.type)){ze=p.stateNode,St=!1;break e}break;case 5:ze=p.stateNode,St=!1;break e;case 3:case 4:ze=p.stateNode.containerInfo,St=!0;break e}p=p.return}if(ze===null)throw Error(i(160));Fh(c,h,o),ze=null,St=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Wh(t,e),t=t.sibling}var Qt=null;function Wh(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),Rt(e),l&4&&(Hn(3,e,e.return),ni(3,e),Hn(5,e,e.return));break;case 1:Ot(t,e),Rt(e),l&512&&(Xe||n===null||en(n,n.return)),l&64&&_n&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var o=Qt;if(Ot(t,e),Rt(e),l&512&&(Xe||n===null||en(n,n.return)),l&4){var c=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Os]||c[ct]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(l),o.head.insertBefore(c,o.querySelector("head > title"))),lt(c,l,n),c[ct]=e,We(c),l=c;break e;case"link":var h=Jm("link","href",o).get(l+(n.href||""));if(h){for(var p=0;p<h.length;p++)if(c=h[p],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(p,1);break t}}c=o.createElement(l),lt(c,l,n),o.head.appendChild(c);break;case"meta":if(h=Jm("meta","content",o).get(l+(n.content||""))){for(p=0;p<h.length;p++)if(c=h[p],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(p,1);break t}}c=o.createElement(l),lt(c,l,n),o.head.appendChild(c);break;default:throw Error(i(468,l))}c[ct]=e,We(c),l=c}e.stateNode=l}else Km(o,e.type,e.stateNode);else e.stateNode=Qm(o,l,e.memoizedProps);else c!==l?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,l===null?Km(o,e.type,e.stateNode):Qm(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Su(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ot(t,e),Rt(e),l&512&&(Xe||n===null||en(n,n.return)),n!==null&&l&4&&Su(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ot(t,e),Rt(e),l&512&&(Xe||n===null||en(n,n.return)),e.flags&32){o=e.stateNode;try{La(o,"")}catch(C){De(e,e.return,C)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,Su(e,o,n!==null?n.memoizedProps:o)),l&1024&&(xu=!0);break;case 6:if(Ot(t,e),Rt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(C){De(e,e.return,C)}}break;case 3:if(Fl=null,o=Qt,Qt=Il(t.containerInfo),Ot(t,e),Qt=o,Rt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Si(t.containerInfo)}catch(C){De(e,e.return,C)}xu&&(xu=!1,em(e));break;case 4:l=Qt,Qt=Il(e.stateNode.containerInfo),Ot(t,e),Rt(e),Qt=l;break;case 12:Ot(t,e),Rt(e);break;case 13:Ot(t,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Nu=Ft()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Au(e,l)));break;case 22:o=e.memoizedState!==null;var v=n!==null&&n.memoizedState!==null,R=_n,U=Xe;if(_n=R||o,Xe=U||v,Ot(t,e),Xe=U,_n=R,Rt(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||v||_n||Xe||ya(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){v=n=t;try{if(c=v.stateNode,o)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{p=v.stateNode;var B=v.memoizedProps.style,M=B!=null&&B.hasOwnProperty("display")?B.display:null;p.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(C){De(v,v.return,C)}}}else if(t.tag===6){if(n===null){v=t;try{v.stateNode.nodeValue=o?"":v.memoizedProps}catch(C){De(v,v.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Au(e,n))));break;case 19:Ot(t,e),Rt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Au(e,l)));break;case 30:break;case 21:break;default:Ot(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Qh(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode,c=_u(e);zl(e,c,o);break;case 5:var h=n.stateNode;n.flags&32&&(La(h,""),n.flags&=-33);var p=_u(e);zl(e,p,h);break;case 3:case 4:var v=n.stateNode.containerInfo,R=_u(e);wu(e,R,v);break;default:throw Error(i(161))}}catch(U){De(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function em(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;em(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function kn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ih(e,t.alternate,t),t=t.sibling}function ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hn(4,t,t.return),ya(t);break;case 1:en(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Yh(t,t.return,n),ya(t);break;case 27:di(t.stateNode);case 26:case 5:en(t,t.return),ya(t);break;case 22:t.memoizedState===null&&ya(t);break;case 30:ya(t);break;default:ya(t)}e=e.sibling}}function Gn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:Gn(o,c,n),ni(4,c);break;case 1:if(Gn(o,c,n),l=c,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){De(l,l.return,R)}if(l=c,o=l.updateQueue,o!==null){var p=l.stateNode;try{var v=o.shared.hiddenCallbacks;if(v!==null)for(o.shared.hiddenCallbacks=null,o=0;o<v.length;o++)Md(v[o],p)}catch(R){De(l,l.return,R)}}n&&h&64&&Vh(c),ai(c,c.return);break;case 27:Jh(c);case 26:case 5:Gn(o,c,n),n&&l===null&&h&4&&Xh(c),ai(c,c.return);break;case 12:Gn(o,c,n);break;case 13:Gn(o,c,n),n&&h&4&&Ph(o,c);break;case 22:c.memoizedState===null&&Gn(o,c,n),ai(c,c.return);break;case 30:break;default:Gn(o,c,n)}t=t.sibling}}function Tu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&$s(n))}function Eu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$s(e))}function tn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tm(e,t,n,l),t=t.sibling}function tm(e,t,n,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:tn(e,t,n,l),o&2048&&ni(9,t);break;case 1:tn(e,t,n,l);break;case 3:tn(e,t,n,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$s(e)));break;case 12:if(o&2048){tn(e,t,n,l),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,p=c.onPostCommit;typeof p=="function"&&p(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){De(t,t.return,v)}}else tn(e,t,n,l);break;case 13:tn(e,t,n,l);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?tn(e,t,n,l):si(e,t):c._visibility&2?tn(e,t,n,l):(c._visibility|=2,Pa(e,t,n,l,(t.subtreeFlags&10256)!==0)),o&2048&&Tu(h,t);break;case 24:tn(e,t,n,l),o&2048&&Eu(t.alternate,t);break;default:tn(e,t,n,l)}}function Pa(e,t,n,l,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,h=t,p=n,v=l,R=h.flags;switch(h.tag){case 0:case 11:case 15:Pa(c,h,p,v,o),ni(8,h);break;case 23:break;case 22:var U=h.stateNode;h.memoizedState!==null?U._visibility&2?Pa(c,h,p,v,o):si(c,h):(U._visibility|=2,Pa(c,h,p,v,o)),o&&R&2048&&Tu(h.alternate,h);break;case 24:Pa(c,h,p,v,o),o&&R&2048&&Eu(h.alternate,h);break;default:Pa(c,h,p,v,o)}t=t.sibling}}function si(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,o=l.flags;switch(l.tag){case 22:si(n,l),o&2048&&Tu(l.alternate,l);break;case 24:si(n,l),o&2048&&Eu(l.alternate,l);break;default:si(n,l)}t=t.sibling}}var ii=8192;function Wa(e){if(e.subtreeFlags&ii)for(e=e.child;e!==null;)nm(e),e=e.sibling}function nm(e){switch(e.tag){case 26:Wa(e),e.flags&ii&&e.memoizedState!==null&&sb(Qt,e.memoizedState,e.memoizedProps);break;case 5:Wa(e);break;case 3:case 4:var t=Qt;Qt=Il(e.stateNode.containerInfo),Wa(e),Qt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ii,ii=16777216,Wa(e),ii=t):Wa(e));break;default:Wa(e)}}function am(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function li(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];tt=l,im(l,e)}am(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sm(e),e=e.sibling}function sm(e){switch(e.tag){case 0:case 11:case 15:li(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:li(e);break;case 12:li(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ql(e)):li(e);break;default:li(e)}}function ql(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];tt=l,im(l,e)}am(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hn(8,t,t.return),ql(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ql(t));break;default:ql(t)}e=e.sibling}}function im(e,t){for(;tt!==null;){var n=tt;switch(n.tag){case 0:case 11:case 15:Hn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$s(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,tt=l;else e:for(n=e;tt!==null;){l=tt;var o=l.sibling,c=l.return;if(Zh(l),l===n){tt=null;break e}if(o!==null){o.return=c,tt=o;break e}tt=c}}}var S0={getCacheForType:function(e){var t=ft(Ie),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},_0=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Le=null,ve=null,xe=0,Re=0,Mt=null,$n=!1,es=!1,Ou=!1,xn=0,Ge=0,Vn=0,va=0,Ru=0,$t=0,ts=0,ri=null,_t=null,Mu=!1,Nu=0,Bl=1/0,Hl=null,Yn=null,it=0,Xn=null,ns=null,as=0,Cu=0,Du=null,lm=null,oi=0,Lu=null;function Nt(){if((Oe&2)!==0&&xe!==0)return xe&-xe;if(L.T!==null){var e=Ya;return e!==0?e:ku()}return wf()}function rm(){$t===0&&($t=(xe&536870912)===0||Ee?vf():536870912);var e=Gt.current;return e!==null&&(e.flags|=32),$t}function Ct(e,t,n){(e===Le&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(ss(e,0),Qn(e,xe,$t,!1)),Es(e,n),((Oe&2)===0||e!==Le)&&(e===Le&&((Oe&2)===0&&(va|=n),Ge===4&&Qn(e,xe,$t,!1)),nn(e))}function om(e,t,n){if((Oe&6)!==0)throw Error(i(327));var l=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Ts(e,t),o=l?A0(e,t):zu(e,t,!0),c=l;do{if(o===0){es&&!l&&Qn(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!w0(n)){o=zu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var p=e;o=ri;var v=p.current.memoizedState.isDehydrated;if(v&&(ss(p,h).flags|=256),h=zu(p,h,!1),h!==2){if(Ou&&!v){p.errorRecoveryDisabledLanes|=c,va|=c,o=4;break e}c=_t,_t=o,c!==null&&(_t===null?_t=c:_t.push.apply(_t,c))}o=h}if(c=!1,o!==2)continue}}if(o===1){ss(e,0),Qn(e,t,0,!0);break}e:{switch(l=e,c=o,c){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Qn(l,t,$t,!$n);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=Nu+300-Ft(),10<o)){if(Qn(l,t,$t,!$n),Zi(l,0,!0)!==0)break e;l.timeoutHandle=qm(um.bind(null,l,n,_t,Hl,Mu,t,$t,va,ts,$n,c,2,-0,0),o);break e}um(l,n,_t,Hl,Mu,t,$t,va,ts,$n,c,0,-0,0)}}break}while(!0);nn(e)}function um(e,t,n,l,o,c,h,p,v,R,U,B,M,C){if(e.timeoutHandle=-1,B=t.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(gi={stylesheets:null,count:0,unsuspend:ab},nm(t),B=ib(),B!==null)){e.cancelPendingCommit=B(pm.bind(null,e,t,c,n,l,o,h,p,v,U,1,M,C)),Qn(e,c,h,!R);return}pm(e,t,c,n,l,o,h,p,v)}function w0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var o=n[l],c=o.getSnapshot;o=o.value;try{if(!Tt(c(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t,n,l){t&=~Ru,t&=~va,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var c=31-At(o),h=1<<c;l[c]=-1,o&=~h}n!==0&&Sf(e,n,t)}function kl(){return(Oe&6)===0?(ui(0),!1):!0}function Uu(){if(ve!==null){if(Re===0)var e=ve.return;else e=ve,gn=da=null,Fo(e),Za=null,Ws=0,e=ve;for(;e!==null;)$h(e.alternate,e),e=e.return;ve=null}}function ss(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,k0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Uu(),Le=e,ve=n=dn(e.current,null),xe=t,Re=0,Mt=null,$n=!1,es=Ts(e,t),Ou=!1,ts=$t=Ru=va=Vn=Ge=0,_t=ri=null,Mu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-At(l),c=1<<o;t|=e[o],l&=~c}return xn=t,ol(),n}function cm(e,t){pe=null,L.H=Ol,t===Ys||t===yl?(t=Od(),Re=3):t===Ad?(t=Od(),Re=4):Re=t===Rh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,ve===null&&(Ge=1,Dl(e,qt(t,e.current)))}function fm(){var e=L.H;return L.H=Ol,e===null?Ol:e}function dm(){var e=L.A;return L.A=S0,e}function ju(){Ge=4,$n||(xe&4194048)!==xe&&Gt.current!==null||(es=!0),(Vn&134217727)===0&&(va&134217727)===0||Le===null||Qn(Le,xe,$t,!1)}function zu(e,t,n){var l=Oe;Oe|=2;var o=fm(),c=dm();(Le!==e||xe!==t)&&(Hl=null,ss(e,t)),t=!1;var h=Ge;e:do try{if(Re!==0&&ve!==null){var p=ve,v=Mt;switch(Re){case 8:Uu(),h=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(t=!0);var R=Re;if(Re=0,Mt=null,is(e,p,v,R),n&&es){h=0;break e}break;default:R=Re,Re=0,Mt=null,is(e,p,v,R)}}x0(),h=Ge;break}catch(U){cm(e,U)}while(!0);return t&&e.shellSuspendCounter++,gn=da=null,Oe=l,L.H=o,L.A=c,ve===null&&(Le=null,xe=0,ol()),h}function x0(){for(;ve!==null;)hm(ve)}function A0(e,t){var n=Oe;Oe|=2;var l=fm(),o=dm();Le!==e||xe!==t?(Hl=null,Bl=Ft()+500,ss(e,t)):es=Ts(e,t);e:do try{if(Re!==0&&ve!==null){t=ve;var c=Mt;t:switch(Re){case 1:Re=0,Mt=null,is(e,t,c,1);break;case 2:case 9:if(Td(c)){Re=0,Mt=null,mm(t);break}t=function(){Re!==2&&Re!==9||Le!==e||(Re=7),nn(e)},c.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Td(c)?(Re=0,Mt=null,mm(t)):(Re=0,Mt=null,is(e,t,c,7));break;case 5:var h=null;switch(ve.tag){case 26:h=ve.memoizedState;case 5:case 27:var p=ve;if(!h||Im(h)){Re=0,Mt=null;var v=p.sibling;if(v!==null)ve=v;else{var R=p.return;R!==null?(ve=R,Gl(R)):ve=null}break t}}Re=0,Mt=null,is(e,t,c,5);break;case 6:Re=0,Mt=null,is(e,t,c,6);break;case 8:Uu(),Ge=6;break e;default:throw Error(i(462))}}T0();break}catch(U){cm(e,U)}while(!0);return gn=da=null,L.H=l,L.A=o,Oe=n,ve!==null?0:(Le=null,xe=0,ol(),Ge)}function T0(){for(;ve!==null&&!Jy();)hm(ve)}function hm(e){var t=kh(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?Gl(e):ve=t}function mm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Uh(n,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Uh(n,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:Fo(t);default:$h(n,t),t=ve=gd(t,xn),t=kh(n,t,xn)}e.memoizedProps=e.pendingProps,t===null?Gl(e):ve=t}function is(e,t,n,l){gn=da=null,Fo(t),Za=null,Ws=0;var o=t.return;try{if(m0(e,o,t,n,xe)){Ge=1,Dl(e,qt(n,e.current)),ve=null;return}}catch(c){if(o!==null)throw ve=o,c;Ge=1,Dl(e,qt(n,e.current)),ve=null;return}t.flags&32768?(Ee||l===1?e=!0:es||(xe&536870912)!==0?e=!1:($n=e=!0,(l===2||l===9||l===3||l===6)&&(l=Gt.current,l!==null&&l.tag===13&&(l.flags|=16384))),gm(t,e)):Gl(t)}function Gl(e){var t=e;do{if((t.flags&32768)!==0){gm(t,$n);return}e=t.return;var n=p0(t.alternate,t,xn);if(n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Ge===0&&(Ge=5)}function gm(e,t){do{var n=y0(e.alternate,e);if(n!==null){n.flags&=32767,ve=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=n}while(e!==null);Ge=6,ve=null}function pm(e,t,n,l,o,c,h,p,v){e.cancelPendingCommit=null;do $l();while(it!==0);if((Oe&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(c=t.lanes|t.childLanes,c|=Eo,av(e,n,c,h,p,v),e===Le&&(ve=Le=null,xe=0),ns=t,Xn=e,as=n,Cu=c,Du=o,lm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,M0(Ji,function(){return _m(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,o=$.p,$.p=2,h=Oe,Oe|=4;try{v0(e,t,n)}finally{Oe=h,$.p=o,L.T=l}}it=1,ym(),vm(),bm()}}function ym(){if(it===1){it=0;var e=Xn,t=ns,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var l=$.p;$.p=2;var o=Oe;Oe|=4;try{Wh(t,e);var c=Ku,h=id(e.containerInfo),p=c.focusedElem,v=c.selectionRange;if(h!==p&&p&&p.ownerDocument&&sd(p.ownerDocument.documentElement,p)){if(v!==null&&_o(p)){var R=v.start,U=v.end;if(U===void 0&&(U=R),"selectionStart"in p)p.selectionStart=R,p.selectionEnd=Math.min(U,p.value.length);else{var B=p.ownerDocument||document,M=B&&B.defaultView||window;if(M.getSelection){var C=M.getSelection(),le=p.textContent.length,ae=Math.min(v.start,le),Ce=v.end===void 0?ae:Math.min(v.end,le);!C.extend&&ae>Ce&&(h=Ce,Ce=ae,ae=h);var x=ad(p,ae),w=ad(p,Ce);if(x&&w&&(C.rangeCount!==1||C.anchorNode!==x.node||C.anchorOffset!==x.offset||C.focusNode!==w.node||C.focusOffset!==w.offset)){var E=B.createRange();E.setStart(x.node,x.offset),C.removeAllRanges(),ae>Ce?(C.addRange(E),C.extend(w.node,w.offset)):(E.setEnd(w.node,w.offset),C.addRange(E))}}}}for(B=[],C=p;C=C.parentNode;)C.nodeType===1&&B.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<B.length;p++){var j=B[p];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}er=!!Ju,Ku=Ju=null}finally{Oe=o,$.p=l,L.T=n}}e.current=t,it=2}}function vm(){if(it===2){it=0;var e=Xn,t=ns,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var l=$.p;$.p=2;var o=Oe;Oe|=4;try{Ih(e,t.alternate,t)}finally{Oe=o,$.p=l,L.T=n}}it=3}}function bm(){if(it===4||it===3){it=0,Ky();var e=Xn,t=ns,n=as,l=lm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,ns=Xn=null,Sm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Yn=null),Wr(n),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(As,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=L.T,o=$.p,$.p=2,L.T=null;try{for(var c=e.onRecoverableError,h=0;h<l.length;h++){var p=l[h];c(p.value,{componentStack:p.stack})}}finally{L.T=t,$.p=o}}(as&3)!==0&&$l(),nn(e),o=e.pendingLanes,(n&4194090)!==0&&(o&42)!==0?e===Lu?oi++:(oi=0,Lu=e):oi=0,ui(0)}}function Sm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$s(t)))}function $l(e){return ym(),vm(),bm(),_m()}function _m(){if(it!==5)return!1;var e=Xn,t=Cu;Cu=0;var n=Wr(as),l=L.T,o=$.p;try{$.p=32>n?32:n,L.T=null,n=Du,Du=null;var c=Xn,h=as;if(it=0,ns=Xn=null,as=0,(Oe&6)!==0)throw Error(i(331));var p=Oe;if(Oe|=4,sm(c.current),tm(c,c.current,h,n),Oe=p,ui(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(As,c)}catch{}return!0}finally{$.p=o,L.T=l,Sm(e,t)}}function wm(e,t,n){t=qt(n,t),t=fu(e.stateNode,t,2),e=jn(e,t,2),e!==null&&(Es(e,2),nn(e))}function De(e,t,n){if(e.tag===3)wm(e,e,n);else for(;t!==null;){if(t.tag===3){wm(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yn===null||!Yn.has(l))){e=qt(n,e),n=Eh(2),l=jn(t,n,2),l!==null&&(Oh(n,l,t,e),Es(l,2),nn(l));break}}t=t.return}}function qu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new _0;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(n)||(Ou=!0,o.add(n),e=E0.bind(null,e,t,n),t.then(e,e))}function E0(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Le===e&&(xe&n)===n&&(Ge===4||Ge===3&&(xe&62914560)===xe&&300>Ft()-Nu?(Oe&2)===0&&ss(e,0):Ru|=n,ts===xe&&(ts=0)),nn(e)}function xm(e,t){t===0&&(t=bf()),e=ka(e,t),e!==null&&(Es(e,t),nn(e))}function O0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xm(e,n)}function R0(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),xm(e,n)}function M0(e,t){return Ir(e,t)}var Vl=null,ls=null,Bu=!1,Yl=!1,Hu=!1,ba=0;function nn(e){e!==ls&&e.next===null&&(ls===null?Vl=ls=e:ls=ls.next=e),Yl=!0,Bu||(Bu=!0,C0())}function ui(e,t){if(!Hu&&Yl){Hu=!0;do for(var n=!1,l=Vl;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var c=0;else{var h=l.suspendedLanes,p=l.pingedLanes;c=(1<<31-At(42|e)+1)-1,c&=o&~(h&~p),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,Om(l,c))}else c=xe,c=Zi(l,l===Le?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||Ts(l,c)||(n=!0,Om(l,c));l=l.next}while(n);Hu=!1}}function N0(){Am()}function Am(){Yl=Bu=!1;var e=0;ba!==0&&(H0()&&(e=ba),ba=0);for(var t=Ft(),n=null,l=Vl;l!==null;){var o=l.next,c=Tm(l,t);c===0?(l.next=null,n===null?Vl=o:n.next=o,o===null&&(ls=n)):(n=l,(e!==0||(c&3)!==0)&&(Yl=!0)),l=o}ui(e)}function Tm(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-At(c),p=1<<h,v=o[h];v===-1?((p&n)===0||(p&l)!==0)&&(o[h]=nv(p,t)):v<=t&&(e.expiredLanes|=p),c&=~p}if(t=Le,n=xe,n=Zi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Zr(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ts(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Zr(l),Wr(n)){case 2:case 8:n=pf;break;case 32:n=Ji;break;case 268435456:n=yf;break;default:n=Ji}return l=Em.bind(null,e),n=Ir(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Zr(l),e.callbackPriority=2,e.callbackNode=null,2}function Em(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if($l()&&e.callbackNode!==n)return null;var l=xe;return l=Zi(e,e===Le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(om(e,l,t),Tm(e,Ft()),e.callbackNode!=null&&e.callbackNode===n?Em.bind(null,e):null)}function Om(e,t){if($l())return null;om(e,t,!0)}function C0(){G0(function(){(Oe&6)!==0?Ir(gf,N0):Am()})}function ku(){return ba===0&&(ba=vf()),ba}function Rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tl(""+e)}function Mm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function D0(e,t,n,l,o){if(t==="submit"&&n&&n.stateNode===o){var c=Rm((o[yt]||null).action),h=l.submitter;h&&(t=(t=h[yt]||null)?Rm(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var p=new il("action","action",null,l,o);e.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ba!==0){var v=h?Mm(o,h):new FormData(o);lu(n,{pending:!0,data:v,method:o.method,action:c},null,v)}}else typeof c=="function"&&(p.preventDefault(),v=h?Mm(o,h):new FormData(o),lu(n,{pending:!0,data:v,method:o.method,action:c},c,v))},currentTarget:o}]})}}for(var Gu=0;Gu<To.length;Gu++){var $u=To[Gu],L0=$u.toLowerCase(),U0=$u[0].toUpperCase()+$u.slice(1);Xt(L0,"on"+U0)}Xt(od,"onAnimationEnd"),Xt(ud,"onAnimationIteration"),Xt(cd,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Fv,"onTransitionRun"),Xt(Pv,"onTransitionStart"),Xt(Wv,"onTransitionCancel"),Xt(fd,"onTransitionEnd"),Na("onMouseEnter",["mouseout","mouseover"]),Na("onMouseLeave",["mouseout","mouseover"]),Na("onPointerEnter",["pointerout","pointerover"]),Na("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ci));function Nm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],o=l.event;l=l.listeners;e:{var c=void 0;if(t)for(var h=l.length-1;0<=h;h--){var p=l[h],v=p.instance,R=p.currentTarget;if(p=p.listener,v!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=R;try{c(o)}catch(U){Cl(U)}o.currentTarget=null,c=v}else for(h=0;h<l.length;h++){if(p=l[h],v=p.instance,R=p.currentTarget,p=p.listener,v!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=R;try{c(o)}catch(U){Cl(U)}o.currentTarget=null,c=v}}}}function be(e,t){var n=t[eo];n===void 0&&(n=t[eo]=new Set);var l=e+"__bubble";n.has(l)||(Cm(t,e,2,!1),n.add(l))}function Vu(e,t,n){var l=0;t&&(l|=4),Cm(n,e,l,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[Xl]){e[Xl]=!0,Af.forEach(function(n){n!=="selectionchange"&&(j0.has(n)||Vu(n,!1,e),Vu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,Vu("selectionchange",!1,t))}}function Cm(e,t,n,l){switch(tg(t)){case 2:var o=ob;break;case 8:o=ub;break;default:o=sc}n=o.bind(null,t,n,e),o=void 0,!fo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Xu(e,t,n,l,o){var c=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var p=l.stateNode.containerInfo;if(p===o)break;if(h===4)for(h=l.return;h!==null;){var v=h.tag;if((v===3||v===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;p!==null;){if(h=Oa(p),h===null)return;if(v=h.tag,v===5||v===6||v===26||v===27){l=c=h;continue e}p=p.parentNode}}l=l.return}Bf(function(){var R=c,U=uo(n),B=[];e:{var M=dd.get(e);if(M!==void 0){var C=il,le=e;switch(e){case"keypress":if(al(n)===0)break e;case"keydown":case"keyup":C=Mv;break;case"focusin":le="focus",C=po;break;case"focusout":le="blur",C=po;break;case"beforeblur":case"afterblur":C=po;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Dv;break;case od:case ud:case cd:C=Sv;break;case fd:C=Uv;break;case"scroll":case"scrollend":C=gv;break;case"wheel":C=zv;break;case"copy":case"cut":case"paste":C=wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Vf;break;case"toggle":case"beforetoggle":C=Bv}var ae=(t&4)!==0,Ce=!ae&&(e==="scroll"||e==="scrollend"),x=ae?M!==null?M+"Capture":null:M;ae=[];for(var w=R,E;w!==null;){var j=w;if(E=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||E===null||x===null||(j=Ms(w,x),j!=null&&ae.push(fi(w,j,E))),Ce)break;w=w.return}0<ae.length&&(M=new C(M,le,null,n,U),B.push({event:M,listeners:ae}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",M&&n!==oo&&(le=n.relatedTarget||n.fromElement)&&(Oa(le)||le[Ea]))break e;if((C||M)&&(M=U.window===U?U:(M=U.ownerDocument)?M.defaultView||M.parentWindow:window,C?(le=n.relatedTarget||n.toElement,C=R,le=le?Oa(le):null,le!==null&&(Ce=f(le),ae=le.tag,le!==Ce||ae!==5&&ae!==27&&ae!==6)&&(le=null)):(C=null,le=R),C!==le)){if(ae=Gf,j="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Vf,j="onPointerLeave",x="onPointerEnter",w="pointer"),Ce=C==null?M:Rs(C),E=le==null?M:Rs(le),M=new ae(j,w+"leave",C,n,U),M.target=Ce,M.relatedTarget=E,j=null,Oa(U)===R&&(ae=new ae(x,w+"enter",le,n,U),ae.target=E,ae.relatedTarget=Ce,j=ae),Ce=j,C&&le)t:{for(ae=C,x=le,w=0,E=ae;E;E=rs(E))w++;for(E=0,j=x;j;j=rs(j))E++;for(;0<w-E;)ae=rs(ae),w--;for(;0<E-w;)x=rs(x),E--;for(;w--;){if(ae===x||x!==null&&ae===x.alternate)break t;ae=rs(ae),x=rs(x)}ae=null}else ae=null;C!==null&&Dm(B,M,C,ae,!1),le!==null&&Ce!==null&&Dm(B,Ce,le,ae,!0)}}e:{if(M=R?Rs(R):window,C=M.nodeName&&M.nodeName.toLowerCase(),C==="select"||C==="input"&&M.type==="file")var K=Ff;else if(If(M))if(Pf)K=Kv;else{K=Qv;var ye=Xv}else C=M.nodeName,!C||C.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?R&&ro(R.elementType)&&(K=Ff):K=Jv;if(K&&(K=K(e,R))){Zf(B,K,n,U);break e}ye&&ye(e,M,R),e==="focusout"&&R&&M.type==="number"&&R.memoizedProps.value!=null&&lo(M,"number",M.value)}switch(ye=R?Rs(R):window,e){case"focusin":(If(ye)||ye.contentEditable==="true")&&(qa=ye,wo=R,qs=null);break;case"focusout":qs=wo=qa=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,ld(B,n,U);break;case"selectionchange":if(Zv)break;case"keydown":case"keyup":ld(B,n,U)}var F;if(vo)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else za?Jf(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(Yf&&n.locale!=="ko"&&(za||se!=="onCompositionStart"?se==="onCompositionEnd"&&za&&(F=Hf()):(Cn=U,ho="value"in Cn?Cn.value:Cn.textContent,za=!0)),ye=Ql(R,se),0<ye.length&&(se=new $f(se,e,null,n,U),B.push({event:se,listeners:ye}),F?se.data=F:(F=Kf(n),F!==null&&(se.data=F)))),(F=kv?Gv(e,n):$v(e,n))&&(se=Ql(R,"onBeforeInput"),0<se.length&&(ye=new $f("onBeforeInput","beforeinput",null,n,U),B.push({event:ye,listeners:se}),ye.data=F)),D0(B,e,R,n,U)}Nm(B,t)})}function fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ql(e,t){for(var n=t+"Capture",l=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Ms(e,n),o!=null&&l.unshift(fi(e,o,c)),o=Ms(e,t),o!=null&&l.push(fi(e,o,c))),e.tag===3)return l;e=e.return}return[]}function rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dm(e,t,n,l,o){for(var c=t._reactName,h=[];n!==null&&n!==l;){var p=n,v=p.alternate,R=p.stateNode;if(p=p.tag,v!==null&&v===l)break;p!==5&&p!==26&&p!==27||R===null||(v=R,o?(R=Ms(n,c),R!=null&&h.unshift(fi(n,R,v))):o||(R=Ms(n,c),R!=null&&h.push(fi(n,R,v)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var z0=/\r\n?/g,q0=/\u0000|\uFFFD/g;function Lm(e){return(typeof e=="string"?e:""+e).replace(z0,`
`).replace(q0,"")}function Um(e,t){return t=Lm(t),Lm(e)===t}function Jl(){}function Ne(e,t,n,l,o,c){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||La(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&La(e,""+l);break;case"className":Pi(e,"class",l);break;case"tabIndex":Pi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pi(e,n,l);break;case"style":zf(e,l,c);break;case"data":if(t!=="object"){Pi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=tl(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&Ne(e,t,"name",o.name,o,null),Ne(e,t,"formEncType",o.formEncType,o,null),Ne(e,t,"formMethod",o.formMethod,o,null),Ne(e,t,"formTarget",o.formTarget,o,null)):(Ne(e,t,"encType",o.encType,o,null),Ne(e,t,"method",o.method,o,null),Ne(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=tl(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Jl);break;case"onScroll":l!=null&&be("scroll",e);break;case"onScrollEnd":l!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=tl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":be("beforetoggle",e),be("toggle",e),Fi(e,"popover",l);break;case"xlinkActuate":cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":cn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":cn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":cn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":cn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hv.get(n)||n,Fi(e,n,l))}}function Qu(e,t,n,l,o,c){switch(n){case"style":zf(e,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?La(e,l):(typeof l=="number"||typeof l=="bigint")&&La(e,""+l);break;case"onScroll":l!=null&&be("scroll",e);break;case"onScrollEnd":l!=null&&be("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Jl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),c=e[yt]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof l=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,o);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Fi(e,n,l)}}}function lt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var l=!1,o=!1,c;for(c in n)if(n.hasOwnProperty(c)){var h=n[c];if(h!=null)switch(c){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ne(e,t,c,h,n,null)}}o&&Ne(e,t,"srcSet",n.srcSet,n,null),l&&Ne(e,t,"src",n.src,n,null);return;case"input":be("invalid",e);var p=c=h=o=null,v=null,R=null;for(l in n)if(n.hasOwnProperty(l)){var U=n[l];if(U!=null)switch(l){case"name":o=U;break;case"type":h=U;break;case"checked":v=U;break;case"defaultChecked":R=U;break;case"value":c=U;break;case"defaultValue":p=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,t));break;default:Ne(e,t,l,U,n,null)}}Df(e,c,p,v,R,h,o,!1),Wi(e);return;case"select":be("invalid",e),l=h=c=null;for(o in n)if(n.hasOwnProperty(o)&&(p=n[o],p!=null))switch(o){case"value":c=p;break;case"defaultValue":h=p;break;case"multiple":l=p;default:Ne(e,t,o,p,n,null)}t=c,n=h,e.multiple=!!l,t!=null?Da(e,!!l,t,!1):n!=null&&Da(e,!!l,n,!0);return;case"textarea":be("invalid",e),c=o=l=null;for(h in n)if(n.hasOwnProperty(h)&&(p=n[h],p!=null))switch(h){case"value":l=p;break;case"defaultValue":o=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:Ne(e,t,h,p,n,null)}Uf(e,l,o,c),Wi(e);return;case"option":for(v in n)if(n.hasOwnProperty(v)&&(l=n[v],l!=null))switch(v){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ne(e,t,v,l,n,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(l=0;l<ci.length;l++)be(ci[l],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(l=n[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ne(e,t,R,l,n,null)}return;default:if(ro(t)){for(U in n)n.hasOwnProperty(U)&&(l=n[U],l!==void 0&&Qu(e,t,U,l,n,void 0));return}}for(p in n)n.hasOwnProperty(p)&&(l=n[p],l!=null&&Ne(e,t,p,l,n,null))}function B0(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,h=null,p=null,v=null,R=null,U=null;for(C in n){var B=n[C];if(n.hasOwnProperty(C)&&B!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":v=B;default:l.hasOwnProperty(C)||Ne(e,t,C,null,l,B)}}for(var M in l){var C=l[M];if(B=n[M],l.hasOwnProperty(M)&&(C!=null||B!=null))switch(M){case"type":c=C;break;case"name":o=C;break;case"checked":R=C;break;case"defaultChecked":U=C;break;case"value":h=C;break;case"defaultValue":p=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(137,t));break;default:C!==B&&Ne(e,t,M,C,l,B)}}io(e,h,p,v,R,U,c,o);return;case"select":C=h=p=M=null;for(c in n)if(v=n[c],n.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":C=v;default:l.hasOwnProperty(c)||Ne(e,t,c,null,l,v)}for(o in l)if(c=l[o],v=n[o],l.hasOwnProperty(o)&&(c!=null||v!=null))switch(o){case"value":M=c;break;case"defaultValue":p=c;break;case"multiple":h=c;default:c!==v&&Ne(e,t,o,c,l,v)}t=p,n=h,l=C,M!=null?Da(e,!!n,M,!1):!!l!=!!n&&(t!=null?Da(e,!!n,t,!0):Da(e,!!n,n?[]:"",!1));return;case"textarea":C=M=null;for(p in n)if(o=n[p],n.hasOwnProperty(p)&&o!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Ne(e,t,p,null,l,o)}for(h in l)if(o=l[h],c=n[h],l.hasOwnProperty(h)&&(o!=null||c!=null))switch(h){case"value":M=o;break;case"defaultValue":C=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==c&&Ne(e,t,h,o,l,c)}Lf(e,M,C);return;case"option":for(var le in n)if(M=n[le],n.hasOwnProperty(le)&&M!=null&&!l.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Ne(e,t,le,null,l,M)}for(v in l)if(M=l[v],C=n[v],l.hasOwnProperty(v)&&M!==C&&(M!=null||C!=null))switch(v){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Ne(e,t,v,M,l,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in n)M=n[ae],n.hasOwnProperty(ae)&&M!=null&&!l.hasOwnProperty(ae)&&Ne(e,t,ae,null,l,M);for(R in l)if(M=l[R],C=n[R],l.hasOwnProperty(R)&&M!==C&&(M!=null||C!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,t));break;default:Ne(e,t,R,M,l,C)}return;default:if(ro(t)){for(var Ce in n)M=n[Ce],n.hasOwnProperty(Ce)&&M!==void 0&&!l.hasOwnProperty(Ce)&&Qu(e,t,Ce,void 0,l,M);for(U in l)M=l[U],C=n[U],!l.hasOwnProperty(U)||M===C||M===void 0&&C===void 0||Qu(e,t,U,M,l,C);return}}for(var x in n)M=n[x],n.hasOwnProperty(x)&&M!=null&&!l.hasOwnProperty(x)&&Ne(e,t,x,null,l,M);for(B in l)M=l[B],C=n[B],!l.hasOwnProperty(B)||M===C||M==null&&C==null||Ne(e,t,B,M,l,C)}var Ju=null,Ku=null;function Kl(e){return e.nodeType===9?e:e.ownerDocument}function jm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zu=null;function H0(){var e=window.event;return e&&e.type==="popstate"?e===Zu?!1:(Zu=e,!0):(Zu=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,G0=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(e){return Bm.resolve(null).then(e).catch($0)}:qm;function $0(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function Hm(e,t){var n=t,l=0,o=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(0<l&&8>l){n=l;var h=e.ownerDocument;if(n&1&&di(h.documentElement),n&2&&di(h.body),n&4)for(n=h.head,di(n),h=n.firstChild;h;){var p=h.nextSibling,v=h.nodeName;h[Os]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=p}}if(o===0){e.removeChild(c),Si(t);return}o--}else n==="$"||n==="$?"||n==="$!"?o++:l=n.charCodeAt(0)-48;else l=0;n=c}while(n);Si(t)}function Fu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Fu(n),to(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function V0(e,t,n,l){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Os])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function Y0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Jt(e.nextSibling),e===null))return null;return e}function Pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function X0(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Wu=null;function km(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Gm(e,t,n){switch(t=Kl(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function di(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);to(e)}var Vt=new Map,$m=new Set;function Il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var An=$.d;$.d={f:Q0,r:J0,D:K0,C:I0,L:Z0,m:F0,X:W0,S:P0,M:eb};function Q0(){var e=An.f(),t=kl();return e||t}function J0(e){var t=Ra(e);t!==null&&t.tag===5&&t.type==="form"?oh(t):An.r(e)}var os=typeof document>"u"?null:document;function Vm(e,t,n){var l=os;if(l&&typeof t=="string"&&t){var o=zt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),$m.has(o)||($m.add(o),e={rel:e,crossOrigin:n,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),lt(t,"link",e),We(t),l.head.appendChild(t)))}}function K0(e){An.D(e),Vm("dns-prefetch",e,null)}function I0(e,t){An.C(e,t),Vm("preconnect",e,t)}function Z0(e,t,n){An.L(e,t,n);var l=os;if(l&&e&&t){var o='link[rel="preload"][as="'+zt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+zt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+zt(n.imageSizes)+'"]')):o+='[href="'+zt(e)+'"]';var c=o;switch(t){case"style":c=us(e);break;case"script":c=cs(e)}Vt.has(c)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Vt.set(c,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(hi(c))||t==="script"&&l.querySelector(mi(c))||(t=l.createElement("link"),lt(t,"link",e),We(t),l.head.appendChild(t)))}}function F0(e,t){An.m(e,t);var n=os;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+zt(l)+'"][href="'+zt(e)+'"]',c=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=cs(e)}if(!Vt.has(c)&&(e=b({rel:"modulepreload",href:e},t),Vt.set(c,e),n.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(mi(c)))return}l=n.createElement("link"),lt(l,"link",e),We(l),n.head.appendChild(l)}}}function P0(e,t,n){An.S(e,t,n);var l=os;if(l&&e){var o=Ma(l).hoistableStyles,c=us(e);t=t||"default";var h=o.get(c);if(!h){var p={loading:0,preload:null};if(h=l.querySelector(hi(c)))p.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vt.get(c))&&ec(e,n);var v=h=l.createElement("link");We(v),lt(v,"link",e),v._p=new Promise(function(R,U){v.onload=R,v.onerror=U}),v.addEventListener("load",function(){p.loading|=1}),v.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Zl(h,t,l)}h={type:"stylesheet",instance:h,count:1,state:p},o.set(c,h)}}}function W0(e,t){An.X(e,t);var n=os;if(n&&e){var l=Ma(n).hoistableScripts,o=cs(e),c=l.get(o);c||(c=n.querySelector(mi(o)),c||(e=b({src:e,async:!0},t),(t=Vt.get(o))&&tc(e,t),c=n.createElement("script"),We(c),lt(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function eb(e,t){An.M(e,t);var n=os;if(n&&e){var l=Ma(n).hoistableScripts,o=cs(e),c=l.get(o);c||(c=n.querySelector(mi(o)),c||(e=b({src:e,async:!0,type:"module"},t),(t=Vt.get(o))&&tc(e,t),c=n.createElement("script"),We(c),lt(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function Ym(e,t,n,l){var o=(o=he.current)?Il(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=us(n.href),n=Ma(o).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=us(n.href);var c=Ma(o).hoistableStyles,h=c.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=o.querySelector(hi(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Vt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vt.set(e,n),c||tb(o,e,n,h.state))),t&&l===null)throw Error(i(528,""));return h}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=cs(n),n=Ma(o).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function us(e){return'href="'+zt(e)+'"'}function hi(e){return'link[rel="stylesheet"]['+e+"]"}function Xm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function tb(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),lt(t,"link",n),We(t),e.head.appendChild(t))}function cs(e){return'[src="'+zt(e)+'"]'}function mi(e){return"script[async]"+e}function Qm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+zt(n.href)+'"]');if(l)return t.instance=l,We(l),l;var o=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),We(l),lt(l,"style",o),Zl(l,n.precedence,e),t.instance=l;case"stylesheet":o=us(n.href);var c=e.querySelector(hi(o));if(c)return t.state.loading|=4,t.instance=c,We(c),c;l=Xm(n),(o=Vt.get(o))&&ec(l,o),c=(e.ownerDocument||e).createElement("link"),We(c);var h=c;return h._p=new Promise(function(p,v){h.onload=p,h.onerror=v}),lt(c,"link",l),t.state.loading|=4,Zl(c,n.precedence,e),t.instance=c;case"script":return c=cs(n.src),(o=e.querySelector(mi(c)))?(t.instance=o,We(o),o):(l=n,(o=Vt.get(c))&&(l=b({},n),tc(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),We(o),lt(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Zl(l,n.precedence,e));return t.instance}function Zl(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,c=o,h=0;h<l.length;h++){var p=l[h];if(p.dataset.precedence===t)c=p;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ec(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fl=null;function Jm(e,t,n){if(Fl===null){var l=new Map,o=Fl=new Map;o.set(n,l)}else o=Fl,l=o.get(n),l||(l=new Map,o.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var c=n[o];if(!(c[Os]||c[ct]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var p=l.get(h);p?p.push(c):l.set(h,[c])}}return l}function Km(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function nb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Im(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var gi=null;function ab(){}function sb(e,t,n){if(gi===null)throw Error(i(475));var l=gi;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=us(n.href),c=e.querySelector(hi(o));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Pl.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=c,We(c);return}c=e.ownerDocument||e,n=Xm(n),(o=Vt.get(o))&&ec(n,o),c=c.createElement("link"),We(c);var h=c;h._p=new Promise(function(p,v){h.onload=p,h.onerror=v}),lt(c,"link",n),t.instance=c}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=Pl.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function ib(){if(gi===null)throw Error(i(475));var e=gi;return e.stylesheets&&e.count===0&&nc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Pl(){if(this.count--,this.count===0){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wl=null;function nc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wl=new Map,t.forEach(lb,e),Wl=null,Pl.call(e))}function lb(e,t){if(!(t.state.loading&4)){var n=Wl.get(e);if(n)var l=n.get(null);else{n=new Map,Wl.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var h=o[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),l=h)}l&&n.set(null,l)}o=t.instance,h=o.getAttribute("data-precedence"),c=n.get(h)||l,c===l&&n.set(null,o),n.set(h,o),this.count++,l=Pl.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var pi={$$typeof:Y,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function rb(e,t,n,l,o,c,h,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.hiddenUpdates=Fr(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Zm(e,t,n,l,o,c,h,p,v,R,U,B){return e=new rb(e,t,n,h,p,v,R,B),t=1,c===!0&&(t|=24),c=Et(3,null,null,t),e.current=c,c.stateNode=e,t=qo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:l,isDehydrated:n,cache:t},Go(c),e}function Fm(e){return e?(e=Ga,e):Ga}function Pm(e,t,n,l,o,c){o=Fm(o),l.context===null?l.context=o:l.pendingContext=o,l=Un(t),l.payload={element:n},c=c===void 0?null:c,c!==null&&(l.callback=c),n=jn(e,l,t),n!==null&&(Ct(n,e,t),Qs(n,e,t))}function Wm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ac(e,t){Wm(e,t),(e=e.alternate)&&Wm(e,t)}function eg(e){if(e.tag===13){var t=ka(e,67108864);t!==null&&Ct(t,e,67108864),ac(e,67108864)}}var er=!0;function ob(e,t,n,l){var o=L.T;L.T=null;var c=$.p;try{$.p=2,sc(e,t,n,l)}finally{$.p=c,L.T=o}}function ub(e,t,n,l){var o=L.T;L.T=null;var c=$.p;try{$.p=8,sc(e,t,n,l)}finally{$.p=c,L.T=o}}function sc(e,t,n,l){if(er){var o=ic(l);if(o===null)Xu(e,t,l,tr,n),ng(e,l);else if(fb(o,e,t,n,l))l.stopPropagation();else if(ng(e,l),t&4&&-1<cb.indexOf(e)){for(;o!==null;){var c=Ra(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=na(c.pendingLanes);if(h!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;h;){var v=1<<31-At(h);p.entanglements[1]|=v,h&=~v}nn(c),(Oe&6)===0&&(Bl=Ft()+500,ui(0))}}break;case 13:p=ka(c,2),p!==null&&Ct(p,c,2),kl(),ac(c,2)}if(c=ic(l),c===null&&Xu(e,t,l,tr,n),c===o)break;o=c}o!==null&&l.stopPropagation()}else Xu(e,t,l,null,n)}}function ic(e){return e=uo(e),lc(e)}var tr=null;function lc(e){if(tr=null,e=Oa(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return tr=e,null}function tg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Iy()){case gf:return 2;case pf:return 8;case Ji:case Zy:return 32;case yf:return 268435456;default:return 32}default:return 32}}var rc=!1,Kn=null,In=null,Zn=null,yi=new Map,vi=new Map,Fn=[],cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ng(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":yi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(t.pointerId)}}function bi(e,t,n,l,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Ra(t),t!==null&&eg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function fb(e,t,n,l,o){switch(t){case"focusin":return Kn=bi(Kn,e,t,n,l,o),!0;case"dragenter":return In=bi(In,e,t,n,l,o),!0;case"mouseover":return Zn=bi(Zn,e,t,n,l,o),!0;case"pointerover":var c=o.pointerId;return yi.set(c,bi(yi.get(c)||null,e,t,n,l,o)),!0;case"gotpointercapture":return c=o.pointerId,vi.set(c,bi(vi.get(c)||null,e,t,n,l,o)),!0}return!1}function ag(e){var t=Oa(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,sv(e.priority,function(){if(n.tag===13){var l=Nt();l=Pr(l);var o=ka(n,l);o!==null&&Ct(o,n,l),ac(n,l)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ic(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);oo=l,n.target.dispatchEvent(l),oo=null}else return t=Ra(n),t!==null&&eg(t),e.blockedOn=n,!1;t.shift()}return!0}function sg(e,t,n){nr(e)&&n.delete(t)}function db(){rc=!1,Kn!==null&&nr(Kn)&&(Kn=null),In!==null&&nr(In)&&(In=null),Zn!==null&&nr(Zn)&&(Zn=null),yi.forEach(sg),vi.forEach(sg)}function ar(e,t){e.blockedOn===t&&(e.blockedOn=null,rc||(rc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,db)))}var sr=null;function ig(e){sr!==e&&(sr=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sr===e&&(sr=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(lc(l||n)===null)continue;break}var c=Ra(n);c!==null&&(e.splice(t,3),t-=3,lu(c,{pending:!0,data:o,method:n.method,action:l},l,o))}}))}function Si(e){function t(v){return ar(v,e)}Kn!==null&&ar(Kn,e),In!==null&&ar(In,e),Zn!==null&&ar(Zn,e),yi.forEach(t),vi.forEach(t);for(var n=0;n<Fn.length;n++){var l=Fn[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Fn.length&&(n=Fn[0],n.blockedOn===null);)ag(n),n.blockedOn===null&&Fn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var o=n[l],c=n[l+1],h=o[yt]||null;if(typeof c=="function")h||ig(n);else if(h){var p=null;if(c&&c.hasAttribute("formAction")){if(o=c,h=c[yt]||null)p=h.formAction;else if(lc(o)!==null)continue}else p=h.action;typeof p=="function"?n[l+1]=p:(n.splice(l,3),l-=3),ig(n)}}}function oc(e){this._internalRoot=e}ir.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=Nt();Pm(n,l,e,t,null,null)},ir.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pm(e.current,2,null,e,null,null),kl(),t[Ea]=null}};function ir(e){this._internalRoot=e}ir.prototype.unstable_scheduleHydration=function(e){if(e){var t=wf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fn.length&&t!==0&&t<Fn[n].priority;n++);Fn.splice(n,0,e),n===0&&ag(e)}};var lg=a.version;if(lg!=="19.1.0")throw Error(i(527,lg,"19.1.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var hb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lr.isDisabled&&lr.supportsFiber)try{As=lr.inject(hb),xt=lr}catch{}}return wi.createRoot=function(e,t){if(!u(e))throw Error(i(299));var n=!1,l="",o=wh,c=xh,h=Ah,p=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(p=t.unstable_transitionCallbacks)),t=Zm(e,1,!1,null,null,n,l,o,c,h,p,null),e[Ea]=t.current,Yu(e),new oc(t)},wi.hydrateRoot=function(e,t,n){if(!u(e))throw Error(i(299));var l=!1,o="",c=wh,h=xh,p=Ah,v=null,R=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks),n.formState!==void 0&&(R=n.formState)),t=Zm(e,1,!0,t,n??null,l,o,c,h,p,v,R),t.context=Fm(null),n=t.current,l=Nt(),l=Pr(l),o=Un(l),o.callback=null,jn(n,o,l),n=l,t.current.lanes=n,Es(t,n),nn(t),e[Ea]=t.current,Yu(e),new ir(t)},wi.version="19.1.0",wi}var pg;function Tb(){if(pg)return cc.exports;pg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),cc.exports=Ab(),cc.exports}var Eb=Tb();const Ob=dp(Eb),Rb="_App_12dge_3",Mb={App:Rb};var It=Yc();const _e=dp(It),Nb="_mainScreen_1ajee_3",Cb="_worldMapContainer_1ajee_23",Db="_sidebar_1ajee_43",Lb="_moves_1ajee_63",xi={mainScreen:Nb,worldMapContainer:Cb,sidebar:Db,moves:Lb},Ub="_tileView_16qwl_3",jb="_entities_16qwl_45",yg={tileView:Ub,entities:jb};function zb(r,a){return[r,a&&`${a.icon} ${a.title}`,a==null?void 0:a.description].filter(Boolean).join(`
`)}const hp=({tile:r,onClick:a})=>{const{icon:s}=r.data.feature??{icon:" "},{color:i,title:u}=r.data.terrain,f=r.data.feature,d=zb(u,f);return A.jsxs("div",{className:yg.tileView,style:{backgroundColor:i},title:d,onClick:()=>a==null?void 0:a(r),children:[A.jsx("span",{children:s}),A.jsx("div",{className:yg.entities,children:r.entities.map(m=>m.icon)})]})},qb="_body_13sxw_47",Bb="_tileWrapper_13sxw_61",Hb="_info_13sxw_79",kb="_terrainLine_13sxw_97",Gb="_field_13sxw_127",$b="_emptyFeature_13sxw_143",Vb="_entityList_13sxw_157",Yb="_entityListItem_13sxw_173",Xb="_entityIcon_13sxw_205",un={body:qb,tileWrapper:Bb,info:Hb,terrainLine:kb,field:Gb,emptyFeature:$b,entityList:Vb,entityListItem:Yb,entityIcon:Xb},Qb="_container_1sq6x_3",Jb="_collapsed_1sq6x_29",Kb="_headerWrapper_1sq6x_29",Ib="_header_1sq6x_29",Zb="_empty_1sq6x_45",Fb="_toggleButton_1sq6x_89",Pb="_body_1sq6x_117",Tn={container:Qb,collapsed:Jb,headerWrapper:Kb,header:Ib,empty:Zb,toggleButton:Fb,body:Pb},fe=r=>typeof r=="string",Ai=()=>{let r,a;const s=new Promise((i,u)=>{r=i,a=u});return s.resolve=r,s.reject=a,s},vg=r=>r==null?"":""+r,Wb=(r,a,s)=>{r.forEach(i=>{a[i]&&(s[i]=a[i])})},eS=/###/g,bg=r=>r&&r.indexOf("###")>-1?r.replace(eS,"."):r,Sg=r=>!r||fe(r),Ui=(r,a,s)=>{const i=fe(a)?a.split("."):a;let u=0;for(;u<i.length-1;){if(Sg(r))return{};const f=bg(i[u]);!r[f]&&s&&(r[f]=new s),Object.prototype.hasOwnProperty.call(r,f)?r=r[f]:r={},++u}return Sg(r)?{}:{obj:r,k:bg(i[u])}},_g=(r,a,s)=>{const{obj:i,k:u}=Ui(r,a,Object);if(i!==void 0||a.length===1){i[u]=s;return}let f=a[a.length-1],d=a.slice(0,a.length-1),m=Ui(r,d,Object);for(;m.obj===void 0&&d.length;)f=`${d[d.length-1]}.${f}`,d=d.slice(0,d.length-1),m=Ui(r,d,Object),m!=null&&m.obj&&typeof m.obj[`${m.k}.${f}`]<"u"&&(m.obj=void 0);m.obj[`${m.k}.${f}`]=s},tS=(r,a,s,i)=>{const{obj:u,k:f}=Ui(r,a,Object);u[f]=u[f]||[],u[f].push(s)},xr=(r,a)=>{const{obj:s,k:i}=Ui(r,a);if(s&&Object.prototype.hasOwnProperty.call(s,i))return s[i]},nS=(r,a,s)=>{const i=xr(r,s);return i!==void 0?i:xr(a,s)},mp=(r,a,s)=>{for(const i in a)i!=="__proto__"&&i!=="constructor"&&(i in r?fe(r[i])||r[i]instanceof String||fe(a[i])||a[i]instanceof String?s&&(r[i]=a[i]):mp(r[i],a[i],s):r[i]=a[i]);return r},fs=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var aS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const sS=r=>fe(r)?r.replace(/[&<>"'\/]/g,a=>aS[a]):r;class iS{constructor(a){this.capacity=a,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(a){const s=this.regExpMap.get(a);if(s!==void 0)return s;const i=new RegExp(a);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(a,i),this.regExpQueue.push(a),i}}const lS=[" ",",","?","!",";"],rS=new iS(20),oS=(r,a,s)=>{a=a||"",s=s||"";const i=lS.filter(d=>a.indexOf(d)<0&&s.indexOf(d)<0);if(i.length===0)return!0;const u=rS.getRegExp(`(${i.map(d=>d==="?"?"\\?":d).join("|")})`);let f=!u.test(r);if(!f){const d=r.indexOf(s);d>0&&!u.test(r.substring(0,d))&&(f=!0)}return f},Rc=(r,a,s=".")=>{if(!r)return;if(r[a])return Object.prototype.hasOwnProperty.call(r,a)?r[a]:void 0;const i=a.split(s);let u=r;for(let f=0;f<i.length;){if(!u||typeof u!="object")return;let d,m="";for(let y=f;y<i.length;++y)if(y!==f&&(m+=s),m+=i[y],d=u[m],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&y<i.length-1)continue;f+=y-f+1;break}u=d}return u},Bi=r=>r==null?void 0:r.replace("_","-"),uS={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,a){var s,i;(i=(s=console==null?void 0:console[r])==null?void 0:s.apply)==null||i.call(s,console,a)}};class Ar{constructor(a,s={}){this.init(a,s)}init(a,s={}){this.prefix=s.prefix||"i18next:",this.logger=a||uS,this.options=s,this.debug=s.debug}log(...a){return this.forward(a,"log","",!0)}warn(...a){return this.forward(a,"warn","",!0)}error(...a){return this.forward(a,"error","")}deprecate(...a){return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(a,s,i,u){return u&&!this.debug?null:(fe(a[0])&&(a[0]=`${i}${this.prefix} ${a[0]}`),this.logger[s](a))}create(a){return new Ar(this.logger,{prefix:`${this.prefix}:${a}:`,...this.options})}clone(a){return a=a||this.options,a.prefix=a.prefix||this.prefix,new Ar(this.logger,a)}}var rn=new Ar;class Ur{constructor(){this.observers={}}on(a,s){return a.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const u=this.observers[i].get(s)||0;this.observers[i].set(s,u+1)}),this}off(a,s){if(this.observers[a]){if(!s){delete this.observers[a];return}this.observers[a].delete(s)}}emit(a,...s){this.observers[a]&&Array.from(this.observers[a].entries()).forEach(([u,f])=>{for(let d=0;d<f;d++)u(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([u,f])=>{for(let d=0;d<f;d++)u.apply(u,[a,...s])})}}class wg extends Ur{constructor(a,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=a||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}removeNamespaces(a){const s=this.options.ns.indexOf(a);s>-1&&this.options.ns.splice(s,1)}getResource(a,s,i,u={}){var g,b;const f=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,d=u.ignoreJSONStructure!==void 0?u.ignoreJSONStructure:this.options.ignoreJSONStructure;let m;a.indexOf(".")>-1?m=a.split("."):(m=[a,s],i&&(Array.isArray(i)?m.push(...i):fe(i)&&f?m.push(...i.split(f)):m.push(i)));const y=xr(this.data,m);return!y&&!s&&!i&&a.indexOf(".")>-1&&(a=m[0],s=m[1],i=m.slice(2).join(".")),y||!d||!fe(i)?y:Rc((b=(g=this.data)==null?void 0:g[a])==null?void 0:b[s],i,f)}addResource(a,s,i,u,f={silent:!1}){const d=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator;let m=[a,s];i&&(m=m.concat(d?i.split(d):i)),a.indexOf(".")>-1&&(m=a.split("."),u=s,s=m[1]),this.addNamespaces(s),_g(this.data,m,u),f.silent||this.emit("added",a,s,i,u)}addResources(a,s,i,u={silent:!1}){for(const f in i)(fe(i[f])||Array.isArray(i[f]))&&this.addResource(a,s,f,i[f],{silent:!0});u.silent||this.emit("added",a,s,i)}addResourceBundle(a,s,i,u,f,d={silent:!1,skipCopy:!1}){let m=[a,s];a.indexOf(".")>-1&&(m=a.split("."),u=i,i=s,s=m[1]),this.addNamespaces(s);let y=xr(this.data,m)||{};d.skipCopy||(i=JSON.parse(JSON.stringify(i))),u?mp(y,i,f):y={...y,...i},_g(this.data,m,y),d.silent||this.emit("added",a,s,i)}removeResourceBundle(a,s){this.hasResourceBundle(a,s)&&delete this.data[a][s],this.removeNamespaces(s),this.emit("removed",a,s)}hasResourceBundle(a,s){return this.getResource(a,s)!==void 0}getResourceBundle(a,s){return s||(s=this.options.defaultNS),this.getResource(a,s)}getDataByLanguage(a){return this.data[a]}hasLanguageSomeTranslations(a){const s=this.getDataByLanguage(a);return!!(s&&Object.keys(s)||[]).find(u=>s[u]&&Object.keys(s[u]).length>0)}toJSON(){return this.data}}var gp={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,a,s,i,u){return r.forEach(f=>{var d;a=((d=this.processors[f])==null?void 0:d.process(a,s,i,u))??a}),a}};const xg={},Ag=r=>!fe(r)&&typeof r!="boolean"&&typeof r!="number";class Tr extends Ur{constructor(a,s={}){super(),Wb(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=rn.create("translator")}changeLanguage(a){a&&(this.language=a)}exists(a,s={interpolation:{}}){const i={...s};if(a==null)return!1;const u=this.resolve(a,i);return(u==null?void 0:u.res)!==void 0}extractFromKey(a,s){let i=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let f=s.ns||this.options.defaultNS||[];const d=i&&a.indexOf(i)>-1,m=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!oS(a,i,u);if(d&&!m){const y=a.match(this.interpolator.nestingRegexp);if(y&&y.length>0)return{key:a,namespaces:fe(f)?[f]:f};const g=a.split(i);(i!==u||i===u&&this.options.ns.indexOf(g[0])>-1)&&(f=g.shift()),a=g.join(u)}return{key:a,namespaces:fe(f)?[f]:f}}translate(a,s,i){let u=typeof s=="object"?{...s}:s;if(typeof u!="object"&&this.options.overloadTranslationOptionHandler&&(u=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(u={...u}),u||(u={}),a==null)return"";Array.isArray(a)||(a=[String(a)]);const f=u.returnDetails!==void 0?u.returnDetails:this.options.returnDetails,d=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,{key:m,namespaces:y}=this.extractFromKey(a[a.length-1],u),g=y[y.length-1];let b=u.nsSeparator!==void 0?u.nsSeparator:this.options.nsSeparator;b===void 0&&(b=":");const S=u.lng||this.language,O=u.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((S==null?void 0:S.toLowerCase())==="cimode")return O?f?{res:`${g}${b}${m}`,usedKey:m,exactUsedKey:m,usedLng:S,usedNS:g,usedParams:this.getUsedParamsDetails(u)}:`${g}${b}${m}`:f?{res:m,usedKey:m,exactUsedKey:m,usedLng:S,usedNS:g,usedParams:this.getUsedParamsDetails(u)}:m;const T=this.resolve(a,u);let N=T==null?void 0:T.res;const q=(T==null?void 0:T.usedKey)||m,H=(T==null?void 0:T.exactUsedKey)||m,ee=["[object Number]","[object Function]","[object RegExp]"],G=u.joinArrays!==void 0?u.joinArrays:this.options.joinArrays,Y=!this.i18nFormat||this.i18nFormat.handleAsObject,k=u.count!==void 0&&!fe(u.count),J=Tr.hasDefaultValue(u),oe=k?this.pluralResolver.getSuffix(S,u.count,u):"",I=u.ordinal&&k?this.pluralResolver.getSuffix(S,u.count,{ordinal:!1}):"",ue=k&&!u.ordinal&&u.count===0,Z=ue&&u[`defaultValue${this.options.pluralSeparator}zero`]||u[`defaultValue${oe}`]||u[`defaultValue${I}`]||u.defaultValue;let P=N;Y&&!N&&J&&(P=Z);const ie=Ag(P),Ue=Object.prototype.toString.apply(P);if(Y&&P&&ie&&ee.indexOf(Ue)<0&&!(fe(G)&&Array.isArray(P))){if(!u.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Be=this.options.returnedObjectHandler?this.options.returnedObjectHandler(q,P,{...u,ns:y}):`key '${m} (${this.language})' returned an object instead of string.`;return f?(T.res=Be,T.usedParams=this.getUsedParamsDetails(u),T):Be}if(d){const Be=Array.isArray(P),Ve=Be?[]:{},He=Be?H:q;for(const L in P)if(Object.prototype.hasOwnProperty.call(P,L)){const $=`${He}${d}${L}`;J&&!N?Ve[L]=this.translate($,{...u,defaultValue:Ag(Z)?Z[L]:void 0,joinArrays:!1,ns:y}):Ve[L]=this.translate($,{...u,joinArrays:!1,ns:y}),Ve[L]===$&&(Ve[L]=P[L])}N=Ve}}else if(Y&&fe(G)&&Array.isArray(N))N=N.join(G),N&&(N=this.extendTranslation(N,a,u,i));else{let Be=!1,Ve=!1;!this.isValidLookup(N)&&J&&(Be=!0,N=Z),this.isValidLookup(N)||(Ve=!0,N=m);const L=(u.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ve?void 0:N,$=J&&Z!==N&&this.options.updateMissing;if(Ve||Be||$){if(this.logger.log($?"updateKey":"missingKey",S,g,m,$?Z:N),d){const z=this.resolve(m,{...u,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const Ae=this.languageUtils.getFallbackCodes(this.options.fallbackLng,u.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ae&&Ae[0])for(let z=0;z<Ae.length;z++)W.push(Ae[z]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(u.lng||this.language):W.push(u.lng||this.language);const _=(z,Q,V)=>{var Se;const te=J&&V!==N?V:L;this.options.missingKeyHandler?this.options.missingKeyHandler(z,g,Q,te,$,u):(Se=this.backendConnector)!=null&&Se.saveMissing&&this.backendConnector.saveMissing(z,g,Q,te,$,u),this.emit("missingKey",z,g,Q,N)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?W.forEach(z=>{const Q=this.pluralResolver.getSuffixes(z,u);ue&&u[`defaultValue${this.options.pluralSeparator}zero`]&&Q.indexOf(`${this.options.pluralSeparator}zero`)<0&&Q.push(`${this.options.pluralSeparator}zero`),Q.forEach(V=>{_([z],m+V,u[`defaultValue${V}`]||Z)})}):_(W,m,Z))}N=this.extendTranslation(N,a,u,T,i),Ve&&N===m&&this.options.appendNamespaceToMissingKey&&(N=`${g}${b}${m}`),(Ve||Be)&&this.options.parseMissingKeyHandler&&(N=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${b}${m}`:m,Be?N:void 0,u))}return f?(T.res=N,T.usedParams=this.getUsedParamsDetails(u),T):N}extendTranslation(a,s,i,u,f){var y,g;if((y=this.i18nFormat)!=null&&y.parse)a=this.i18nFormat.parse(a,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||u.usedLng,u.usedNS,u.usedKey,{resolved:u});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const b=fe(a)&&(((g=i==null?void 0:i.interpolation)==null?void 0:g.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let S;if(b){const T=a.match(this.interpolator.nestingRegexp);S=T&&T.length}let O=i.replace&&!fe(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(O={...this.options.interpolation.defaultVariables,...O}),a=this.interpolator.interpolate(a,O,i.lng||this.language||u.usedLng,i),b){const T=a.match(this.interpolator.nestingRegexp),N=T&&T.length;S<N&&(i.nest=!1)}!i.lng&&u&&u.res&&(i.lng=this.language||u.usedLng),i.nest!==!1&&(a=this.interpolator.nest(a,(...T)=>(f==null?void 0:f[0])===T[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${s[0]}`),null):this.translate(...T,s),i)),i.interpolation&&this.interpolator.reset()}const d=i.postProcess||this.options.postProcess,m=fe(d)?[d]:d;return a!=null&&(m!=null&&m.length)&&i.applyPostProcessor!==!1&&(a=gp.handle(m,a,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...u,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),a}resolve(a,s={}){let i,u,f,d,m;return fe(a)&&(a=[a]),a.forEach(y=>{if(this.isValidLookup(i))return;const g=this.extractFromKey(y,s),b=g.key;u=b;let S=g.namespaces;this.options.fallbackNS&&(S=S.concat(this.options.fallbackNS));const O=s.count!==void 0&&!fe(s.count),T=O&&!s.ordinal&&s.count===0,N=s.context!==void 0&&(fe(s.context)||typeof s.context=="number")&&s.context!=="",q=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);S.forEach(H=>{var ee,G;this.isValidLookup(i)||(m=H,!xg[`${q[0]}-${H}`]&&((ee=this.utils)!=null&&ee.hasLoadedNamespace)&&!((G=this.utils)!=null&&G.hasLoadedNamespace(m))&&(xg[`${q[0]}-${H}`]=!0,this.logger.warn(`key "${u}" for languages "${q.join(", ")}" won't get resolved as namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),q.forEach(Y=>{var oe;if(this.isValidLookup(i))return;d=Y;const k=[b];if((oe=this.i18nFormat)!=null&&oe.addLookupKeys)this.i18nFormat.addLookupKeys(k,b,Y,H,s);else{let I;O&&(I=this.pluralResolver.getSuffix(Y,s.count,s));const ue=`${this.options.pluralSeparator}zero`,Z=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(O&&(k.push(b+I),s.ordinal&&I.indexOf(Z)===0&&k.push(b+I.replace(Z,this.options.pluralSeparator)),T&&k.push(b+ue)),N){const P=`${b}${this.options.contextSeparator}${s.context}`;k.push(P),O&&(k.push(P+I),s.ordinal&&I.indexOf(Z)===0&&k.push(P+I.replace(Z,this.options.pluralSeparator)),T&&k.push(P+ue))}}let J;for(;J=k.pop();)this.isValidLookup(i)||(f=J,i=this.getResource(Y,H,J,s))}))})}),{res:i,usedKey:u,exactUsedKey:f,usedLng:d,usedNS:m}}isValidLookup(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}getResource(a,s,i,u={}){var f;return(f=this.i18nFormat)!=null&&f.getResource?this.i18nFormat.getResource(a,s,i,u):this.resourceStore.getResource(a,s,i,u)}getUsedParamsDetails(a={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=a.replace&&!fe(a.replace);let u=i?a.replace:a;if(i&&typeof a.count<"u"&&(u.count=a.count),this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),!i){u={...u};for(const f of s)delete u[f]}return u}static hasDefaultValue(a){const s="defaultValue";for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&s===i.substring(0,s.length)&&a[i]!==void 0)return!0;return!1}}class Tg{constructor(a){this.options=a,this.supportedLngs=this.options.supportedLngs||!1,this.logger=rn.create("languageUtils")}getScriptPartFromCode(a){if(a=Bi(a),!a||a.indexOf("-")<0)return null;const s=a.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(a){if(a=Bi(a),!a||a.indexOf("-")<0)return a;const s=a.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(a){if(fe(a)&&a.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(a)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?a.toLowerCase():a)}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}isSupportedCode(a){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(a=this.getLanguagePartFromCode(a)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(a)>-1}getBestMatchFromCodes(a){if(!a)return null;let s;return a.forEach(i=>{if(s)return;const u=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(u))&&(s=u)}),!s&&this.options.supportedLngs&&a.forEach(i=>{if(s)return;const u=this.getScriptPartFromCode(i);if(this.isSupportedCode(u))return s=u;const f=this.getLanguagePartFromCode(i);if(this.isSupportedCode(f))return s=f;s=this.options.supportedLngs.find(d=>{if(d===f)return d;if(!(d.indexOf("-")<0&&f.indexOf("-")<0)&&(d.indexOf("-")>0&&f.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===f||d.indexOf(f)===0&&f.length>1))return d})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(a,s){if(!a)return[];if(typeof a=="function"&&(a=a(s)),fe(a)&&(a=[a]),Array.isArray(a))return a;if(!s)return a.default||[];let i=a[s];return i||(i=a[this.getScriptPartFromCode(s)]),i||(i=a[this.formatLanguageCode(s)]),i||(i=a[this.getLanguagePartFromCode(s)]),i||(i=a.default),i||[]}toResolveHierarchy(a,s){const i=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],a),u=[],f=d=>{d&&(this.isSupportedCode(d)?u.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return fe(a)&&(a.indexOf("-")>-1||a.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&f(this.formatLanguageCode(a)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&f(this.getScriptPartFromCode(a)),this.options.load!=="currentOnly"&&f(this.getLanguagePartFromCode(a))):fe(a)&&f(this.formatLanguageCode(a)),i.forEach(d=>{u.indexOf(d)<0&&f(this.formatLanguageCode(d))}),u}}const Eg={zero:0,one:1,two:2,few:3,many:4,other:5},Og={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class cS{constructor(a,s={}){this.languageUtils=a,this.options=s,this.logger=rn.create("pluralResolver"),this.pluralRulesCache={}}addRule(a,s){this.rules[a]=s}clearCache(){this.pluralRulesCache={}}getRule(a,s={}){const i=Bi(a==="dev"?"en":a),u=s.ordinal?"ordinal":"cardinal",f=JSON.stringify({cleanedCode:i,type:u});if(f in this.pluralRulesCache)return this.pluralRulesCache[f];let d;try{d=new Intl.PluralRules(i,{type:u})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Og;if(!a.match(/-|_/))return Og;const y=this.languageUtils.getLanguagePartFromCode(a);d=this.getRule(y,s)}return this.pluralRulesCache[f]=d,d}needsPlural(a,s={}){let i=this.getRule(a,s);return i||(i=this.getRule("dev",s)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(a,s,i={}){return this.getSuffixes(a,i).map(u=>`${s}${u}`)}getSuffixes(a,s={}){let i=this.getRule(a,s);return i||(i=this.getRule("dev",s)),i?i.resolvedOptions().pluralCategories.sort((u,f)=>Eg[u]-Eg[f]).map(u=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${u}`):[]}getSuffix(a,s,i={}){const u=this.getRule(a,i);return u?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${u.select(s)}`:(this.logger.warn(`no plural rule found for: ${a}`),this.getSuffix("dev",s,i))}}const Rg=(r,a,s,i=".",u=!0)=>{let f=nS(r,a,s);return!f&&u&&fe(s)&&(f=Rc(r,s,i),f===void 0&&(f=Rc(a,s,i))),f},gc=r=>r.replace(/\$/g,"$$$$");class fS{constructor(a={}){var s;this.logger=rn.create("interpolator"),this.options=a,this.format=((s=a==null?void 0:a.interpolation)==null?void 0:s.format)||(i=>i),this.init(a)}init(a={}){a.interpolation||(a.interpolation={escapeValue:!0});const{escape:s,escapeValue:i,useRawValueToEscape:u,prefix:f,prefixEscaped:d,suffix:m,suffixEscaped:y,formatSeparator:g,unescapeSuffix:b,unescapePrefix:S,nestingPrefix:O,nestingPrefixEscaped:T,nestingSuffix:N,nestingSuffixEscaped:q,nestingOptionsSeparator:H,maxReplaces:ee,alwaysFormat:G}=a.interpolation;this.escape=s!==void 0?s:sS,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=u!==void 0?u:!1,this.prefix=f?fs(f):d||"{{",this.suffix=m?fs(m):y||"}}",this.formatSeparator=g||",",this.unescapePrefix=b?"":S||"-",this.unescapeSuffix=this.unescapePrefix?"":b||"",this.nestingPrefix=O?fs(O):T||fs("$t("),this.nestingSuffix=N?fs(N):q||fs(")"),this.nestingOptionsSeparator=H||",",this.maxReplaces=ee||1e3,this.alwaysFormat=G!==void 0?G:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const a=(s,i)=>(s==null?void 0:s.source)===i?(s.lastIndex=0,s):new RegExp(i,"g");this.regexp=a(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=a(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=a(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(a,s,i,u){var T;let f,d,m;const y=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=N=>{if(N.indexOf(this.formatSeparator)<0){const G=Rg(s,y,N,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(G,void 0,i,{...u,...s,interpolationkey:N}):G}const q=N.split(this.formatSeparator),H=q.shift().trim(),ee=q.join(this.formatSeparator).trim();return this.format(Rg(s,y,H,this.options.keySeparator,this.options.ignoreJSONStructure),ee,i,{...u,...s,interpolationkey:H})};this.resetRegExp();const b=(u==null?void 0:u.missingInterpolationHandler)||this.options.missingInterpolationHandler,S=((T=u==null?void 0:u.interpolation)==null?void 0:T.skipOnVariables)!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:N=>gc(N)},{regex:this.regexp,safeValue:N=>this.escapeValue?gc(this.escape(N)):gc(N)}].forEach(N=>{for(m=0;f=N.regex.exec(a);){const q=f[1].trim();if(d=g(q),d===void 0)if(typeof b=="function"){const ee=b(a,f,u);d=fe(ee)?ee:""}else if(u&&Object.prototype.hasOwnProperty.call(u,q))d="";else if(S){d=f[0];continue}else this.logger.warn(`missed to pass in variable ${q} for interpolating ${a}`),d="";else!fe(d)&&!this.useRawValueToEscape&&(d=vg(d));const H=N.safeValue(d);if(a=a.replace(f[0],H),S?(N.regex.lastIndex+=d.length,N.regex.lastIndex-=f[0].length):N.regex.lastIndex=0,m++,m>=this.maxReplaces)break}}),a}nest(a,s,i={}){let u,f,d;const m=(y,g)=>{const b=this.nestingOptionsSeparator;if(y.indexOf(b)<0)return y;const S=y.split(new RegExp(`${b}[ ]*{`));let O=`{${S[1]}`;y=S[0],O=this.interpolate(O,d);const T=O.match(/'/g),N=O.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!N||N.length%2!==0)&&(O=O.replace(/'/g,'"'));try{d=JSON.parse(O),g&&(d={...g,...d})}catch(q){return this.logger.warn(`failed parsing options string in nesting for key ${y}`,q),`${y}${b}${O}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,y};for(;u=this.nestingRegexp.exec(a);){let y=[];d={...i},d=d.replace&&!fe(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;let g=!1;if(u[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(u[1])){const b=u[1].split(this.formatSeparator).map(S=>S.trim());u[1]=b.shift(),y=b,g=!0}if(f=s(m.call(this,u[1].trim(),d),d),f&&u[0]===a&&!fe(f))return f;fe(f)||(f=vg(f)),f||(this.logger.warn(`missed to resolve ${u[1]} for nesting ${a}`),f=""),g&&(f=y.reduce((b,S)=>this.format(b,S,i.lng,{...i,interpolationkey:u[1].trim()}),f.trim())),a=a.replace(u[0],f),this.regexp.lastIndex=0}return a}}const dS=r=>{let a=r.toLowerCase().trim();const s={};if(r.indexOf("(")>-1){const i=r.split("(");a=i[0].toLowerCase().trim();const u=i[1].substring(0,i[1].length-1);a==="currency"&&u.indexOf(":")<0?s.currency||(s.currency=u.trim()):a==="relativetime"&&u.indexOf(":")<0?s.range||(s.range=u.trim()):u.split(";").forEach(d=>{if(d){const[m,...y]=d.split(":"),g=y.join(":").trim().replace(/^'+|'+$/g,""),b=m.trim();s[b]||(s[b]=g),g==="false"&&(s[b]=!1),g==="true"&&(s[b]=!0),isNaN(g)||(s[b]=parseInt(g,10))}})}return{formatName:a,formatOptions:s}},Mg=r=>{const a={};return(s,i,u)=>{let f=u;u&&u.interpolationkey&&u.formatParams&&u.formatParams[u.interpolationkey]&&u[u.interpolationkey]&&(f={...f,[u.interpolationkey]:void 0});const d=i+JSON.stringify(f);let m=a[d];return m||(m=r(Bi(i),u),a[d]=m),m(s)}},hS=r=>(a,s,i)=>r(Bi(s),i)(a);class mS{constructor(a={}){this.logger=rn.create("formatter"),this.options=a,this.init(a)}init(a,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const i=s.cacheInBuiltFormats?Mg:hS;this.formats={number:i((u,f)=>{const d=new Intl.NumberFormat(u,{...f});return m=>d.format(m)}),currency:i((u,f)=>{const d=new Intl.NumberFormat(u,{...f,style:"currency"});return m=>d.format(m)}),datetime:i((u,f)=>{const d=new Intl.DateTimeFormat(u,{...f});return m=>d.format(m)}),relativetime:i((u,f)=>{const d=new Intl.RelativeTimeFormat(u,{...f});return m=>d.format(m,f.range||"day")}),list:i((u,f)=>{const d=new Intl.ListFormat(u,{...f});return m=>d.format(m)})}}add(a,s){this.formats[a.toLowerCase().trim()]=s}addCached(a,s){this.formats[a.toLowerCase().trim()]=Mg(s)}format(a,s,i,u={}){const f=s.split(this.formatSeparator);if(f.length>1&&f[0].indexOf("(")>1&&f[0].indexOf(")")<0&&f.find(m=>m.indexOf(")")>-1)){const m=f.findIndex(y=>y.indexOf(")")>-1);f[0]=[f[0],...f.splice(1,m)].join(this.formatSeparator)}return f.reduce((m,y)=>{var S;const{formatName:g,formatOptions:b}=dS(y);if(this.formats[g]){let O=m;try{const T=((S=u==null?void 0:u.formatParams)==null?void 0:S[u.interpolationkey])||{},N=T.locale||T.lng||u.locale||u.lng||i;O=this.formats[g](m,N,{...b,...u,...T})}catch(T){this.logger.warn(T)}return O}else this.logger.warn(`there was no format function for ${g}`);return m},a)}}const gS=(r,a)=>{r.pending[a]!==void 0&&(delete r.pending[a],r.pendingCount--)};class pS extends Ur{constructor(a,s,i,u={}){var f,d;super(),this.backend=a,this.store=s,this.services=i,this.languageUtils=i.languageUtils,this.options=u,this.logger=rn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=u.maxParallelReads||10,this.readingCalls=0,this.maxRetries=u.maxRetries>=0?u.maxRetries:5,this.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,this.state={},this.queue=[],(d=(f=this.backend)==null?void 0:f.init)==null||d.call(f,i,u.backend,u)}queueLoad(a,s,i,u){const f={},d={},m={},y={};return a.forEach(g=>{let b=!0;s.forEach(S=>{const O=`${g}|${S}`;!i.reload&&this.store.hasResourceBundle(g,S)?this.state[O]=2:this.state[O]<0||(this.state[O]===1?d[O]===void 0&&(d[O]=!0):(this.state[O]=1,b=!1,d[O]===void 0&&(d[O]=!0),f[O]===void 0&&(f[O]=!0),y[S]===void 0&&(y[S]=!0)))}),b||(m[g]=!0)}),(Object.keys(f).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:u}),{toLoad:Object.keys(f),pending:Object.keys(d),toLoadLanguages:Object.keys(m),toLoadNamespaces:Object.keys(y)}}loaded(a,s,i){const u=a.split("|"),f=u[0],d=u[1];s&&this.emit("failedLoading",f,d,s),!s&&i&&this.store.addResourceBundle(f,d,i,void 0,void 0,{skipCopy:!0}),this.state[a]=s?-1:2,s&&i&&(this.state[a]=0);const m={};this.queue.forEach(y=>{tS(y.loaded,[f],d),gS(y,a),s&&y.errors.push(s),y.pendingCount===0&&!y.done&&(Object.keys(y.loaded).forEach(g=>{m[g]||(m[g]={});const b=y.loaded[g];b.length&&b.forEach(S=>{m[g][S]===void 0&&(m[g][S]=!0)})}),y.done=!0,y.errors.length?y.callback(y.errors):y.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(y=>!y.done)}read(a,s,i,u=0,f=this.retryTimeout,d){if(!a.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:s,fcName:i,tried:u,wait:f,callback:d});return}this.readingCalls++;const m=(g,b)=>{if(this.readingCalls--,this.waitingReads.length>0){const S=this.waitingReads.shift();this.read(S.lng,S.ns,S.fcName,S.tried,S.wait,S.callback)}if(g&&b&&u<this.maxRetries){setTimeout(()=>{this.read.call(this,a,s,i,u+1,f*2,d)},f);return}d(g,b)},y=this.backend[i].bind(this.backend);if(y.length===2){try{const g=y(a,s);g&&typeof g.then=="function"?g.then(b=>m(null,b)).catch(m):m(null,g)}catch(g){m(g)}return}return y(a,s,m)}prepareLoading(a,s,i={},u){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();fe(a)&&(a=this.languageUtils.toResolveHierarchy(a)),fe(s)&&(s=[s]);const f=this.queueLoad(a,s,i,u);if(!f.toLoad.length)return f.pending.length||u(),null;f.toLoad.forEach(d=>{this.loadOne(d)})}load(a,s,i){this.prepareLoading(a,s,{},i)}reload(a,s,i){this.prepareLoading(a,s,{reload:!0},i)}loadOne(a,s=""){const i=a.split("|"),u=i[0],f=i[1];this.read(u,f,"read",void 0,void 0,(d,m)=>{d&&this.logger.warn(`${s}loading namespace ${f} for language ${u} failed`,d),!d&&m&&this.logger.log(`${s}loaded namespace ${f} for language ${u}`,m),this.loaded(a,d,m)})}saveMissing(a,s,i,u,f,d={},m=()=>{}){var y,g,b,S,O;if((g=(y=this.services)==null?void 0:y.utils)!=null&&g.hasLoadedNamespace&&!((S=(b=this.services)==null?void 0:b.utils)!=null&&S.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${i}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((O=this.backend)!=null&&O.create){const T={...d,isUpdate:f},N=this.backend.create.bind(this.backend);if(N.length<6)try{let q;N.length===5?q=N(a,s,i,u,T):q=N(a,s,i,u),q&&typeof q.then=="function"?q.then(H=>m(null,H)).catch(m):m(null,q)}catch(q){m(q)}else N(a,s,i,u,m,T)}!a||!a[0]||this.store.addResource(a[0],s,i,u)}}}const Ng=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let a={};if(typeof r[1]=="object"&&(a=r[1]),fe(r[1])&&(a.defaultValue=r[1]),fe(r[2])&&(a.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const s=r[3]||r[2];Object.keys(s).forEach(i=>{a[i]=s[i]})}return a},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Cg=r=>{var a,s;return fe(r.ns)&&(r.ns=[r.ns]),fe(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),fe(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),((s=(a=r.supportedLngs)==null?void 0:a.indexOf)==null?void 0:s.call(a,"cimode"))<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r},rr=()=>{},yS=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(s=>{typeof r[s]=="function"&&(r[s]=r[s].bind(r))})};class Hi extends Ur{constructor(a={},s){if(super(),this.options=Cg(a),this.services={},this.logger=rn,this.modules={external:[]},yS(this),s&&!this.isInitialized&&!a.isClone){if(!this.options.initAsync)return this.init(a,s),this;setTimeout(()=>{this.init(a,s)},0)}}init(a={},s){this.isInitializing=!0,typeof a=="function"&&(s=a,a={}),a.defaultNS==null&&a.ns&&(fe(a.ns)?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));const i=Ng();this.options={...i,...this.options,...Cg(a)},this.options.interpolation={...i.interpolation,...this.options.interpolation},a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);const u=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?rn.init(u(this.modules.logger),this.options):rn.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=mS;const b=new Tg(this.options);this.store=new wg(this.options.resources,this.options);const S=this.services;S.logger=rn,S.resourceStore=this.store,S.languageUtils=b,S.pluralResolver=new cS(b,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(S.formatter=u(g),S.formatter.init(S,this.options),this.options.interpolation.format=S.formatter.format.bind(S.formatter)),S.interpolator=new fS(this.options),S.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},S.backendConnector=new pS(u(this.modules.backend),S.resourceStore,S,this.options),S.backendConnector.on("*",(O,...T)=>{this.emit(O,...T)}),this.modules.languageDetector&&(S.languageDetector=u(this.modules.languageDetector),S.languageDetector.init&&S.languageDetector.init(S,this.options.detection,this.options)),this.modules.i18nFormat&&(S.i18nFormat=u(this.modules.i18nFormat),S.i18nFormat.init&&S.i18nFormat.init(this)),this.translator=new Tr(this.services,this.options),this.translator.on("*",(O,...T)=>{this.emit(O,...T)}),this.modules.external.forEach(O=>{O.init&&O.init(this)})}if(this.format=this.options.interpolation.format,s||(s=rr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...b)=>this.store[g](...b)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...b)=>(this.store[g](...b),this)});const m=Ai(),y=()=>{const g=(b,S)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(S),s(b,S)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?y():setTimeout(y,0),m}loadResources(a,s=rr){var f,d;let i=s;const u=fe(a)?a:this.language;if(typeof a=="function"&&(i=a),!this.options.resources||this.options.partialBundledLanguages){if((u==null?void 0:u.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const m=[],y=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(S=>{S!=="cimode"&&m.indexOf(S)<0&&m.push(S)})};u?y(u):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(b=>y(b)),(d=(f=this.options.preload)==null?void 0:f.forEach)==null||d.call(f,g=>y(g)),this.services.backendConnector.load(m,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(g)})}else i(null)}reloadResources(a,s,i){const u=Ai();return typeof a=="function"&&(i=a,a=void 0),typeof s=="function"&&(i=s,s=void 0),a||(a=this.languages),s||(s=this.options.ns),i||(i=rr),this.services.backendConnector.reload(a,s,f=>{u.resolve(),i(f)}),u}use(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&gp.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}setResolvedLanguage(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1)){for(let s=0;s<this.languages.length;s++){const i=this.languages[s];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(a)<0&&this.store.hasLanguageSomeTranslations(a)&&(this.resolvedLanguage=a,this.languages.unshift(a))}}changeLanguage(a,s){this.isLanguageChangingTo=a;const i=Ai();this.emit("languageChanging",a);const u=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},f=(m,y)=>{y?this.isLanguageChangingTo===a&&(u(y),this.translator.changeLanguage(y),this.isLanguageChangingTo=void 0,this.emit("languageChanged",y),this.logger.log("languageChanged",y)):this.isLanguageChangingTo=void 0,i.resolve((...g)=>this.t(...g)),s&&s(m,(...g)=>this.t(...g))},d=m=>{var b,S;!a&&!m&&this.services.languageDetector&&(m=[]);const y=fe(m)?m:m&&m[0],g=this.store.hasLanguageSomeTranslations(y)?y:this.services.languageUtils.getBestMatchFromCodes(fe(m)?[m]:m);g&&(this.language||u(g),this.translator.language||this.translator.changeLanguage(g),(S=(b=this.services.languageDetector)==null?void 0:b.cacheUserLanguage)==null||S.call(b,g)),this.loadResources(g,O=>{f(O,g)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(a),i}getFixedT(a,s,i){const u=(f,d,...m)=>{let y;typeof d!="object"?y=this.options.overloadTranslationOptionHandler([f,d].concat(m)):y={...d},y.lng=y.lng||u.lng,y.lngs=y.lngs||u.lngs,y.ns=y.ns||u.ns,y.keyPrefix!==""&&(y.keyPrefix=y.keyPrefix||i||u.keyPrefix);const g=this.options.keySeparator||".";let b;return y.keyPrefix&&Array.isArray(f)?b=f.map(S=>`${y.keyPrefix}${g}${S}`):b=y.keyPrefix?`${y.keyPrefix}${g}${f}`:f,this.t(b,y)};return fe(a)?u.lng=a:u.lngs=a,u.ns=s,u.keyPrefix=i,u}t(...a){var s;return(s=this.translator)==null?void 0:s.translate(...a)}exists(...a){var s;return(s=this.translator)==null?void 0:s.exists(...a)}setDefaultNamespace(a){this.options.defaultNS=a}hasLoadedNamespace(a,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=s.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,f=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const d=(m,y)=>{const g=this.services.backendConnector.state[`${m}|${y}`];return g===-1||g===0||g===2};if(s.precheck){const m=s.precheck(this,d);if(m!==void 0)return m}return!!(this.hasResourceBundle(i,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(i,a)&&(!u||d(f,a)))}loadNamespaces(a,s){const i=Ai();return this.options.ns?(fe(a)&&(a=[a]),a.forEach(u=>{this.options.ns.indexOf(u)<0&&this.options.ns.push(u)}),this.loadResources(u=>{i.resolve(),s&&s(u)}),i):(s&&s(),Promise.resolve())}loadLanguages(a,s){const i=Ai();fe(a)&&(a=[a]);const u=this.options.preload||[],f=a.filter(d=>u.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return f.length?(this.options.preload=u.concat(f),this.loadResources(d=>{i.resolve(),s&&s(d)}),i):(s&&s(),Promise.resolve())}dir(a){var u,f;if(a||(a=this.resolvedLanguage||(((u=this.languages)==null?void 0:u.length)>0?this.languages[0]:this.language)),!a)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((f=this.services)==null?void 0:f.languageUtils)||new Tg(Ng());return s.indexOf(i.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(a={},s){return new Hi(a,s)}cloneInstance(a={},s=rr){const i=a.forkResourceStore;i&&delete a.forkResourceStore;const u={...this.options,...a,isClone:!0},f=new Hi(u);if((a.debug!==void 0||a.prefix!==void 0)&&(f.logger=f.logger.clone(a)),["store","services","language"].forEach(m=>{f[m]=this[m]}),f.services={...this.services},f.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},i){const m=Object.keys(this.store.data).reduce((y,g)=>(y[g]={...this.store.data[g]},y[g]=Object.keys(y[g]).reduce((b,S)=>(b[S]={...y[g][S]},b),y[g]),y),{});f.store=new wg(m,u),f.services.resourceStore=f.store}return f.translator=new Tr(f.services,u),f.translator.on("*",(m,...y)=>{f.emit(m,...y)}),f.init(u,s),f.translator.options=u,f.translator.backendConnector.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},f}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const mt=Hi.createInstance();mt.createInstance=Hi.createInstance;mt.createInstance;mt.dir;mt.init;mt.loadResources;mt.reloadResources;mt.use;mt.changeLanguage;mt.getFixedT;mt.t;mt.exists;mt.setDefaultNamespace;mt.hasLoadedNamespace;mt.loadNamespaces;mt.loadLanguages;const vS=(r,a,s,i)=>{var f,d,m,y;const u=[s,{code:a,...i||{}}];if((d=(f=r==null?void 0:r.services)==null?void 0:f.logger)!=null&&d.forward)return r.services.logger.forward(u,"warn","react-i18next::",!0);Aa(u[0])&&(u[0]=`react-i18next:: ${u[0]}`),(y=(m=r==null?void 0:r.services)==null?void 0:m.logger)!=null&&y.warn?r.services.logger.warn(...u):console!=null&&console.warn&&console.warn(...u)},Dg={},Mc=(r,a,s,i)=>{Aa(s)&&Dg[s]||(Aa(s)&&(Dg[s]=new Date),vS(r,a,s,i))},pp=(r,a)=>()=>{if(r.isInitialized)a();else{const s=()=>{setTimeout(()=>{r.off("initialized",s)},0),a()};r.on("initialized",s)}},Nc=(r,a,s)=>{r.loadNamespaces(a,pp(r,s))},Lg=(r,a,s,i)=>{if(Aa(s)&&(s=[s]),r.options.preload&&r.options.preload.indexOf(a)>-1)return Nc(r,s,i);s.forEach(u=>{r.options.ns.indexOf(u)<0&&r.options.ns.push(u)}),r.loadLanguages(a,pp(r,i))},bS=(r,a,s={})=>!a.languages||!a.languages.length?(Mc(a,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:a.languages}),!0):a.hasLoadedNamespace(r,{lng:s.lng,precheck:(i,u)=>{var f;if(((f=s.bindI18n)==null?void 0:f.indexOf("languageChanging"))>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!u(i.isLanguageChangingTo,r))return!1}}),Aa=r=>typeof r=="string",SS=r=>typeof r=="object"&&r!==null,_S=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,wS={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},xS=r=>wS[r],AS=r=>r.replace(_S,xS);let Cc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:AS};const TS=(r={})=>{Cc={...Cc,...r}},ES=()=>Cc;let yp;const OS=r=>{yp=r},RS=()=>yp,MS={type:"3rdParty",init(r){TS(r.options.react),OS(r)}},NS=It.createContext();class CS{constructor(){this.usedNamespaces={}}addUsedNamespaces(a){a.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const DS=(r,a)=>{const s=It.useRef();return It.useEffect(()=>{s.current=r},[r,a]),s.current},vp=(r,a,s,i)=>r.getFixedT(a,s,i),LS=(r,a,s,i)=>It.useCallback(vp(r,a,s,i),[r,a,s,i]),bp=(r,a={})=>{var k,J,oe,I;const{i18n:s}=a,{i18n:i,defaultNS:u}=It.useContext(NS)||{},f=s||i||RS();if(f&&!f.reportNamespaces&&(f.reportNamespaces=new CS),!f){Mc(f,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const ue=(P,ie)=>Aa(ie)?ie:SS(ie)&&Aa(ie.defaultValue)?ie.defaultValue:Array.isArray(P)?P[P.length-1]:P,Z=[ue,{},!1];return Z.t=ue,Z.i18n={},Z.ready=!1,Z}(k=f.options.react)!=null&&k.wait&&Mc(f,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...ES(),...f.options.react,...a},{useSuspense:m,keyPrefix:y}=d;let g=r||u||((J=f.options)==null?void 0:J.defaultNS);g=Aa(g)?[g]:g||["translation"],(I=(oe=f.reportNamespaces).addUsedNamespaces)==null||I.call(oe,g);const b=(f.isInitialized||f.initializedStoreOnce)&&g.every(ue=>bS(ue,f,d)),S=LS(f,a.lng||null,d.nsMode==="fallback"?g:g[0],y),O=()=>S,T=()=>vp(f,a.lng||null,d.nsMode==="fallback"?g:g[0],y),[N,q]=It.useState(O);let H=g.join();a.lng&&(H=`${a.lng}${H}`);const ee=DS(H),G=It.useRef(!0);It.useEffect(()=>{const{bindI18n:ue,bindI18nStore:Z}=d;G.current=!0,!b&&!m&&(a.lng?Lg(f,a.lng,g,()=>{G.current&&q(T)}):Nc(f,g,()=>{G.current&&q(T)})),b&&ee&&ee!==H&&G.current&&q(T);const P=()=>{G.current&&q(T)};return ue&&(f==null||f.on(ue,P)),Z&&(f==null||f.store.on(Z,P)),()=>{G.current=!1,f&&(ue==null||ue.split(" ").forEach(ie=>f.off(ie,P))),Z&&f&&Z.split(" ").forEach(ie=>f.store.off(ie,P))}},[f,H]),It.useEffect(()=>{G.current&&b&&q(O)},[f,y,b]);const Y=[N,f,b];if(Y.t=N,Y.i18n=f,Y.ready=b,b||!b&&!m)return Y;throw new Promise(ue=>{a.lng?Lg(f,a.lng,g,()=>ue()):Nc(f,g,()=>ue())})},{slice:US,forEach:jS}=[];function zS(r){return jS.call(US.call(arguments,1),a=>{if(a)for(const s in a)r[s]===void 0&&(r[s]=a[s])}),r}function qS(r){return typeof r!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(s=>s.test(r))}const Ug=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,BS=function(r,a){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},u=encodeURIComponent(a);let f=`${r}=${u}`;if(i.maxAge>0){const d=i.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");f+=`; Max-Age=${Math.floor(d)}`}if(i.domain){if(!Ug.test(i.domain))throw new TypeError("option domain is invalid");f+=`; Domain=${i.domain}`}if(i.path){if(!Ug.test(i.path))throw new TypeError("option path is invalid");f+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");f+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(f+="; HttpOnly"),i.secure&&(f+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(f+="; Partitioned"),f},jg={create(r,a,s,i){let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(u.expires=new Date,u.expires.setTime(u.expires.getTime()+s*60*1e3)),i&&(u.domain=i),document.cookie=BS(r,encodeURIComponent(a),u)},read(r){const a=`${r}=`,s=document.cookie.split(";");for(let i=0;i<s.length;i++){let u=s[i];for(;u.charAt(0)===" ";)u=u.substring(1,u.length);if(u.indexOf(a)===0)return u.substring(a.length,u.length)}return null},remove(r){this.create(r,"",-1)}};var HS={name:"cookie",lookup(r){let{lookupCookie:a}=r;if(a&&typeof document<"u")return jg.read(a)||void 0},cacheUserLanguage(r,a){let{lookupCookie:s,cookieMinutes:i,cookieDomain:u,cookieOptions:f}=a;s&&typeof document<"u"&&jg.create(s,r,i,u,f)}},kS={name:"querystring",lookup(r){var i;let{lookupQuerystring:a}=r,s;if(typeof window<"u"){let{search:u}=window.location;!window.location.search&&((i=window.location.hash)==null?void 0:i.indexOf("?"))>-1&&(u=window.location.hash.substring(window.location.hash.indexOf("?")));const d=u.substring(1).split("&");for(let m=0;m<d.length;m++){const y=d[m].indexOf("=");y>0&&d[m].substring(0,y)===a&&(s=d[m].substring(y+1))}}return s}};let ds=null;const zg=()=>{if(ds!==null)return ds;try{if(ds=typeof window<"u"&&window.localStorage!==null,!ds)return!1;const r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{ds=!1}return ds};var GS={name:"localStorage",lookup(r){let{lookupLocalStorage:a}=r;if(a&&zg())return window.localStorage.getItem(a)||void 0},cacheUserLanguage(r,a){let{lookupLocalStorage:s}=a;s&&zg()&&window.localStorage.setItem(s,r)}};let hs=null;const qg=()=>{if(hs!==null)return hs;try{if(hs=typeof window<"u"&&window.sessionStorage!==null,!hs)return!1;const r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{hs=!1}return hs};var $S={name:"sessionStorage",lookup(r){let{lookupSessionStorage:a}=r;if(a&&qg())return window.sessionStorage.getItem(a)||void 0},cacheUserLanguage(r,a){let{lookupSessionStorage:s}=a;s&&qg()&&window.sessionStorage.setItem(s,r)}},VS={name:"navigator",lookup(r){const a=[];if(typeof navigator<"u"){const{languages:s,userLanguage:i,language:u}=navigator;if(s)for(let f=0;f<s.length;f++)a.push(s[f]);i&&a.push(i),u&&a.push(u)}return a.length>0?a:void 0}},YS={name:"htmlTag",lookup(r){let{htmlTag:a}=r,s;const i=a||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(s=i.getAttribute("lang")),s}},XS={name:"path",lookup(r){var u;let{lookupFromPathIndex:a}=r;if(typeof window>"u")return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?(u=s[typeof a=="number"?a:0])==null?void 0:u.replace("/",""):void 0}},QS={name:"subdomain",lookup(r){var u,f;let{lookupFromSubdomainIndex:a}=r;const s=typeof a=="number"?a+1:1,i=typeof window<"u"&&((f=(u=window.location)==null?void 0:u.hostname)==null?void 0:f.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[s]}};let Sp=!1;try{document.cookie,Sp=!0}catch{}const _p=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Sp||_p.splice(1,1);const JS=()=>({order:_p,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r=>r});class wp{constructor(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(a,s)}init(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=a,this.options=zS(s,this.options||{},JS()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=u=>u.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(HS),this.addDetector(kS),this.addDetector(GS),this.addDetector($S),this.addDetector(VS),this.addDetector(YS),this.addDetector(XS),this.addDetector(QS)}addDetector(a){return this.detectors[a.name]=a,this}detect(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,s=[];return a.forEach(i=>{if(this.detectors[i]){let u=this.detectors[i].lookup(this.options);u&&typeof u=="string"&&(u=[u]),u&&(s=s.concat(u))}}),s=s.filter(i=>i!=null&&!qS(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}cacheUserLanguage(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(a)>-1||s.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(a,this.options)}))}}wp.type="languageDetector";const KS={"components.MainScreen.loading":"Loading...","components.AgentSetupView.notInitialized":"Not initialized","components.AgentSetupView.specifyApiKeyAndBaseUrl":"Specify API Key and Base URL","components.AgentSetupView.agentReady":"Agent is ready","components.AgentSetupView.error":"Error","components.AgentSetupView.baseUrl":"API URL","components.AgentSetupView.apiKey":"API Key","components.AgentSetupView.modelName":"Model name","components.AgentSetupView.gpt4FreeMode":"Gpt4Free Mode","components.AgentSetupView.provider":"Provider","components.AgentSetupView.autoSelectProvider":"Auto-select","components.AgentSetupView.initializeAgent":"Initialize agent","components.AgentSetupView.status":"Status","components.MoveGenAgentActionsView.readyForMoveRequest":"Ready for move request","components.MoveGenAgentActionsView.generatingMove":"Generating move...","components.MoveGenAgentActionsView.failedToGenerateMove":"Failed to generate move","components.MoveGenAgentActionsView.moveGeneratedSuccessfully":"Move generated successfully","components.MoveGenAgentActionsView.moveGenerationError":"Move generation error","components.MoveGenAgentActionsView.globalTarget":"Global target","components.MoveGenAgentActionsView.status":"Status","components.MoveGenAgentActionsView.nextMove":"Next move","components.MoveGenAgentPanel.title":"Move generation","components.WorldGenAgentActionsView.readyForGeneration":"Ready for generation","components.WorldGenAgentActionsView.generatingWorld":"Generating world...","components.WorldGenAgentActionsView.failedToGenerateMap":"Failed to generate map","components.WorldGenAgentActionsView.mapGeneratedSuccessfully":"Map generated successfully","components.WorldGenAgentActionsView.mapGenerationError":"Map generation error","components.WorldGenAgentActionsView.worldDescription":"World description","components.WorldGenAgentActionsView.width":"Width","components.WorldGenAgentActionsView.height":"Height","components.WorldGenAgentActionsView.status":"Status","components.WorldGenAgentActionsView.generateWorld":"Generate world","components.WorldGenAgentPanel.title":"World Generation","components.SaveLoadPanel.saveLoadMap":"Save and load map","components.ImportExportSection.pasteJsonForImport":"Paste JSON to import","components.ImportExportSection.showCurrentMapJson":"Show current map JSON","components.ImportExportSection.downloadJson":"Download JSON","components.ImportExportSection.loadMapFromJson":"Load map from this JSON","components.ImportExportSection.mapExportedSuccess":"Map successfully exported.","components.ImportExportSection.mapImportedSuccess":"Map successfully imported.","components.ImportExportSection.mapImportError":"Map import error","components.SaveLoadSection.enterNameForSaving":"Enter a name to save the world.","components.SaveLoadSection.worldSavedAs":'World saved as "{{saveName}}".',"components.SaveLoadSection.selectSavedWorld":"Select a saved world.","components.SaveLoadSection.savedWorldsNotFound":"Saved worlds not found.","components.SaveLoadSection.worldNotFound":'World "{{selectedName}}" not found.',"components.SaveLoadSection.worldLoadedSuccessfully":'World "{{selectedName}}" loaded successfully.',"components.SaveLoadSection.worldLoadError":"❌ Error loading saved world.","components.SaveLoadSection.selectWorldToDelete":"Select a world to delete.","components.SaveLoadSection.confirmDeleteWorld":'Are you sure you want to delete the world "{{selectedName}}"?',"components.SaveLoadSection.worldDeleted":'World "{{selectedName}}" deleted.',"components.SaveLoadSection.worldDeleteError":"❌ Error deleting saved world.","components.SaveLoadSection.savedMaps":"Saved Maps","components.SaveLoadSection.worldName":"World Name","components.SaveLoadSection.saveMap":"Save Map","components.SaveLoadSection.selectWorld":"Select World","components.SaveLoadSection.load":"Load","components.SidebarPanel.empty":"Empty","components.EntityDetailsPanel.id":"ID","components.EntityDetailsPanel.inventory":"Inventory","components.EntityDetailsPanel.emptyInventory":"Inventory is empty","components.EntityDetailsPanel.selectEntity":"Select an entity","components.TestActionsPanel.testActions":"Test actions","components.TestActionsPanel.apple":"Apple","components.TestActionsPanel.juicyRedApple":"Juicy red apple","components.TestActionsPanel.tree":"Tree","components.TestActionsPanel.largeGreenTree":"Large green tree","components.TestActionsPanel.mountain":"Mountain","components.TestActionsPanel.largeMountain":"Large mountain","components.TestActionsPanel.addNewStackOfApple":"Add new stack of 🍎","components.TestActionsPanel.addAppleToExistingStack":"Add 🍎 to existing stack","components.TestActionsPanel.removeOneApple":"Remove one 🍎","components.TestActionsPanel.removeAllApples":"Remove all 🍎","components.TestActionsPanel.setTreeFeature":"Set tile feature","components.TestActionsPanel.setMountainFeature":"Set tile feature","components.TestActionsPanel.clearTileFeature":"Clear tile feature","components.TestActionsPanel.atCoordinates":"at ({{x}}, {{y}})","components.TileDetailsPanel.terrain":"Terrain","components.TileDetailsPanel.empty":"Empty","components.TileDetailsPanel.object":"Object","components.TileDetailsPanel.entities":"Entities","components.TileDetailsPanel.selectTile":"Select a tile","components.TileDetailsPanel.coordinates":"Coordinates","components.MoveListPanel.moves":"Moves","components.MoveItem.moveNumber":"Move {{number}}","components.SettingsPanel.settings":"Settings","components.SettingsPanel.language":"Language","components.WorldMapView.worldMap":"World map"},IS={"components.MainScreen.loading":"Загрузка...","components.AgentSetupView.notInitialized":"Не инициализирован","components.AgentSetupView.specifyApiKeyAndBaseUrl":"Укажите API Key и Base URL","components.AgentSetupView.agentReady":"Агент готов","components.AgentSetupView.error":"Ошибка","components.AgentSetupView.baseUrl":"Адрес API","components.AgentSetupView.apiKey":"Ключ API","components.AgentSetupView.modelName":"Имя модели","components.AgentSetupView.gpt4FreeMode":"Режим Gpt4Free","components.AgentSetupView.provider":"Провайдер","components.AgentSetupView.autoSelectProvider":"Автоматически","components.AgentSetupView.initializeAgent":"Инициализировать агента","components.AgentSetupView.status":"Статус","components.MoveGenAgentActionsView.readyForMoveRequest":"Готов к запросу хода","components.MoveGenAgentActionsView.generatingMove":"Генерация хода...","components.MoveGenAgentActionsView.failedToGenerateMove":"Не удалось сгенерировать ход","components.MoveGenAgentActionsView.moveGeneratedSuccessfully":"Ход успешно сгенерирован","components.MoveGenAgentActionsView.moveGenerationError":"Ошибка генерации хода","components.MoveGenAgentActionsView.globalTarget":"Глобальная цель","components.MoveGenAgentActionsView.status":"Статус","components.MoveGenAgentActionsView.nextMove":"Следующий ход","components.MoveGenAgentPanel.title":"Генерация хода","components.WorldGenAgentActionsView.readyForGeneration":"Готов к генерации","components.WorldGenAgentActionsView.generatingWorld":"Генерация мира...","components.WorldGenAgentActionsView.failedToGenerateMap":"Не удалось сгенерировать карту","components.WorldGenAgentActionsView.mapGeneratedSuccessfully":"Карта успешно сгенерирована","components.WorldGenAgentActionsView.mapGenerationError":"Ошибка генерации карты","components.WorldGenAgentActionsView.worldDescription":"Описание мира","components.WorldGenAgentActionsView.width":"Ширина","components.WorldGenAgentActionsView.height":"Высота","components.WorldGenAgentActionsView.status":"Статус","components.WorldGenAgentActionsView.generateWorld":"Сгенерировать мир","components.WorldGenAgentPanel.title":"Генерация мира","components.SaveLoadPanel.saveLoadMap":"Сохранение и загрузка карты","components.ImportExportSection.pasteJsonForImport":"Вставьте JSON для импорта","components.ImportExportSection.showCurrentMapJson":"Показать JSON текущей карты","components.ImportExportSection.downloadJson":"Скачать JSON","components.ImportExportSection.loadMapFromJson":"Загрузить карту из этого JSON","components.ImportExportSection.mapExportedSuccess":"Карта успешно экспортирована.","components.ImportExportSection.mapImportedSuccess":"Карта успешно импортирована.","components.ImportExportSection.mapImportError":"Ошибка импорта карты","components.SaveLoadSection.enterNameForSaving":"Введите имя для сохранения мира.","components.SaveLoadSection.worldSavedAs":'Мир сохранён как "{{saveName}}".',"components.SaveLoadSection.selectSavedWorld":"Выберите сохранённый мир.","components.SaveLoadSection.savedWorldsNotFound":"Сохранённые миры не найдены.","components.SaveLoadSection.worldNotFound":'Мир "{{selectedName}}" не найден.',"components.SaveLoadSection.worldLoadedSuccessfully":'Мир "{{selectedName}}" успешно загружен.',"components.SaveLoadSection.worldLoadError":"❌ Ошибка при загрузке сохранённого мира.","components.SaveLoadSection.selectWorldToDelete":"Выберите мир для удаления.","components.SaveLoadSection.confirmDeleteWorld":'Вы уверены, что хотите удалить мир "{{selectedName}}"?',"components.SaveLoadSection.worldDeleted":'Мир "{{selectedName}}" удалён.',"components.SaveLoadSection.worldDeleteError":"❌ Ошибка при удалении сохранённого мира.","components.SaveLoadSection.savedMaps":"Сохраненные карты","components.SaveLoadSection.worldName":"Имя мира","components.SaveLoadSection.saveMap":"Сохранить карту","components.SaveLoadSection.selectWorld":"Выберите мир","components.SaveLoadSection.load":"Загрузить","components.SidebarPanel.empty":"Пусто","components.EntityDetailsPanel.id":"ID","components.EntityDetailsPanel.inventory":"Инвентарь","components.EntityDetailsPanel.emptyInventory":"Инвентарь пуст","components.EntityDetailsPanel.selectEntity":"Выберите сущность","components.TestActionsPanel.testActions":"Тестовые действия","components.TestActionsPanel.apple":"Яблоко","components.TestActionsPanel.juicyRedApple":"Сочное красное яблоко","components.TestActionsPanel.tree":"Дерево","components.TestActionsPanel.largeGreenTree":"Большое зеленое дерево","components.TestActionsPanel.mountain":"Гора","components.TestActionsPanel.largeMountain":"Большая гора","components.TestActionsPanel.addNewStackOfApple":"Добавить новый стак 🍎","components.TestActionsPanel.addAppleToExistingStack":"Добавить 🍎 в существующий стак","components.TestActionsPanel.removeOneApple":"Удалить одно 🍎","components.TestActionsPanel.removeAllApples":"Удалить все 🍎","components.TestActionsPanel.setTreeFeature":"Поставить","components.TestActionsPanel.setMountainFeature":"Поставить","components.TestActionsPanel.clearTileFeature":"Очистить клетку","components.TestActionsPanel.atCoordinates":"на ({{x}}, {{y}})","components.TileDetailsPanel.terrain":"Местность","components.TileDetailsPanel.empty":"Пусто","components.TileDetailsPanel.object":"Объект","components.TileDetailsPanel.entities":"Сущности","components.TileDetailsPanel.selectTile":"Выберите тайл","components.TileDetailsPanel.coordinates":"Координаты","components.MoveListPanel.moves":"Ходы","components.MoveItem.moveNumber":"Ход {{number}}","components.SettingsPanel.settings":"Настройки","components.SettingsPanel.language":"Язык","components.WorldMapView.worldMap":"Карта мира"},ZS="English",FS="I should gather some wood or sticks. It’ll come in handy if I want to start a fire.",PS="I moved a bit to the northeast",WS="Along the way, I found some bushes and picked a few berries",e_="I feel like…",t_="I’m worried…",n_="I want to understand…",a_="I moved…",s_="I found…",i_="I can hear water nearby…",l_={textLanguage:ZS,exampleThought:FS,exampleNarrativeEvent1:PS,exampleNarrativeEvent2:WS,thoughtStart1:e_,thoughtStart2:t_,thoughtStart3:n_,narrativeEventStart1:a_,narrativeEventStart2:s_,narrativeEventStart3:i_},r_="Русский",o_="Нужно добыть немного дерева или веток. Пригодится, если я захочу разжечь костер.",u_="Я переместился немного северо-восточнее",c_="По дороге я нашел несколько кустов и собрал с них немного ягод",f_="Мне кажется…",d_="Я волнуюсь…",h_="Хочу понять…",m_="Я переместился…",g_="Я нашёл…",p_="Где-то неподалеку слышна вода…",y_={textLanguage:r_,exampleThought:o_,exampleNarrativeEvent1:u_,exampleNarrativeEvent2:c_,thoughtStart1:f_,thoughtStart2:d_,thoughtStart3:h_,narrativeEventStart1:m_,narrativeEventStart2:g_,narrativeEventStart3:p_},v_="English",b_="Player",S_="Local Fool",__="Apple",w_="A big red apple",x_="An apple that doesn't look very tasty",A_="Tree",T_="An ordinary tree",E_="Lake",O_="A small calm lake",R_="Plains",M_="Water Bottle",N_="A half-empty bottle of drinking water",C_="Axe",D_="An old axe that's about to break",L_={textLanguage:v_,examplePlayerTitle:b_,funnyPlayerTitle:S_,appleTitle:__,appleDescription:w_,badAppleDescription:x_,treeTitle:A_,treeDescription:T_,lakeTitle:E_,lakeDescription:O_,plainsTitle:R_,waterBottleTitle:M_,waterBottleDescription:N_,axeTitle:C_,axeDescription:D_},U_="Русский",j_="Игрок",z_="Местный дурачок",q_="Яблоко",B_="Большое красное яблоко",H_="Не очень вкусное на вид яблоко",k_="Дерево",G_="Обычное дерево",$_="Озеро",V_="Тихое спокойное озеро",Y_="Равнина",X_="Бутылка с водой",Q_="Полупустая бутылка с питьевой водой",J_="Топор",K_="Старый топор, который вот-вот сломается",I_={textLanguage:U_,examplePlayerTitle:j_,funnyPlayerTitle:z_,appleTitle:q_,appleDescription:B_,badAppleDescription:H_,treeTitle:k_,treeDescription:G_,lakeTitle:$_,lakeDescription:V_,plainsTitle:Y_,waterBottleTitle:X_,waterBottleDescription:Q_,axeTitle:J_,axeDescription:K_};async function Z_(){return mt.use(wp).use(MS).init({fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:Bg({translation:KS,moveGenPrompt:l_,worldGenPrompt:L_}),ru:Bg({translation:IS,moveGenPrompt:y_,worldGenPrompt:I_})}})}function Bg(r){const a={};for(const s of Object.keys(r))a[s]=F_(r[s]);return a}function F_(r){const a=Object.assign({},r);for(const s of Object.keys(r)){const i=r[s],u=s.split(".");let f=a;for(let d=0;d<u.length;d++){const m=u[d];d===u.length-1?f[m]=i:((f[m]===void 0||typeof f[m]!="object")&&(f[m]={}),f=f[m])}}return a}function $e(r,a="translation"){const{t:s,...i}=bp(a);return{t:_e.useCallback((f,d={})=>{const m=f.includes(".")?f:`components.${r}.${f}`;return s(m,d)},[s,r]),...i}}const ta=({header:r,classNames:a,refs:s,emptyMessage:i,collapsedByDefault:u,children:f})=>{const{t:d}=$e("SidebarPanel"),[m,y]=_e.useState(u);return It.Children.count(f)?A.jsxs("section",{className:Tn.container+" "+(m?Tn.collapsed:""),children:[A.jsxs("div",{className:Tn.headerWrapper,onClick:()=>y(g=>!g),children:[A.jsx("header",{ref:s==null?void 0:s.header,className:`${Tn.header} ${(a==null?void 0:a.header)??""}`,children:r}),A.jsx("div",{className:Tn.toggleButton,children:m?"▼":"▲"})]}),A.jsx("div",{ref:s==null?void 0:s.body,className:`${Tn.body} ${(a==null?void 0:a.body)??""} ${m?Tn.collapsed:""}`,children:f})]}):A.jsx("section",{className:Tn.container,children:A.jsx("div",{className:Tn.empty,children:i||d("empty")})})},P_=({terrain:r})=>{const{t:a}=$e("TileDetailsPanel");return A.jsxs("div",{className:un.terrainLine,children:[a("terrain"),": ",A.jsx("span",{style:{backgroundColor:r.color},children:r.title})]})},W_=({feature:r})=>{const{t:a}=$e("TileDetailsPanel");return r?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:un.field,children:[a("object"),": ",A.jsxs("span",{children:[r.icon," ",r.title]})]}),A.jsx("div",{className:un.field,children:r.description})]}):A.jsx("div",{className:un.emptyFeature,children:a("empty")})},e1=({entities:r,onClickEntity:a})=>{const{t:s}=$e("TileDetailsPanel");return r.length===0?null:A.jsxs("div",{className:un.entityList,children:[s("entities"),":",r.map(i=>A.jsxs("div",{className:un.entityListItem,onClick:()=>a==null?void 0:a(i),children:[A.jsx("span",{className:un.entityIcon,children:i.icon}),A.jsx("span",{children:i.title})]},i.id))]})},t1=({tile:r,onClickEntity:a})=>{const{t:s}=$e("TileDetailsPanel");if(!r)return A.jsx(ta,{emptyMessage:s("selectTile")});const{position:{x:i,y:u},data:{terrain:f,feature:d},entities:m}=r;return A.jsxs(ta,{header:`${s("coordinates")}: X: ${i}, Y: ${u}`,classNames:{body:un.body},children:[A.jsx("div",{className:un.tileWrapper,children:A.jsx(hp,{tile:r})}),A.jsxs("div",{className:un.info,children:[A.jsx(P_,{terrain:f}),A.jsx(W_,{feature:d}),A.jsx(e1,{entities:m,onClickEntity:a})]})]})},n1="_worldMapView_kvmxd_3",a1={worldMapView:n1},s1=({worldMap:r,onClickTile:a})=>{const{t:s}=$e("WorldMapView"),i={"--width":r.width,"--height":r.height};return A.jsx("div",{className:a1.worldMapView,style:i,title:s("worldMap"),children:r.grid.toArray().flat().map(u=>A.jsx(hp,{tile:u,onClick:a},`${u.position.x}-${u.position.y}`))})};class i1{constructor(a){me(this,"items");this.items=a?[...a]:[]}getItems(){return[...this.items]}addItem(a,s=1){return typeof a=="string"?this.modifyStackSize(a,s):this.hasItem(a.id)?this.modifyStackSize(a.id,a.amount):(this.items.push({...a}),!0)}removeItem(a,s=1/0){return this.modifyStackSize(a,-s)}hasItem(a,s=1){return this.getItemAmount(a)>=s}getItemAmount(a){var s;return((s=this.findItem(a))==null?void 0:s.amount)??0}findItem(a){return this.items.find(s=>s.id===a)??null}modifyStackSize(a,s){const i=this.items.find(u=>u.id===a);return i?(i.amount+=s,i.amount<=0&&this.items.splice(this.items.indexOf(i),1),!0):!1}}class jr{constructor(a){me(this,"id");me(this,"icon");me(this,"title");me(this,"inventory");this.id=a.id,this.icon=a.icon,this.title=a.title,this.inventory=new i1(a.initialItems)}toJson(){return{id:this.id,icon:this.icon,title:this.title,inventory:this.inventory.getItems()}}static fromJson(a){return new jr({id:a.id,icon:a.icon,title:a.title,initialItems:a.inventory})}}class zr{constructor(a,s,i,u=[]){me(this,"position");me(this,"data");me(this,"entities");this.position={x:a,y:s},this.data=i,this.entities=u}addEntity(a){this.entities.push(a)}removeEntity(a){const s=this.entities.indexOf(a);return s<0?!1:(this.entities.splice(s,1),!0)}hasEntity(a){return this.entities.some(s=>s.id===a)}getEntity(a){return this.entities.find(s=>s.id===a)||null}toJson(){return{position:this.position,data:this.data,entities:this.entities.map(a=>a.toJson())}}static fromJson(a){return new zr(a.position.x,a.position.y,a.data,a.entities.map(s=>jr.fromJson(s)))}}class Xc{constructor(a,s,i){me(this,"width");me(this,"height");me(this,"data");this.width=a,this.height=s,this.data=Array.from({length:s},(u,f)=>Array.from({length:a},(d,m)=>i(m,f)))}isInBounds(a,s){return a>=0&&a<this.width&&s>=0&&s<this.height}get(a,s){return this.checkBounds(a,s),this.data[s][a]}set(a,s,i){this.checkBounds(a,s),this.data[s][a]=i}map(a){return this.data.map((s,i)=>s.map((u,f)=>a(u,f,i)))}checkBounds(a,s){if(!this.isInBounds(a,s))throw new Error(`Out of bounds: (${a}, ${s})`)}toArray(){return this.data}static fromArray(a){var u;const s=((u=a[0])==null?void 0:u.length)??0,i=a.length;return new Xc(s,i,(f,d)=>a[d][f])}}class l1{constructor(a,s,i){me(this,"grid");this.grid=new Xc(a,s,(u,f)=>new zr(u,f,i(u,f)))}get width(){return this.grid.width}get height(){return this.grid.height}getData(a,s){return this.getTile(a,s).data}setData(a,s,i){this.getTile(a,s).data=i}getTile(a,s){return this.grid.get(a,s)}setTile(a,s,i){this.grid.set(a,s,i)}getTilesInRadius(a,s,i){return this.toArray().flat().filter(u=>{const f=Math.abs(u.position.x-a)<=i,d=Math.abs(u.position.y-s)<=i;return f&&d})}moveEntity(a,s,i){if(!this.grid.isInBounds(s,i))return;const u=this.getEntity(a);u&&(this.removeEntity(u),this.addEntity(s,i,u))}addEntity(a,s,i){this.getTile(a,s).addEntity(i)}removeEntity(a){const s=this.getEntity(a);if(!s)return!1;const i=this.findEntityTile(s);return(i==null?void 0:i.removeEntity(s))??!1}getEntity(a){return typeof a=="string"?this.findEntity(a):a}findEntity(a){var s;return((s=this.findEntityTile(a))==null?void 0:s.getEntity(a))??null}findEntityTile(a){const s=typeof a=="string"?a:a.id;for(const i of this.toArray().flat())if(i.hasEntity(s))return i;return null}getEntities(a,s){return[...this.getTile(a,s).entities]}map(a){return this.grid.map(a)}toArray(){return this.grid.toArray()}}class _s{constructor(a){me(this,"grid");me(this,"emptyTileData");this.grid=new l1(a.width,a.height,()=>({...a.emptyTileData})),this.emptyTileData=a.emptyTileData}get width(){return this.grid.width}get height(){return this.grid.height}getTile(a,s){return this.grid.getTile(a,s)}setTileData(a,s,i){this.grid.setData(a,s,i)}getTilesInRadius(a,s,i){return this.grid.getTilesInRadius(a,s,i)}moveEntity(a,s,i){this.grid.moveEntity(a,s,i)}addEntity(a,s,i){this.grid.addEntity(a,s,i)}removeEntity(a){return this.grid.removeEntity(a)}getEntities(a,s){return this.grid.getEntities(a,s)}getEntity(a){return this.grid.getEntity(a)}findEntity(a){return this.grid.findEntity(a)}findEntityTile(a){return this.grid.findEntityTile(a)}toJson(){return{width:this.grid.width,height:this.grid.height,tiles:this.serializeTiles(),emptyTileData:this.emptyTileData}}serializeTiles(){return this.grid.toArray().flat().filter(a=>a.data!==this.emptyTileData||a.entities.length>0).map(a=>a.toJson())}static fromJson(a){const s=new _s(a);return a.tiles.map(i=>zr.fromJson(i)).forEach(i=>{s.grid.setTile(i.position.x,i.position.y,i)}),s}}function r1(){const r=new _s({width:10,height:10,emptyTileData:{terrain:{title:"Равнина",color:"#fafffa"},feature:null}});for(let s=0;s<10;s++)r.setTileData(6,s,{terrain:{title:"Река",color:"#fafbff"},feature:null});r.getTile(6,3).data.feature={title:"Мост",icon:"🌉",description:"Старый дряхлый мост, проходящий через реку"};const a=[{x:2,y:2},{x:4,y:2},{x:8,y:6},{x:9,y:7},{x:9,y:8}];for(let s of a)r.setTileData(s.x,s.y,{terrain:{title:"Равнина",color:"#fafffa"},feature:{title:"Дерево",icon:"🌲",description:"Обычное дерево"}});return r.addEntity(3,5,new jr({id:"player",icon:"👤",title:"Игрок",initialItems:[{id:"apple",icon:"🍎",title:"Яблоко",description:"Не очень вкусное на вид яблоко",amount:2},{id:"bottleWithWater",icon:"💧",title:"Бутылка с водой",description:"Полупустая бутылка с питьевой водой",amount:1},{id:"axe",icon:"🪓",title:"Топор",description:"Старый топор, который вот-вот сломается",amount:1}]})),r}const o1="_container_1dg05_3",u1="_header_1dg05_31",c1="_entityNames_1dg05_47",f1="_title_1dg05_57",d1="_id_1dg05_65",h1="_icon_1dg05_77",m1="_body_1dg05_93",g1="_inventoryTitle_1dg05_101",p1="_inventoryList_1dg05_113",y1="_inventoryItem_1dg05_123",v1="_itemIcon_1dg05_147",b1="_itemInfo_1dg05_159",S1="_itemTitle_1dg05_173",_1="_itemId_1dg05_181",w1="_itemDescription_1dg05_191",x1="_itemAmount_1dg05_201",A1="_empty_1dg05_211",ot={container:o1,header:u1,entityNames:c1,title:f1,id:d1,icon:h1,body:m1,inventoryTitle:g1,inventoryList:p1,inventoryItem:y1,itemIcon:v1,itemInfo:b1,itemTitle:S1,itemId:_1,itemDescription:w1,itemAmount:x1,empty:A1},T1=({entity:r})=>{const{t:a}=$e("EntityDetailsPanel");return A.jsxs(A.Fragment,{children:[A.jsx("span",{className:ot.icon,children:r.icon}),A.jsxs("div",{className:ot.entityNames,children:[A.jsx("span",{className:ot.title,children:r.title}),A.jsxs("div",{className:ot.id,children:[a("id"),": ",r.id]})]})]})},xp=({message:r})=>A.jsx("div",{className:ot.empty,children:r}),E1=({inventory:r})=>{const{t:a}=$e("EntityDetailsPanel"),s=r.getItems();return A.jsxs("div",{children:[A.jsx("div",{className:ot.inventoryTitle,children:a("inventory")}),s.length>0&&A.jsx(O1,{items:s}),s.length===0&&A.jsx(xp,{message:a("emptyInventory")})]})},O1=({items:r})=>A.jsx("div",{className:ot.inventoryList,children:r.map(a=>A.jsx(R1,{item:a},a.id))}),R1=({item:r})=>A.jsxs("div",{className:ot.inventoryItem,children:[A.jsx("span",{className:ot.itemIcon,children:r.icon}),A.jsxs("div",{className:ot.itemInfo,children:[A.jsx("span",{className:ot.itemTitle,children:r.title}),A.jsxs("span",{className:ot.itemId,children:["ID: ",r.id]}),A.jsx("span",{className:ot.itemDescription,children:r.description})]}),A.jsxs("span",{className:ot.itemAmount,children:["×",r.amount]})]}),M1=({entity:r})=>{const{t:a}=$e("EntityDetailsPanel");return r?A.jsx(ta,{header:A.jsx(T1,{entity:r}),emptyMessage:a("selectEntity"),classNames:{header:ot.header,body:ot.body},children:A.jsx(E1,{inventory:r.inventory})}):A.jsx("section",{className:ot.container,children:A.jsx(xp,{message:a("selectEntity")})})};class ws{static fromJson(a){throw new Error("Not implemented")}}class qr extends ws{constructor(s,i){super();me(this,"type","jump");me(this,"entityId");me(this,"target");this.entityId=s,this.target=i}apply(s){s.moveEntity(this.entityId,this.target.x,this.target.y)}toJson(){return{type:this.type,entityId:this.entityId,target:this.target}}static fromJson(s){return new qr(s.entityId,s.target)}}const N1="_body_gubf9_3",C1="_moveControls_gubf9_17",Hg={body:N1,moveControls:C1};class Br extends ws{constructor(s,i){super();me(this,"type","addItem");me(this,"entityId");me(this,"item");this.entityId=s,this.item=i}apply(s){const i=s.findEntity(this.entityId);i&&i.inventory.addItem(this.item)}toJson(){return{type:this.type,entityId:this.entityId,item:this.item}}static fromJson(s){return new Br(s.entityId,s.item)}}class ki extends ws{constructor(s,i,u){super();me(this,"type","removeItem");me(this,"entityId");me(this,"itemId");me(this,"amount");this.entityId=s,this.itemId=i,this.amount=u}apply(s){const i=s.findEntity(this.entityId);i&&i.inventory.removeItem(this.itemId,this.amount)}toJson(){return{type:this.type,entityId:this.entityId,itemId:this.itemId,amount:this.amount}}static fromJson(s){return new ki(s.entityId,s.itemId,s.amount)}}class Hr extends ws{constructor(s,i,u){super();me(this,"type","addItemToStack");me(this,"entityId");me(this,"itemId");me(this,"amount");this.entityId=s,this.itemId=i,this.amount=u}apply(s){const i=s.findEntity(this.entityId);i&&i.inventory.addItem(this.itemId,this.amount)}toJson(){return{type:this.type,entityId:this.entityId,itemId:this.itemId,amount:this.amount}}static fromJson(s){return new Hr(s.entityId,s.itemId,s.amount)}}class Ss extends ws{constructor(s,i){super();me(this,"type","setTileFeature");me(this,"position");me(this,"feature");this.position=s,this.feature=i}apply(s){const i=s.getTile(this.position.x,this.position.y);i&&(i.data.feature=this.feature?{...this.feature}:null)}toJson(){return{type:this.type,position:this.position,feature:this.feature}}static fromJson(s){return new Ss(s.position,s.feature)}}const D1=({worldMap:r,onApplyMove:a})=>{const{t:s}=$e("TestActionsPanel"),i=O=>{a({actions:[O],thought:"",narrativeEvents:[]})},u=(O,T)=>{const N=r.findEntityTile("player");N&&i(new qr("player",{x:N.position.x+O,y:N.position.y+T}))},f=()=>{const O={id:"apple",icon:"🍎",title:s("apple"),description:s("juicyRedApple"),amount:1};i(new Br("player",O))},d=()=>{i(new Hr("player","apple",1))},m=()=>{i(new ki("player","apple",1))},y=()=>{i(new ki("player","apple"))},g=()=>{i(new Ss({x:8,y:1},{icon:"🌳",title:s("tree"),description:s("largeGreenTree")}))},b=()=>{i(new Ss({x:8,y:1},{icon:"⛰️",title:s("mountain"),description:s("largeMountain")}))},S=()=>{i(new Ss({x:8,y:1}))};return A.jsxs(ta,{header:s("testActions"),classNames:{body:Hg.body},collapsedByDefault:!0,children:[A.jsxs("div",{className:Hg.moveControls,children:[A.jsx("div",{}),A.jsx("button",{onClick:()=>u(0,-1),children:"↑"}),A.jsx("div",{}),A.jsx("button",{onClick:()=>u(-1,0),children:"←"}),A.jsx("div",{}),A.jsx("button",{onClick:()=>u(1,0),children:"→"}),A.jsx("div",{}),A.jsx("button",{onClick:()=>u(0,1),children:"↓"}),A.jsx("div",{})]}),A.jsx("button",{onClick:f,children:s("addNewStackOfApple")}),A.jsx("button",{onClick:d,children:s("addAppleToExistingStack")}),A.jsx("button",{onClick:m,children:s("removeOneApple")}),A.jsx("button",{onClick:y,children:s("removeAllApples")}),A.jsxs("button",{onClick:g,children:[s("setTreeFeature")," 🌳 ",s("atCoordinates",{x:8,y:1})]}),A.jsxs("button",{onClick:b,children:[s("setMountainFeature")," ⛰️ ",s("atCoordinates",{x:8,y:1})]}),A.jsxs("button",{onClick:S,children:[s("clearTileFeature")," ",s("atCoordinates",{x:8,y:1})]})]})},L1=`
You are an artificial intelligence controlling an agent in a procedurally generated world.
Your task is to control the agent to perform actions that will bring you closer to fulfilling a global goal,
generating actions strictly following the rules above.

IMPORTANT RULES:
All action types (action.type) and item ids inside actions must be strictly in English.
Examples of action types: "move", "addItem", "removeItem".
Examples of item names: "berries", "worm", "stick".

Everything else — goals, narrative events, inventory reports, descriptions — must be ONLY in {{textLanguage}}.

The inventory is stored and managed by the simulator. You must NOT list the inventory contents yourself.
The global target is stored and managed by the simulator. You must NOT repeat the target yourself.

Respond ONLY with serialized moves in JSON object format, corresponding to this interface:
interface AgentMove {
    actions: Action[];
    thought: string;
    narrativeEvents: string[];
}

IMPORTANT RULES FOR "thought" AND "narrativeEvents" FIELDS:

"thought" MUST CONTAIN ONLY THE AGENT'S INTERNAL REFLECTIONS.
– Write as if the agent is truly thinking to themselves in {{textLanguage}}.
– Do not describe any physical actions, movements, or game mechanics here — only the agent's private reasoning, feelings, uncertainties, or plans.
- Write a variety of texts, don't repeat the similar thoughts several times in a row.
– Use first-person introspective style.

"narrativeEvents" MUST LIST ONLY THE OUTWARD HAPPENINGS OF THIS TURN.
– Each entry describes a discrete event that actually occurred (e.g., movement, discovery, interaction) in {{textLanguage}}.
– Do not include the agent's thoughts or motivations — only factual descriptions of what happened.
– Use past-tense or perfect-tense style appropriate for narration.
- Split your actions into separate items, single item for each event.
- Add random events happened with you on that move.
- You may add various ambient events as additional items.

SEPARATION OF ROLES:
- "thought" = what the agent is thinking (inner monologue)
- "narrativeEvents" = what happened to the agent this turn (outer narration)



Each move you will receive a prompt with the current state. Each move you can move ONLY to one of the adjacent tiles.
Check the adjacentTiles field in the state provided and decide which tile it is safe to move to.
Your move can contain only ONE "move" action in "actions" array.
Negative Y points to the NORTH, positive Y points to the SOUTH.
Negative X points to the WEST, positive X points to the EAST.

You may creatively identify and add logically appropriate items for the world (e.g., worms under stones,
berries on bushes), but only by generating the proper addItem/removeItem actions.

Your actions MUST be realistic and logical. For the character you control, this world is REAL.
You can ONLY interact with a tile if you are standing on it.

You must plan your actions with the type of terrain in mind. Example rules:
  Do not wade across a river unless it is an emergency situation
  Prefer to travel through comfortable terrain instead of difficult to navigate areas.

Each move, you should put your thoughts and any things happened with you in the thought field.
It should be written as a narrative spoken on behalf of a person in this world.
He does not have to know about the technicalities of this world - for him it is just an ordinary world.
For example, he doesn't know about the tiles/squares.



All supported actions:

To move to another tile, use the following action format (you can move by ONLY one tile in any direction):
{
    type: 'move';
    entityId: string;
    moveBy: {
        x: number;
        y: number;
    };
}

To add a new item to the inventory, use the following action format:
{
    type: 'addItem';
    entityId: string;
    item: {
        id: string;
        icon: string;
        title: string;
        description: string;
        amount: number;
    };
}

To add items to existing stack, use the following action format:
{
    type: 'addItemToStack';
    entityId: string;
    itemId: string;
    amount: number;
}

To remove items from inventory, use the following action format (skip the amount if you want to remove entire stack):
{
    type: 'removeItem';
    entityId: string;
    itemId: string;
    amount?: number;
}

To modify the feature in certain tile, use the following action format (or skip the feature if you want to remove it):
{
    type: 'setTileFeature';
    position: {
        x: number;
        y: number;
    };
    feature?: {
        icon: string;
        title: string;
        description: string;
    };
}
`.trim();class Er{static equals(a,s){return a.x===s.x&&a.y===s.y}static add(a,s){return{x:a.x+s.x,y:a.y+s.y}}static subtract(a,s){return{x:a.x-s.x,y:a.y-s.y}}static toDirection(a){const s=a.x>0?1:a.x<0?-1:0,i=a.y>0?1:a.y<0?-1:0;return{x:s,y:i}}}class Qc extends ws{constructor(s,i,u=!0){super();me(this,"type","move");me(this,"entityId");me(this,"moveBy");this.entityId=s,this.moveBy=u?Er.toDirection(i):i}apply(s){const i=s.findEntityTile(this.entityId);if(!i)return;const{x:u,y:f}=Er.add(i.position,this.moveBy);s.moveEntity(this.entityId,u,f)}toJson(){return{type:this.type,entityId:this.entityId,moveBy:this.moveBy}}static fromJson(s){return new Qc(s.entityId,s.moveBy)}}const U1={jump:qr.fromJson,move:Qc.fromJson,addItem:Br.fromJson,addItemToStack:Hr.fromJson,removeItem:ki.fromJson,setTileFeature:Ss.fromJson};function j1(r){const a=r.type,s=U1[a];return s?s(r):null}function z1(r){return{actions:r.actions.map(j1).filter(Boolean).map(a=>a),thought:r.thought,narrativeEvents:r.narrativeEvents}}class Ap{constructor(a){me(this,"driver");this.driver=a}async prompt(a,s){const i=this.buildSystemPrompt(s);return this.driver.setSystemPrompt(i),await this.driver.prompt(a)}parseJson(a){return JSON.parse(a)}buildSystemPrompt(a){return this.getSystemPromptTemplate().trim().replace(/\{\{(\w+)}}/g,(i,u)=>(a==null?void 0:a[u])??i)}}class q1 extends Ap{constructor(){super(...arguments);me(this,"moveHistory",[])}async generateMove(s){const i=this.buildUserPrompt(s),u=await this.prompt(i,s.systemPromptVariables);if(!u.content)return{error:"Empty response from AI"};try{const f=this.parseJson(u.content),d=z1(f);return console.log("Parsed move:",d),console.log(u.usedTokens),this.moveHistory.push(d),{move:d}}catch(f){return console.warn("Failed to parse move",u.content,f),{error:"Failed to parse move: "+((f==null?void 0:f.message)??"")}}}getSystemPromptTemplate(){return L1}buildUserPrompt(s){const i=s.worldMap.findEntityTile(s.playerEntity.id);if(!i)throw new Error("Failed to find player tile");const u=s.worldMap.getTilesInRadius(i.position.x,i.position.y,1).filter(y=>!Er.equals(y.position,i.position)).map(y=>y.toJson()).map(y=>{var g,b;return{relativePosition:Er.subtract(y.position,i.position),tileInfo:`${y.data.terrain.title}. ${(g=y.data.feature)==null?void 0:g.icon} ${((b=y.data.feature)==null?void 0:b.title)??"ничего интересного"}.`}}),f=s.worldMap.getTilesInRadius(i.position.x,i.position.y,3).map(y=>y.toJson()),d=this.moveHistory.slice(-5).map(y=>y.thought),m={globalTarget:s.globalTarget,previousMoves:this.moveHistory,latestThoughts:d,playerTile:i,adjacentTiles:u,visibleTiles:f};return console.log("moveContext",m),JSON.stringify(m)}}const B1="_agentActionsView_1nzwo_3",H1={agentActionsView:B1},k1="_persistentField_1u0z5_3",G1="_checkbox_1u0z5_33",kg={persistentField:k1,checkbox:G1},Zt=({type:r,label:a,storageKey:s,value:i,onChange:u,options:f=[]})=>{_e.useEffect(()=>{const y=localStorage.getItem(s);y!==null&&y!==i&&u(y)},[]),_e.useEffect(()=>{const y=String(i);y!==""&&localStorage.setItem(s,y)},[s,i]);const d=y=>{const g=r==="checkbox"?String(y.target.checked):y.target.value;localStorage.setItem(s,g),u(g)},m={type:r,value:r==="checkbox"?void 0:String(i),checked:r==="checkbox"?i:void 0,onChange:d};return A.jsxs("label",{className:kg.persistentField+" "+kg[r],children:[r==="checkbox"&&A.jsxs(A.Fragment,{children:[A.jsx("input",{...m}),A.jsx("span",{children:a})]}),r==="textarea"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[a,":"]}),A.jsx("textarea",{...m,rows:3})]}),r==="select"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[a,":"]}),A.jsx("select",{...m,children:f.map(y=>A.jsx("option",{value:y.value,children:y.label},y.value))})]}),r!=="checkbox"&&r!=="textarea"&&r!=="select"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[a,":"]}),A.jsx("input",{...m})]})]})},$1=({agent:r,worldMap:a,playerEntity:s,onApplyMove:i})=>{const{t:u,i18n:f}=$e("MoveGenAgentActionsView"),[d,m]=_e.useState(u("readyForMoveRequest")),[y,g]=_e.useState(""),b=async()=>{m(u("generatingMove"));try{const S=f.getResourceBundle(f.language,"moveGenPrompt"),O=await r.generateMove({worldMap:a,playerEntity:s,globalTarget:y,systemPromptVariables:S});if(!O.move){m(O.error??u("failedToGenerateMove"));return}i(O.move),m(u("moveGeneratedSuccessfully"))}catch(S){m(u("moveGenerationError")),console.error(S)}};return A.jsxs("div",{className:H1.agentActionsView,children:[A.jsx(Zt,{type:"textarea",label:u("globalTarget"),storageKey:"agent_globalTarget",value:y,onChange:g}),A.jsxs("div",{children:[u("status"),": ",d]}),A.jsx("button",{onClick:b,children:u("nextMove")})]})};function ce(r,a,s,i,u){if(typeof a=="function"?r!==a||!0:!a.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a.set(r,s),s}function D(r,a,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?r!==a||!i:!a.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(r):i?i.value:a.get(r)}let Tp=function(){const{crypto:r}=globalThis;if(r!=null&&r.randomUUID)return Tp=r.randomUUID.bind(r),r.randomUUID();const a=new Uint8Array(1),s=r?()=>r.getRandomValues(a)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^s()&15>>+i/4).toString(16))};function Dc(r){return typeof r=="object"&&r!==null&&("name"in r&&r.name==="AbortError"||"message"in r&&String(r.message).includes("FetchRequestCanceledException"))}const Lc=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null){try{if(Object.prototype.toString.call(r)==="[object Error]"){const a=new Error(r.message,r.cause?{cause:r.cause}:{});return r.stack&&(a.stack=r.stack),r.cause&&!a.cause&&(a.cause=r.cause),r.name&&(a.name=r.name),a}}catch{}try{return new Error(JSON.stringify(r))}catch{}}return new Error(r)};class re extends Error{}class ut extends re{constructor(a,s,i,u){super(`${ut.makeMessage(a,s,i)}`),this.status=a,this.headers=u,this.requestID=u==null?void 0:u.get("x-request-id"),this.error=s;const f=s;this.code=f==null?void 0:f.code,this.param=f==null?void 0:f.param,this.type=f==null?void 0:f.type}static makeMessage(a,s,i){const u=s!=null&&s.message?typeof s.message=="string"?s.message:JSON.stringify(s.message):s?JSON.stringify(s):i;return a&&u?`${a} ${u}`:a?`${a} status code (no body)`:u||"(no status code or body)"}static generate(a,s,i,u){if(!a||!u)return new kr({message:i,cause:Lc(s)});const f=s==null?void 0:s.error;return a===400?new Ep(a,f,i,u):a===401?new Op(a,f,i,u):a===403?new Rp(a,f,i,u):a===404?new Mp(a,f,i,u):a===409?new Np(a,f,i,u):a===422?new Cp(a,f,i,u):a===429?new Dp(a,f,i,u):a>=500?new Lp(a,f,i,u):new ut(a,f,i,u)}}class Yt extends ut{constructor({message:a}={}){super(void 0,void 0,a||"Request was aborted.",void 0)}}class kr extends ut{constructor({message:a,cause:s}){super(void 0,void 0,a||"Connection error.",void 0),s&&(this.cause=s)}}class Jc extends kr{constructor({message:a}={}){super({message:a??"Request timed out."})}}class Ep extends ut{}class Op extends ut{}class Rp extends ut{}class Mp extends ut{}class Np extends ut{}class Cp extends ut{}class Dp extends ut{}class Lp extends ut{}class Up extends re{constructor(){super("Could not parse response content as the length limit was reached")}}class jp extends re{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const V1=/^[a-z][a-z0-9+.-]*:/i,Y1=r=>V1.test(r);function X1(r){return typeof r!="object"?{}:r??{}}function Q1(r){if(!r)return!0;for(const a in r)return!1;return!0}function J1(r,a){return Object.prototype.hasOwnProperty.call(r,a)}function pc(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}const K1=(r,a)=>{if(typeof a!="number"||!Number.isInteger(a))throw new re(`${r} must be an integer`);if(a<0)throw new re(`${r} must be a positive integer`);return a},I1=r=>{try{return JSON.parse(r)}catch{return}},$i=r=>new Promise(a=>setTimeout(a,r)),Or={off:0,error:200,warn:300,info:400,debug:500},Gg=(r,a,s)=>{if(r){if(J1(Or,r))return r;ht(s).warn(`${a} was set to ${JSON.stringify(r)}, expected one of ${JSON.stringify(Object.keys(Or))}`)}};function Ei(){}function or(r,a,s){return!a||Or[r]>Or[s]?Ei:a[r].bind(a)}const Z1={error:Ei,warn:Ei,info:Ei,debug:Ei};let $g=new WeakMap;function ht(r){const a=r.logger,s=r.logLevel??"off";if(!a)return Z1;const i=$g.get(a);if(i&&i[0]===s)return i[1];const u={error:or("error",a,s),warn:or("warn",a,s),info:or("info",a,s),debug:or("debug",a,s)};return $g.set(a,[s,u]),u}const Sa=r=>(r.options&&(r.options={...r.options},delete r.options.headers),r.headers&&(r.headers=Object.fromEntries((r.headers instanceof Headers?[...r.headers]:Object.entries(r.headers)).map(([a,s])=>[a,a.toLowerCase()==="authorization"||a.toLowerCase()==="cookie"||a.toLowerCase()==="set-cookie"?"***":s]))),"retryOfRequestLogID"in r&&(r.retryOfRequestLogID&&(r.retryOf=r.retryOfRequestLogID),delete r.retryOfRequestLogID),r),ys="5.0.1",F1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function P1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const W1=()=>{var s;const r=P1();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":Yg(Deno.build.os),"X-Stainless-Arch":Vg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((s=Deno.version)==null?void 0:s.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":Yg(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Vg(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const a=ew();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ew(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:a,pattern:s}of r){const i=s.exec(navigator.userAgent);if(i){const u=i[1]||0,f=i[2]||0,d=i[3]||0;return{browser:a,version:`${u}.${f}.${d}`}}}return null}const Vg=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",Yg=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let Xg;const tw=()=>Xg??(Xg=W1());function nw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function zp(...r){const a=globalThis.ReadableStream;if(typeof a>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new a(...r)}function qp(r){let a=Symbol.asyncIterator in r?r[Symbol.asyncIterator]():r[Symbol.iterator]();return zp({start(){},async pull(s){const{done:i,value:u}=await a.next();i?s.close():s.enqueue(u)},async cancel(){var s;await((s=a.return)==null?void 0:s.call(a))}})}function Bp(r){if(r[Symbol.asyncIterator])return r;const a=r.getReader();return{async next(){try{const s=await a.read();return s!=null&&s.done&&a.releaseLock(),s}catch(s){throw a.releaseLock(),s}},async return(){const s=a.cancel();return a.releaseLock(),await s,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function aw(r){var i,u;if(r===null||typeof r!="object")return;if(r[Symbol.asyncIterator]){await((u=(i=r[Symbol.asyncIterator]()).return)==null?void 0:u.call(i));return}const a=r.getReader(),s=a.cancel();a.releaseLock(),await s}const sw=({headers:r,body:a})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(a)}),Uc="RFC3986",jc={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:r=>String(r)},iw="RFC1738",lw=Array.isArray,an=(()=>{const r=[];for(let a=0;a<256;++a)r.push("%"+((a<16?"0":"")+a.toString(16)).toUpperCase());return r})(),yc=1024,rw=(r,a,s,i,u)=>{if(r.length===0)return r;let f=r;if(typeof r=="symbol"?f=Symbol.prototype.toString.call(r):typeof r!="string"&&(f=String(r)),s==="iso-8859-1")return escape(f).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});let d="";for(let m=0;m<f.length;m+=yc){const y=f.length>=yc?f.slice(m,m+yc):f,g=[];for(let b=0;b<y.length;++b){let S=y.charCodeAt(b);if(S===45||S===46||S===95||S===126||S>=48&&S<=57||S>=65&&S<=90||S>=97&&S<=122||u===iw&&(S===40||S===41)){g[g.length]=y.charAt(b);continue}if(S<128){g[g.length]=an[S];continue}if(S<2048){g[g.length]=an[192|S>>6]+an[128|S&63];continue}if(S<55296||S>=57344){g[g.length]=an[224|S>>12]+an[128|S>>6&63]+an[128|S&63];continue}b+=1,S=65536+((S&1023)<<10|y.charCodeAt(b)&1023),g[g.length]=an[240|S>>18]+an[128|S>>12&63]+an[128|S>>6&63]+an[128|S&63]}d+=g.join("")}return d};function ow(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function Qg(r,a){if(lw(r)){const s=[];for(let i=0;i<r.length;i+=1)s.push(a(r[i]));return s}return a(r)}const uw=Object.prototype.hasOwnProperty,Hp={brackets(r){return String(r)+"[]"},comma:"comma",indices(r,a){return String(r)+"["+a+"]"},repeat(r){return String(r)}},sn=Array.isArray,cw=Array.prototype.push,kp=function(r,a){cw.apply(r,sn(a)?a:[a])},fw=Date.prototype.toISOString,Pe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:rw,encodeValuesOnly:!1,format:Uc,formatter:jc[Uc],indices:!1,serializeDate(r){return fw.call(r)},skipNulls:!1,strictNullHandling:!1};function dw(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"}const vc={};function Gp(r,a,s,i,u,f,d,m,y,g,b,S,O,T,N,q,H,ee){let G=r,Y=ee,k=0,J=!1;for(;(Y=Y.get(vc))!==void 0&&!J;){const P=Y.get(r);if(k+=1,typeof P<"u"){if(P===k)throw new RangeError("Cyclic object value");J=!0}typeof Y.get(vc)>"u"&&(k=0)}if(typeof g=="function"?G=g(a,G):G instanceof Date?G=O==null?void 0:O(G):s==="comma"&&sn(G)&&(G=Qg(G,function(P){return P instanceof Date?O==null?void 0:O(P):P})),G===null){if(f)return y&&!q?y(a,Pe.encoder,H,"key",T):a;G=""}if(dw(G)||ow(G)){if(y){const P=q?a:y(a,Pe.encoder,H,"key",T);return[(N==null?void 0:N(P))+"="+(N==null?void 0:N(y(G,Pe.encoder,H,"value",T)))]}return[(N==null?void 0:N(a))+"="+(N==null?void 0:N(String(G)))]}const oe=[];if(typeof G>"u")return oe;let I;if(s==="comma"&&sn(G))q&&y&&(G=Qg(G,y)),I=[{value:G.length>0?G.join(",")||null:void 0}];else if(sn(g))I=g;else{const P=Object.keys(G);I=b?P.sort(b):P}const ue=m?String(a).replace(/\./g,"%2E"):String(a),Z=i&&sn(G)&&G.length===1?ue+"[]":ue;if(u&&sn(G)&&G.length===0)return Z+"[]";for(let P=0;P<I.length;++P){const ie=I[P],Ue=typeof ie=="object"&&typeof ie.value<"u"?ie.value:G[ie];if(d&&Ue===null)continue;const Be=S&&m?ie.replace(/\./g,"%2E"):ie,Ve=sn(G)?typeof s=="function"?s(Z,Be):Z:Z+(S?"."+Be:"["+Be+"]");ee.set(r,k);const He=new WeakMap;He.set(vc,ee),kp(oe,Gp(Ue,Ve,s,i,u,f,d,m,s==="comma"&&q&&sn(G)?null:y,g,b,S,O,T,N,q,H,He))}return oe}function hw(r=Pe){if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");const a=r.charset||Pe.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let s=Uc;if(typeof r.format<"u"){if(!uw.call(jc,r.format))throw new TypeError("Unknown format option provided.");s=r.format}const i=jc[s];let u=Pe.filter;(typeof r.filter=="function"||sn(r.filter))&&(u=r.filter);let f;if(r.arrayFormat&&r.arrayFormat in Hp?f=r.arrayFormat:"indices"in r?f=r.indices?"indices":"repeat":f=Pe.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof r.allowDots>"u"?r.encodeDotInKeys?!0:Pe.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:Pe.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:Pe.allowEmptyArrays,arrayFormat:f,charset:a,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:Pe.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?Pe.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:Pe.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:Pe.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:Pe.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:Pe.encodeValuesOnly,filter:u,format:s,formatter:i,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:Pe.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:Pe.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:Pe.strictNullHandling}}function mw(r,a={}){let s=r;const i=hw(a);let u,f;typeof i.filter=="function"?(f=i.filter,s=f("",s)):sn(i.filter)&&(f=i.filter,u=f);const d=[];if(typeof s!="object"||s===null)return"";const m=Hp[i.arrayFormat],y=m==="comma"&&i.commaRoundTrip;u||(u=Object.keys(s)),i.sort&&u.sort(i.sort);const g=new WeakMap;for(let O=0;O<u.length;++O){const T=u[O];i.skipNulls&&s[T]===null||kp(d,Gp(s[T],T,m,y,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,g))}const b=d.join(i.delimiter);let S=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),b.length>0?S+b:""}function gw(r){let a=0;for(const u of r)a+=u.length;const s=new Uint8Array(a);let i=0;for(const u of r)s.set(u,i),i+=u.length;return s}let Jg;function Kc(r){let a;return(Jg??(a=new globalThis.TextEncoder,Jg=a.encode.bind(a)))(r)}let Kg;function Ig(r){let a;return(Kg??(a=new globalThis.TextDecoder,Kg=a.decode.bind(a)))(r)}var Dt,Lt;class Gr{constructor(){Dt.set(this,void 0),Lt.set(this,void 0),ce(this,Dt,new Uint8Array),ce(this,Lt,null)}decode(a){if(a==null)return[];const s=a instanceof ArrayBuffer?new Uint8Array(a):typeof a=="string"?Kc(a):a;ce(this,Dt,gw([D(this,Dt,"f"),s]));const i=[];let u;for(;(u=pw(D(this,Dt,"f"),D(this,Lt,"f")))!=null;){if(u.carriage&&D(this,Lt,"f")==null){ce(this,Lt,u.index);continue}if(D(this,Lt,"f")!=null&&(u.index!==D(this,Lt,"f")+1||u.carriage)){i.push(Ig(D(this,Dt,"f").subarray(0,D(this,Lt,"f")-1))),ce(this,Dt,D(this,Dt,"f").subarray(D(this,Lt,"f"))),ce(this,Lt,null);continue}const f=D(this,Lt,"f")!==null?u.preceding-1:u.preceding,d=Ig(D(this,Dt,"f").subarray(0,f));i.push(d),ce(this,Dt,D(this,Dt,"f").subarray(u.index)),ce(this,Lt,null)}return i}flush(){return D(this,Dt,"f").length?this.decode(`
`):[]}}Dt=new WeakMap,Lt=new WeakMap;Gr.NEWLINE_CHARS=new Set([`
`,"\r"]);Gr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function pw(r,a){for(let u=a??0;u<r.length;u++){if(r[u]===10)return{preceding:u,index:u+1,carriage:!1};if(r[u]===13)return{preceding:u,index:u+1,carriage:!0}}return null}function yw(r){for(let i=0;i<r.length-1;i++){if(r[i]===10&&r[i+1]===10||r[i]===13&&r[i+1]===13)return i+2;if(r[i]===13&&r[i+1]===10&&i+3<r.length&&r[i+2]===13&&r[i+3]===10)return i+4}return-1}class on{constructor(a,s){this.iterator=a,this.controller=s}static fromSSEResponse(a,s){let i=!1;async function*u(){if(i)throw new re("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{for await(const d of vw(a,s))if(!f){if(d.data.startsWith("[DONE]")){f=!0;continue}if(d.event===null||d.event.startsWith("response.")||d.event.startsWith("transcript.")){let m;try{m=JSON.parse(d.data)}catch(y){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),y}if(m&&m.error)throw new ut(void 0,m.error,void 0,a.headers);yield m}else{let m;try{m=JSON.parse(d.data)}catch(y){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),y}if(d.event=="error")throw new ut(void 0,m.error,m.message,void 0);yield{event:d.event,data:m}}}f=!0}catch(d){if(Dc(d))return;throw d}finally{f||s.abort()}}return new on(u,s)}static fromReadableStream(a,s){let i=!1;async function*u(){const d=new Gr,m=Bp(a);for await(const y of m)for(const g of d.decode(y))yield g;for(const y of d.flush())yield y}async function*f(){if(i)throw new re("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let d=!1;try{for await(const m of u())d||m&&(yield JSON.parse(m));d=!0}catch(m){if(Dc(m))return;throw m}finally{d||s.abort()}}return new on(f,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const a=[],s=[],i=this.iterator(),u=f=>({next:()=>{if(f.length===0){const d=i.next();a.push(d),s.push(d)}return f.shift()}});return[new on(()=>u(a),this.controller),new on(()=>u(s),this.controller)]}toReadableStream(){const a=this;let s;return zp({async start(){s=a[Symbol.asyncIterator]()},async pull(i){try{const{value:u,done:f}=await s.next();if(f)return i.close();const d=Kc(JSON.stringify(u)+`
`);i.enqueue(d)}catch(u){i.error(u)}},async cancel(){var i;await((i=s.return)==null?void 0:i.call(s))}})}}async function*vw(r,a){if(!r.body)throw a.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new re("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new re("Attempted to iterate over a response with no body");const s=new Sw,i=new Gr,u=Bp(r.body);for await(const f of bw(u))for(const d of i.decode(f)){const m=s.decode(d);m&&(yield m)}for(const f of i.flush()){const d=s.decode(f);d&&(yield d)}}async function*bw(r){let a=new Uint8Array;for await(const s of r){if(s==null)continue;const i=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?Kc(s):s;let u=new Uint8Array(a.length+i.length);u.set(a),u.set(i,a.length),a=u;let f;for(;(f=yw(a))!==-1;)yield a.slice(0,f),a=a.slice(f)}a.length>0&&(yield a)}class Sw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(a){if(a.endsWith("\r")&&(a=a.substring(0,a.length-1)),!a){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(a),a.startsWith(":"))return null;let[s,i,u]=_w(a,":");return u.startsWith(" ")&&(u=u.substring(1)),s==="event"?this.event=u:s==="data"&&this.data.push(u),null}}function _w(r,a){const s=r.indexOf(a);return s!==-1?[r.substring(0,s),a,r.substring(s+a.length)]:[r,"",""]}async function $p(r,a){const{response:s,requestLogID:i,retryOfRequestLogID:u,startTime:f}=a,d=await(async()=>{var S;if(a.options.stream)return ht(r).debug("response",s.status,s.url,s.headers,s.body),a.options.__streamClass?a.options.__streamClass.fromSSEResponse(s,a.controller):on.fromSSEResponse(s,a.controller);if(s.status===204)return null;if(a.options.__binaryResponse)return s;const m=s.headers.get("content-type"),y=(S=m==null?void 0:m.split(";")[0])==null?void 0:S.trim();if((y==null?void 0:y.includes("application/json"))||(y==null?void 0:y.endsWith("+json"))){const O=await s.json();return Vp(O,s)}return await s.text()})();return ht(r).debug(`[${i}] response parsed`,Sa({retryOfRequestLogID:u,url:s.url,status:s.status,body:d,durationMs:Date.now()-f})),d}function Vp(r,a){return!r||typeof r!="object"||Array.isArray(r)?r:Object.defineProperty(r,"_request_id",{value:a.headers.get("x-request-id"),enumerable:!1})}var Oi;class $r extends Promise{constructor(a,s,i=$p){super(u=>{u(null)}),this.responsePromise=s,this.parseResponse=i,Oi.set(this,void 0),ce(this,Oi,a)}_thenUnwrap(a){return new $r(D(this,Oi,"f"),this.responsePromise,async(s,i)=>Vp(a(await this.parseResponse(s,i),i),i.response))}asResponse(){return this.responsePromise.then(a=>a.response)}async withResponse(){const[a,s]=await Promise.all([this.parse(),this.asResponse()]);return{data:a,response:s,request_id:s.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(a=>this.parseResponse(D(this,Oi,"f"),a))),this.parsedPromise}then(a,s){return this.parse().then(a,s)}catch(a){return this.parse().catch(a)}finally(a){return this.parse().finally(a)}}Oi=new WeakMap;var ur;class Yp{constructor(a,s,i,u){ur.set(this,void 0),ce(this,ur,a),this.options=u,this.response=s,this.body=i}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const a=this.nextPageRequestOptions();if(!a)throw new re("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await D(this,ur,"f").requestAPIList(this.constructor,a)}async*iterPages(){let a=this;for(yield a;a.hasNextPage();)a=await a.getNextPage(),yield a}async*[(ur=new WeakMap,Symbol.asyncIterator)](){for await(const a of this.iterPages())for(const s of a.getPaginatedItems())yield s}}class ww extends $r{constructor(a,s,i){super(a,s,async(u,f)=>new i(u,f.response,await $p(u,f),f.options))}async*[Symbol.asyncIterator](){const a=await this;for await(const s of a)yield s}}class Vr extends Yp{constructor(a,s,i,u){super(a,s,i,u),this.data=i.data||[],this.object=i.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Ke extends Yp{constructor(a,s,i,u){super(a,s,i,u),this.data=i.data||[],this.has_more=i.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var i;const a=this.getPaginatedItems(),s=(i=a[a.length-1])==null?void 0:i.id;return s?{...this.options,query:{...X1(this.options.query),after:s}}:null}}const Xp=()=>{var r;if(typeof File>"u"){const{process:a}=globalThis,s=typeof((r=a==null?void 0:a.versions)==null?void 0:r.node)=="string"&&parseInt(a.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(s?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ji(r,a,s){return Xp(),new File(r,a??"unknown_file",s)}function gr(r){return(typeof r=="object"&&r!==null&&("name"in r&&r.name&&String(r.name)||"url"in r&&r.url&&String(r.url)||"filename"in r&&r.filename&&String(r.filename)||"path"in r&&r.path&&String(r.path))||"").split(/[\\/]/).pop()||void 0}const Qp=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function",Ta=async(r,a)=>({...r,body:await Aw(r.body,a)}),Zg=new WeakMap;function xw(r){const a=typeof r=="function"?r:r.fetch,s=Zg.get(a);if(s)return s;const i=(async()=>{try{const u="Response"in a?a.Response:(await a("data:,")).constructor,f=new FormData;return f.toString()!==await new u(f).text()}catch{return!0}})();return Zg.set(a,i),i}const Aw=async(r,a)=>{if(!await xw(a))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const s=new FormData;return await Promise.all(Object.entries(r||{}).map(([i,u])=>zc(s,i,u))),s},Tw=r=>r instanceof Blob&&"name"in r,zc=async(r,a,s)=>{if(s!==void 0){if(s==null)throw new TypeError(`Received null for "${a}"; to pass null in FormData, you must use the string 'null'`);if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")r.append(a,String(s));else if(s instanceof Response)r.append(a,ji([await s.blob()],gr(s)));else if(Qp(s))r.append(a,ji([await new Response(qp(s)).blob()],gr(s)));else if(Tw(s))r.append(a,s,gr(s));else if(Array.isArray(s))await Promise.all(s.map(i=>zc(r,a+"[]",i)));else if(typeof s=="object")await Promise.all(Object.entries(s).map(([i,u])=>zc(r,`${a}[${i}]`,u)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${s} instead`)}},Jp=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",Ew=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&Jp(r),Ow=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function";async function Rw(r,a,s){if(Xp(),r=await r,Ew(r))return r instanceof File?r:ji([await r.arrayBuffer()],r.name);if(Ow(r)){const u=await r.blob();return a||(a=new URL(r.url).pathname.split(/[\\/]/).pop()),ji(await qc(u),a,s)}const i=await qc(r);if(a||(a=gr(r)),!(s!=null&&s.type)){const u=i.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof u=="string"&&(s={...s,type:u})}return ji(i,a,s)}async function qc(r){var s;let a=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)a.push(r);else if(Jp(r))a.push(r instanceof Blob?r:await r.arrayBuffer());else if(Qp(r))for await(const i of r)a.push(...await qc(i));else{const i=(s=r==null?void 0:r.constructor)==null?void 0:s.name;throw new Error(`Unexpected data type: ${typeof r}${i?`; constructor: ${i}`:""}${Mw(r)}`)}return a}function Mw(r){return typeof r!="object"||r===null?"":`; props: [${Object.getOwnPropertyNames(r).map(s=>`"${s}"`).join(", ")}]`}class de{constructor(a){this._client=a}}function Kp(r){return r.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Nw=(r=Kp)=>function(s,...i){if(s.length===1)return s[0];let u=!1;const f=s.reduce((b,S,O)=>(/[?#]/.test(S)&&(u=!0),b+S+(O===i.length?"":(u?encodeURIComponent:r)(String(i[O])))),""),d=f.split(/[?#]/,1)[0],m=[],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(d))!==null;)m.push({start:g.index,length:g[0].length});if(m.length>0){let b=0;const S=m.reduce((O,T)=>{const N=" ".repeat(T.start-b),q="^".repeat(T.length);return b=T.start+T.length,O+N+q},"");throw new re(`Path parameters result in path with invalid segments:
${f}
${S}`)}return f},X=Nw(Kp);let Ip=class extends de{list(a,s={},i){return this._client.getAPIList(X`/chat/completions/${a}/messages`,Ke,{query:s,...i})}};function Cw(r){return typeof r.parse=="function"}const Rr=r=>(r==null?void 0:r.role)==="assistant",Zp=r=>(r==null?void 0:r.role)==="tool";var Bc,pr,yr,Ri,Mi,vr,Ni,On,Ci,Mr,Nr,vs,Fp;class Ic{constructor(){Bc.add(this),this.controller=new AbortController,pr.set(this,void 0),yr.set(this,()=>{}),Ri.set(this,()=>{}),Mi.set(this,void 0),vr.set(this,()=>{}),Ni.set(this,()=>{}),On.set(this,{}),Ci.set(this,!1),Mr.set(this,!1),Nr.set(this,!1),vs.set(this,!1),ce(this,pr,new Promise((a,s)=>{ce(this,yr,a,"f"),ce(this,Ri,s,"f")})),ce(this,Mi,new Promise((a,s)=>{ce(this,vr,a,"f"),ce(this,Ni,s,"f")})),D(this,pr,"f").catch(()=>{}),D(this,Mi,"f").catch(()=>{})}_run(a){setTimeout(()=>{a().then(()=>{this._emitFinal(),this._emit("end")},D(this,Bc,"m",Fp).bind(this))},0)}_connected(){this.ended||(D(this,yr,"f").call(this),this._emit("connect"))}get ended(){return D(this,Ci,"f")}get errored(){return D(this,Mr,"f")}get aborted(){return D(this,Nr,"f")}abort(){this.controller.abort()}on(a,s){return(D(this,On,"f")[a]||(D(this,On,"f")[a]=[])).push({listener:s}),this}off(a,s){const i=D(this,On,"f")[a];if(!i)return this;const u=i.findIndex(f=>f.listener===s);return u>=0&&i.splice(u,1),this}once(a,s){return(D(this,On,"f")[a]||(D(this,On,"f")[a]=[])).push({listener:s,once:!0}),this}emitted(a){return new Promise((s,i)=>{ce(this,vs,!0),a!=="error"&&this.once("error",i),this.once(a,s)})}async done(){ce(this,vs,!0),await D(this,Mi,"f")}_emit(a,...s){if(D(this,Ci,"f"))return;a==="end"&&(ce(this,Ci,!0),D(this,vr,"f").call(this));const i=D(this,On,"f")[a];if(i&&(D(this,On,"f")[a]=i.filter(u=>!u.once),i.forEach(({listener:u})=>u(...s))),a==="abort"){const u=s[0];!D(this,vs,"f")&&!(i!=null&&i.length)&&Promise.reject(u),D(this,Ri,"f").call(this,u),D(this,Ni,"f").call(this,u),this._emit("end");return}if(a==="error"){const u=s[0];!D(this,vs,"f")&&!(i!=null&&i.length)&&Promise.reject(u),D(this,Ri,"f").call(this,u),D(this,Ni,"f").call(this,u),this._emit("end")}}_emitFinal(){}}pr=new WeakMap,yr=new WeakMap,Ri=new WeakMap,Mi=new WeakMap,vr=new WeakMap,Ni=new WeakMap,On=new WeakMap,Ci=new WeakMap,Mr=new WeakMap,Nr=new WeakMap,vs=new WeakMap,Bc=new WeakSet,Fp=function(a){if(ce(this,Mr,!0),a instanceof Error&&a.name==="AbortError"&&(a=new Yt),a instanceof Yt)return ce(this,Nr,!0),this._emit("abort",a);if(a instanceof re)return this._emit("error",a);if(a instanceof Error){const s=new re(a.message);return s.cause=a,this._emit("error",s)}return this._emit("error",new re(String(a)))};function Zc(r){return(r==null?void 0:r.$brand)==="auto-parseable-response-format"}function Vi(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function Dw(r,a){return!a||!Pp(a)?{...r,choices:r.choices.map(s=>({...s,message:{...s.message,parsed:null,...s.message.tool_calls?{tool_calls:s.message.tool_calls}:void 0}}))}:Fc(r,a)}function Fc(r,a){const s=r.choices.map(i=>{var u;if(i.finish_reason==="length")throw new Up;if(i.finish_reason==="content_filter")throw new jp;return{...i,message:{...i.message,...i.message.tool_calls?{tool_calls:((u=i.message.tool_calls)==null?void 0:u.map(f=>Uw(a,f)))??void 0}:void 0,parsed:i.message.content&&!i.message.refusal?Lw(a,i.message.content):null}}});return{...r,choices:s}}function Lw(r,a){var s,i;return((s=r.response_format)==null?void 0:s.type)!=="json_schema"?null:((i=r.response_format)==null?void 0:i.type)==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(a):JSON.parse(a):null}function Uw(r,a){var i;const s=(i=r.tools)==null?void 0:i.find(u=>{var f;return((f=u.function)==null?void 0:f.name)===a.function.name});return{...a,function:{...a.function,parsed_arguments:Vi(s)?s.$parseRaw(a.function.arguments):s!=null&&s.function.strict?JSON.parse(a.function.arguments):null}}}function jw(r,a){var i;if(!r)return!1;const s=(i=r.tools)==null?void 0:i.find(u=>{var f;return((f=u.function)==null?void 0:f.name)===a.function.name});return Vi(s)||(s==null?void 0:s.function.strict)||!1}function Pp(r){var a;return Zc(r.response_format)?!0:((a=r.tools)==null?void 0:a.some(s=>Vi(s)||s.type==="function"&&s.function.strict===!0))??!1}function zw(r){for(const a of r??[]){if(a.type!=="function")throw new re(`Currently only \`function\` tool types support auto-parsing; Received \`${a.type}\``);if(a.function.strict!==!0)throw new re(`The \`${a.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var pt,Hc,Cr,kc,Gc,$c,Wp,ey;const qw=10;class ty extends Ic{constructor(){super(...arguments),pt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(a){var i;this._chatCompletions.push(a),this._emit("chatCompletion",a);const s=(i=a.choices[0])==null?void 0:i.message;return s&&this._addMessage(s),a}_addMessage(a,s=!0){if("content"in a||(a.content=null),this.messages.push(a),s){if(this._emit("message",a),Zp(a)&&a.content)this._emit("functionToolCallResult",a.content);else if(Rr(a)&&a.tool_calls)for(const i of a.tool_calls)i.type==="function"&&this._emit("functionToolCall",i.function)}}async finalChatCompletion(){await this.done();const a=this._chatCompletions[this._chatCompletions.length-1];if(!a)throw new re("stream ended without producing a ChatCompletion");return a}async finalContent(){return await this.done(),D(this,pt,"m",Hc).call(this)}async finalMessage(){return await this.done(),D(this,pt,"m",Cr).call(this)}async finalFunctionToolCall(){return await this.done(),D(this,pt,"m",kc).call(this)}async finalFunctionToolCallResult(){return await this.done(),D(this,pt,"m",Gc).call(this)}async totalUsage(){return await this.done(),D(this,pt,"m",$c).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const a=this._chatCompletions[this._chatCompletions.length-1];a&&this._emit("finalChatCompletion",a);const s=D(this,pt,"m",Cr).call(this);s&&this._emit("finalMessage",s);const i=D(this,pt,"m",Hc).call(this);i&&this._emit("finalContent",i);const u=D(this,pt,"m",kc).call(this);u&&this._emit("finalFunctionToolCall",u);const f=D(this,pt,"m",Gc).call(this);f!=null&&this._emit("finalFunctionToolCallResult",f),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",D(this,pt,"m",$c).call(this))}async _createChatCompletion(a,s,i){const u=i==null?void 0:i.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),D(this,pt,"m",Wp).call(this,s);const f=await a.chat.completions.create({...s,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Fc(f,s))}async _runChatCompletion(a,s,i){for(const u of s.messages)this._addMessage(u,!1);return await this._createChatCompletion(a,s,i)}async _runTools(a,s,i){var T,N,q;const u="tool",{tool_choice:f="auto",stream:d,...m}=s,y=typeof f!="string"&&((T=f==null?void 0:f.function)==null?void 0:T.name),{maxChatCompletions:g=qw}=i||{},b=s.tools.map(H=>{if(Vi(H)){if(!H.$callback)throw new re("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:H.$callback,name:H.function.name,description:H.function.description||"",parameters:H.function.parameters,parse:H.$parseRaw,strict:!0}}}return H}),S={};for(const H of b)H.type==="function"&&(S[H.function.name||H.function.function.name]=H.function);const O="tools"in s?b.map(H=>H.type==="function"?{type:"function",function:{name:H.function.name||H.function.function.name,parameters:H.function.parameters,description:H.function.description,strict:H.function.strict}}:H):void 0;for(const H of s.messages)this._addMessage(H,!1);for(let H=0;H<g;++H){const G=(N=(await this._createChatCompletion(a,{...m,tool_choice:f,tools:O,messages:[...this.messages]},i)).choices[0])==null?void 0:N.message;if(!G)throw new re("missing message in ChatCompletion response");if(!((q=G.tool_calls)!=null&&q.length))return;for(const Y of G.tool_calls){if(Y.type!=="function")continue;const k=Y.id,{name:J,arguments:oe}=Y.function,I=S[J];if(I){if(y&&y!==J){const ie=`Invalid tool_call: ${JSON.stringify(J)}. ${JSON.stringify(y)} requested. Please try again`;this._addMessage({role:u,tool_call_id:k,content:ie});continue}}else{const ie=`Invalid tool_call: ${JSON.stringify(J)}. Available options are: ${Object.keys(S).map(Ue=>JSON.stringify(Ue)).join(", ")}. Please try again`;this._addMessage({role:u,tool_call_id:k,content:ie});continue}let ue;try{ue=Cw(I)?await I.parse(oe):oe}catch(ie){const Ue=ie instanceof Error?ie.message:String(ie);this._addMessage({role:u,tool_call_id:k,content:Ue});continue}const Z=await I.function(ue,this),P=D(this,pt,"m",ey).call(this,Z);if(this._addMessage({role:u,tool_call_id:k,content:P}),y)return}}}}pt=new WeakSet,Hc=function(){return D(this,pt,"m",Cr).call(this).content??null},Cr=function(){let a=this.messages.length;for(;a-- >0;){const s=this.messages[a];if(Rr(s))return{...s,content:s.content??null,refusal:s.refusal??null}}throw new re("stream ended without producing a ChatCompletionMessage with role=assistant")},kc=function(){var a,s;for(let i=this.messages.length-1;i>=0;i--){const u=this.messages[i];if(Rr(u)&&((a=u==null?void 0:u.tool_calls)!=null&&a.length))return(s=u.tool_calls.at(-1))==null?void 0:s.function}},Gc=function(){for(let a=this.messages.length-1;a>=0;a--){const s=this.messages[a];if(Zp(s)&&s.content!=null&&typeof s.content=="string"&&this.messages.some(i=>{var u;return i.role==="assistant"&&((u=i.tool_calls)==null?void 0:u.some(f=>f.type==="function"&&f.id===s.tool_call_id))}))return s.content}},$c=function(){const a={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:s}of this._chatCompletions)s&&(a.completion_tokens+=s.completion_tokens,a.prompt_tokens+=s.prompt_tokens,a.total_tokens+=s.total_tokens);return a},Wp=function(a){if(a.n!=null&&a.n>1)throw new re("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ey=function(a){return typeof a=="string"?a:a===void 0?"undefined":JSON.stringify(a)};class Pc extends ty{static runTools(a,s,i){const u=new Pc,f={...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"runTools"}};return u._run(()=>u._runTools(a,s,f)),u}_addMessage(a,s=!0){super._addMessage(a,s),Rr(a)&&a.content&&this._emit("content",a.content)}}const ny=1,ay=2,sy=4,iy=8,ly=16,ry=32,oy=64,uy=128,cy=256,fy=uy|cy,dy=ly|ry|fy|oy,hy=ny|ay|dy,my=sy|iy,Bw=hy|my,at={STR:ny,NUM:ay,ARR:sy,OBJ:iy,NULL:ly,BOOL:ry,NAN:oy,INFINITY:uy,MINUS_INFINITY:cy,INF:fy,SPECIAL:dy,ATOM:hy,COLLECTION:my,ALL:Bw};class Hw extends Error{}class kw extends Error{}function Gw(r,a=at.ALL){if(typeof r!="string")throw new TypeError(`expecting str, got ${typeof r}`);if(!r.trim())throw new Error(`${r} is empty`);return $w(r.trim(),a)}const $w=(r,a)=>{const s=r.length;let i=0;const u=O=>{throw new Hw(`${O} at position ${i}`)},f=O=>{throw new kw(`${O} at position ${i}`)},d=()=>(S(),i>=s&&u("Unexpected end of input"),r[i]==='"'?m():r[i]==="{"?y():r[i]==="["?g():r.substring(i,i+4)==="null"||at.NULL&a&&s-i<4&&"null".startsWith(r.substring(i))?(i+=4,null):r.substring(i,i+4)==="true"||at.BOOL&a&&s-i<4&&"true".startsWith(r.substring(i))?(i+=4,!0):r.substring(i,i+5)==="false"||at.BOOL&a&&s-i<5&&"false".startsWith(r.substring(i))?(i+=5,!1):r.substring(i,i+8)==="Infinity"||at.INFINITY&a&&s-i<8&&"Infinity".startsWith(r.substring(i))?(i+=8,1/0):r.substring(i,i+9)==="-Infinity"||at.MINUS_INFINITY&a&&1<s-i&&s-i<9&&"-Infinity".startsWith(r.substring(i))?(i+=9,-1/0):r.substring(i,i+3)==="NaN"||at.NAN&a&&s-i<3&&"NaN".startsWith(r.substring(i))?(i+=3,NaN):b()),m=()=>{const O=i;let T=!1;for(i++;i<s&&(r[i]!=='"'||T&&r[i-1]==="\\");)T=r[i]==="\\"?!T:!1,i++;if(r.charAt(i)=='"')try{return JSON.parse(r.substring(O,++i-Number(T)))}catch(N){f(String(N))}else if(at.STR&a)try{return JSON.parse(r.substring(O,i-Number(T))+'"')}catch{return JSON.parse(r.substring(O,r.lastIndexOf("\\"))+'"')}u("Unterminated string literal")},y=()=>{i++,S();const O={};try{for(;r[i]!=="}";){if(S(),i>=s&&at.OBJ&a)return O;const T=m();S(),i++;try{const N=d();Object.defineProperty(O,T,{value:N,writable:!0,enumerable:!0,configurable:!0})}catch(N){if(at.OBJ&a)return O;throw N}S(),r[i]===","&&i++}}catch{if(at.OBJ&a)return O;u("Expected '}' at end of object")}return i++,O},g=()=>{i++;const O=[];try{for(;r[i]!=="]";)O.push(d()),S(),r[i]===","&&i++}catch{if(at.ARR&a)return O;u("Expected ']' at end of array")}return i++,O},b=()=>{if(i===0){r==="-"&&at.NUM&a&&u("Not sure what '-' is");try{return JSON.parse(r)}catch(T){if(at.NUM&a)try{return r[r.length-1]==="."?JSON.parse(r.substring(0,r.lastIndexOf("."))):JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch{}f(String(T))}}const O=i;for(r[i]==="-"&&i++;r[i]&&!",]}".includes(r[i]);)i++;i==s&&!(at.NUM&a)&&u("Unterminated number literal");try{return JSON.parse(r.substring(O,i))}catch{r.substring(O,i)==="-"&&at.NUM&a&&u("Not sure what '-' is");try{return JSON.parse(r.substring(O,r.lastIndexOf("e")))}catch(N){f(String(N))}}},S=()=>{for(;i<s&&` 
\r	`.includes(r[i]);)i++};return d()},Fg=r=>Gw(r,at.ALL^at.NUM);var Fe,En,ms,Wn,bc,cr,Sc,_c,wc,fr,xc,Pg;class Gi extends ty{constructor(a){super(),Fe.add(this),En.set(this,void 0),ms.set(this,void 0),Wn.set(this,void 0),ce(this,En,a),ce(this,ms,[])}get currentChatCompletionSnapshot(){return D(this,Wn,"f")}static fromReadableStream(a){const s=new Gi(null);return s._run(()=>s._fromReadableStream(a)),s}static createChatCompletion(a,s,i){const u=new Gi(s);return u._run(()=>u._runChatCompletion(a,{...s,stream:!0},{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createChatCompletion(a,s,i){var d;super._createChatCompletion;const u=i==null?void 0:i.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),D(this,Fe,"m",bc).call(this);const f=await a.chat.completions.create({...s,stream:!0},{...i,signal:this.controller.signal});this._connected();for await(const m of f)D(this,Fe,"m",Sc).call(this,m);if((d=f.controller.signal)!=null&&d.aborted)throw new Yt;return this._addChatCompletion(D(this,Fe,"m",fr).call(this))}async _fromReadableStream(a,s){var d;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),D(this,Fe,"m",bc).call(this),this._connected();const u=on.fromReadableStream(a,this.controller);let f;for await(const m of u)f&&f!==m.id&&this._addChatCompletion(D(this,Fe,"m",fr).call(this)),D(this,Fe,"m",Sc).call(this,m),f=m.id;if((d=u.controller.signal)!=null&&d.aborted)throw new Yt;return this._addChatCompletion(D(this,Fe,"m",fr).call(this))}[(En=new WeakMap,ms=new WeakMap,Wn=new WeakMap,Fe=new WeakSet,bc=function(){this.ended||ce(this,Wn,void 0)},cr=function(s){let i=D(this,ms,"f")[s.index];return i||(i={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},D(this,ms,"f")[s.index]=i,i)},Sc=function(s){var u,f,d,m,y,g,b,S,O,T,N,q,H,ee,G;if(this.ended)return;const i=D(this,Fe,"m",Pg).call(this,s);this._emit("chunk",s,i);for(const Y of s.choices){const k=i.choices[Y.index];Y.delta.content!=null&&((u=k.message)==null?void 0:u.role)==="assistant"&&((f=k.message)!=null&&f.content)&&(this._emit("content",Y.delta.content,k.message.content),this._emit("content.delta",{delta:Y.delta.content,snapshot:k.message.content,parsed:k.message.parsed})),Y.delta.refusal!=null&&((d=k.message)==null?void 0:d.role)==="assistant"&&((m=k.message)!=null&&m.refusal)&&this._emit("refusal.delta",{delta:Y.delta.refusal,snapshot:k.message.refusal}),((y=Y.logprobs)==null?void 0:y.content)!=null&&((g=k.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(b=Y.logprobs)==null?void 0:b.content,snapshot:((S=k.logprobs)==null?void 0:S.content)??[]}),((O=Y.logprobs)==null?void 0:O.refusal)!=null&&((T=k.message)==null?void 0:T.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(N=Y.logprobs)==null?void 0:N.refusal,snapshot:((q=k.logprobs)==null?void 0:q.refusal)??[]});const J=D(this,Fe,"m",cr).call(this,k);k.finish_reason&&(D(this,Fe,"m",wc).call(this,k),J.current_tool_call_index!=null&&D(this,Fe,"m",_c).call(this,k,J.current_tool_call_index));for(const oe of Y.delta.tool_calls??[])J.current_tool_call_index!==oe.index&&(D(this,Fe,"m",wc).call(this,k),J.current_tool_call_index!=null&&D(this,Fe,"m",_c).call(this,k,J.current_tool_call_index)),J.current_tool_call_index=oe.index;for(const oe of Y.delta.tool_calls??[]){const I=(H=k.message.tool_calls)==null?void 0:H[oe.index];I!=null&&I.type&&((I==null?void 0:I.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(ee=I.function)==null?void 0:ee.name,index:oe.index,arguments:I.function.arguments,parsed_arguments:I.function.parsed_arguments,arguments_delta:((G=oe.function)==null?void 0:G.arguments)??""}):(I==null||I.type,void 0))}}},_c=function(s,i){var d,m,y;if(D(this,Fe,"m",cr).call(this,s).done_tool_calls.has(i))return;const f=(d=s.message.tool_calls)==null?void 0:d[i];if(!f)throw new Error("no tool call snapshot");if(!f.type)throw new Error("tool call snapshot missing `type`");if(f.type==="function"){const g=(y=(m=D(this,En,"f"))==null?void 0:m.tools)==null?void 0:y.find(b=>b.type==="function"&&b.function.name===f.function.name);this._emit("tool_calls.function.arguments.done",{name:f.function.name,index:i,arguments:f.function.arguments,parsed_arguments:Vi(g)?g.$parseRaw(f.function.arguments):g!=null&&g.function.strict?JSON.parse(f.function.arguments):null})}else f.type},wc=function(s){var u,f;const i=D(this,Fe,"m",cr).call(this,s);if(s.message.content&&!i.content_done){i.content_done=!0;const d=D(this,Fe,"m",xc).call(this);this._emit("content.done",{content:s.message.content,parsed:d?d.$parseRaw(s.message.content):null})}s.message.refusal&&!i.refusal_done&&(i.refusal_done=!0,this._emit("refusal.done",{refusal:s.message.refusal})),(u=s.logprobs)!=null&&u.content&&!i.logprobs_content_done&&(i.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:s.logprobs.content})),(f=s.logprobs)!=null&&f.refusal&&!i.logprobs_refusal_done&&(i.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:s.logprobs.refusal}))},fr=function(){if(this.ended)throw new re("stream has ended, this shouldn't happen");const s=D(this,Wn,"f");if(!s)throw new re("request ended without sending any chunks");return ce(this,Wn,void 0),ce(this,ms,[]),Vw(s,D(this,En,"f"))},xc=function(){var i;const s=(i=D(this,En,"f"))==null?void 0:i.response_format;return Zc(s)?s:null},Pg=function(s){var i,u,f,d;let m=D(this,Wn,"f");const{choices:y,...g}=s;m?Object.assign(m,g):m=ce(this,Wn,{...g,choices:[]});for(const{delta:b,finish_reason:S,index:O,logprobs:T=null,...N}of s.choices){let q=m.choices[O];if(q||(q=m.choices[O]={finish_reason:S,index:O,message:{},logprobs:T,...N}),T)if(!q.logprobs)q.logprobs=Object.assign({},T);else{const{content:oe,refusal:I,...ue}=T;Object.assign(q.logprobs,ue),oe&&((i=q.logprobs).content??(i.content=[]),q.logprobs.content.push(...oe)),I&&((u=q.logprobs).refusal??(u.refusal=[]),q.logprobs.refusal.push(...I))}if(S&&(q.finish_reason=S,D(this,En,"f")&&Pp(D(this,En,"f")))){if(S==="length")throw new Up;if(S==="content_filter")throw new jp}if(Object.assign(q,N),!b)continue;const{content:H,refusal:ee,function_call:G,role:Y,tool_calls:k,...J}=b;if(Object.assign(q.message,J),ee&&(q.message.refusal=(q.message.refusal||"")+ee),Y&&(q.message.role=Y),G&&(q.message.function_call?(G.name&&(q.message.function_call.name=G.name),G.arguments&&((f=q.message.function_call).arguments??(f.arguments=""),q.message.function_call.arguments+=G.arguments)):q.message.function_call=G),H&&(q.message.content=(q.message.content||"")+H,!q.message.refusal&&D(this,Fe,"m",xc).call(this)&&(q.message.parsed=Fg(q.message.content))),k){q.message.tool_calls||(q.message.tool_calls=[]);for(const{index:oe,id:I,type:ue,function:Z,...P}of k){const ie=(d=q.message.tool_calls)[oe]??(d[oe]={});Object.assign(ie,P),I&&(ie.id=I),ue&&(ie.type=ue),Z&&(ie.function??(ie.function={name:Z.name??"",arguments:""})),Z!=null&&Z.name&&(ie.function.name=Z.name),Z!=null&&Z.arguments&&(ie.function.arguments+=Z.arguments,jw(D(this,En,"f"),ie)&&(ie.function.parsed_arguments=Fg(ie.function.arguments)))}}}return m},Symbol.asyncIterator)](){const a=[],s=[];let i=!1;return this.on("chunk",u=>{const f=s.shift();f?f.resolve(u):a.push(u)}),this.on("end",()=>{i=!0;for(const u of s)u.resolve(void 0);s.length=0}),this.on("abort",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),this.on("error",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),{next:async()=>a.length?{value:a.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((f,d)=>s.push({resolve:f,reject:d})).then(f=>f?{value:f,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new on(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Vw(r,a){const{id:s,choices:i,created:u,model:f,system_fingerprint:d,...m}=r,y={...m,id:s,choices:i.map(({message:g,finish_reason:b,index:S,logprobs:O,...T})=>{if(!b)throw new re(`missing finish_reason for choice ${S}`);const{content:N=null,function_call:q,tool_calls:H,...ee}=g,G=g.role;if(!G)throw new re(`missing role for choice ${S}`);if(q){const{arguments:Y,name:k}=q;if(Y==null)throw new re(`missing function_call.arguments for choice ${S}`);if(!k)throw new re(`missing function_call.name for choice ${S}`);return{...T,message:{content:N,function_call:{arguments:Y,name:k},role:G,refusal:g.refusal??null},finish_reason:b,index:S,logprobs:O}}return H?{...T,index:S,finish_reason:b,logprobs:O,message:{...ee,role:G,content:N,refusal:g.refusal??null,tool_calls:H.map((Y,k)=>{const{function:J,type:oe,id:I,...ue}=Y,{arguments:Z,name:P,...ie}=J||{};if(I==null)throw new re(`missing choices[${S}].tool_calls[${k}].id
${dr(r)}`);if(oe==null)throw new re(`missing choices[${S}].tool_calls[${k}].type
${dr(r)}`);if(P==null)throw new re(`missing choices[${S}].tool_calls[${k}].function.name
${dr(r)}`);if(Z==null)throw new re(`missing choices[${S}].tool_calls[${k}].function.arguments
${dr(r)}`);return{...ue,id:I,type:oe,function:{...ie,name:P,arguments:Z}}})}}:{...T,message:{...ee,content:N,role:G,refusal:g.refusal??null},finish_reason:b,index:S,logprobs:O}}),created:u,model:f,object:"chat.completion",...d?{system_fingerprint:d}:{}};return Dw(y,a)}function dr(r){return JSON.stringify(r)}class Dr extends Gi{static fromReadableStream(a){const s=new Dr(null);return s._run(()=>s._fromReadableStream(a)),s}static runTools(a,s,i){const u=new Dr(s),f={...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"runTools"}};return u._run(()=>u._runTools(a,s,f)),u}}let Wc=class extends de{constructor(){super(...arguments),this.messages=new Ip(this._client)}create(a,s){return this._client.post("/chat/completions",{body:a,...s,stream:a.stream??!1})}retrieve(a,s){return this._client.get(X`/chat/completions/${a}`,s)}update(a,s,i){return this._client.post(X`/chat/completions/${a}`,{body:s,...i})}list(a={},s){return this._client.getAPIList("/chat/completions",Ke,{query:a,...s})}delete(a,s){return this._client.delete(X`/chat/completions/${a}`,s)}parse(a,s){return zw(a.tools),this._client.chat.completions.create(a,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(i=>Fc(i,a))}runTools(a,s){return a.stream?Dr.runTools(this._client,a,s):Pc.runTools(this._client,a,s)}stream(a,s){return Gi.createChatCompletion(this._client,a,s)}};Wc.Messages=Ip;class ef extends de{constructor(){super(...arguments),this.completions=new Wc(this._client)}}ef.Completions=Wc;const gy=Symbol("brand.privateNullableHeaders"),Wg=Array.isArray;function*Yw(r){if(!r)return;if(gy in r){const{values:i,nulls:u}=r;yield*i.entries();for(const f of u)yield[f,null];return}let a=!1,s;r instanceof Headers?s=r.entries():Wg(r)?s=r:(a=!0,s=Object.entries(r??{}));for(let i of s){const u=i[0];if(typeof u!="string")throw new TypeError("expected header name to be a string");const f=Wg(i[1])?i[1]:[i[1]];let d=!1;for(const m of f)m!==void 0&&(a&&!d&&(d=!0,yield[u,null]),yield[u,m])}}const ne=r=>{const a=new Headers,s=new Set;for(const i of r){const u=new Set;for(const[f,d]of Yw(i)){const m=f.toLowerCase();u.has(m)||(a.delete(f),u.add(m)),d===null?(a.delete(f),s.add(m)):(a.append(f,d),s.delete(m))}}return{[gy]:!0,values:a,nulls:s}};class py extends de{create(a,s){return this._client.post("/audio/speech",{body:a,...s,headers:ne([{Accept:"application/octet-stream"},s==null?void 0:s.headers]),__binaryResponse:!0})}}class yy extends de{create(a,s){return this._client.post("/audio/transcriptions",Ta({body:a,...s,stream:a.stream??!1,__metadata:{model:a.model}},this._client))}}class vy extends de{create(a,s){return this._client.post("/audio/translations",Ta({body:a,...s,__metadata:{model:a.model}},this._client))}}class Yi extends de{constructor(){super(...arguments),this.transcriptions=new yy(this._client),this.translations=new vy(this._client),this.speech=new py(this._client)}}Yi.Transcriptions=yy;Yi.Translations=vy;Yi.Speech=py;class by extends de{create(a,s){return this._client.post("/batches",{body:a,...s})}retrieve(a,s){return this._client.get(X`/batches/${a}`,s)}list(a={},s){return this._client.getAPIList("/batches",Ke,{query:a,...s})}cancel(a,s){return this._client.post(X`/batches/${a}/cancel`,s)}}class Sy extends de{create(a,s){return this._client.post("/assistants",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}retrieve(a,s){return this._client.get(X`/assistants/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}update(a,s,i){return this._client.post(X`/assistants/${a}`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a={},s){return this._client.getAPIList("/assistants",Ke,{query:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}delete(a,s){return this._client.delete(X`/assistants/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}}class _y extends de{create(a,s){return this._client.post("/realtime/sessions",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}}class wy extends de{create(a,s){return this._client.post("/realtime/transcription_sessions",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}}class Yr extends de{constructor(){super(...arguments),this.sessions=new _y(this._client),this.transcriptionSessions=new wy(this._client)}}Yr.Sessions=_y;Yr.TranscriptionSessions=wy;class xy extends de{create(a,s,i){return this._client.post(X`/threads/${a}/messages`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(a,s,i){const{thread_id:u}=s;return this._client.get(X`/threads/${u}/messages/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(a,s,i){const{thread_id:u,...f}=s;return this._client.post(X`/threads/${u}/messages/${a}`,{body:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a,s={},i){return this._client.getAPIList(X`/threads/${a}/messages`,Ke,{query:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(a,s,i){const{thread_id:u}=s;return this._client.delete(X`/threads/${u}/messages/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}class Ay extends de{retrieve(a,s,i){const{thread_id:u,run_id:f,...d}=s;return this._client.get(X`/threads/${u}/runs/${f}/steps/${a}`,{query:d,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a,s,i){const{thread_id:u,...f}=s;return this._client.getAPIList(X`/threads/${u}/runs/${a}/steps`,Ke,{query:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}const Xw=r=>{if(typeof Buffer<"u"){const a=Buffer.from(r,"base64");return Array.from(new Float32Array(a.buffer,a.byteOffset,a.length/Float32Array.BYTES_PER_ELEMENT))}else{const a=atob(r),s=a.length,i=new Uint8Array(s);for(let u=0;u<s;u++)i[u]=a.charCodeAt(u);return Array.from(new Float32Array(i.buffer))}};var Ac={};const Ti=r=>{var a,s,i,u;if(typeof globalThis.process<"u")return((a=Ac==null?void 0:Ac[r])==null?void 0:a.trim())??void 0;if(typeof globalThis.Deno<"u")return(u=(i=(s=globalThis.Deno.env)==null?void 0:s.get)==null?void 0:i.call(s,r))==null?void 0:u.trim()};var rt,wa,Vc,ln,br,Kt,xa,bs,_a,Lr,Ut,Sr,_r,zi,Di,Li,ep,tp,np,ap,sp,ip,lp;class qi extends Ic{constructor(){super(...arguments),rt.add(this),Vc.set(this,[]),ln.set(this,{}),br.set(this,{}),Kt.set(this,void 0),xa.set(this,void 0),bs.set(this,void 0),_a.set(this,void 0),Lr.set(this,void 0),Ut.set(this,void 0),Sr.set(this,void 0),_r.set(this,void 0),zi.set(this,void 0)}[(Vc=new WeakMap,ln=new WeakMap,br=new WeakMap,Kt=new WeakMap,xa=new WeakMap,bs=new WeakMap,_a=new WeakMap,Lr=new WeakMap,Ut=new WeakMap,Sr=new WeakMap,_r=new WeakMap,zi=new WeakMap,rt=new WeakSet,Symbol.asyncIterator)](){const a=[],s=[];let i=!1;return this.on("event",u=>{const f=s.shift();f?f.resolve(u):a.push(u)}),this.on("end",()=>{i=!0;for(const u of s)u.resolve(void 0);s.length=0}),this.on("abort",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),this.on("error",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),{next:async()=>a.length?{value:a.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((f,d)=>s.push({resolve:f,reject:d})).then(f=>f?{value:f,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(a){const s=new wa;return s._run(()=>s._fromReadableStream(a)),s}async _fromReadableStream(a,s){var f;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),this._connected();const u=on.fromReadableStream(a,this.controller);for await(const d of u)D(this,rt,"m",Di).call(this,d);if((f=u.controller.signal)!=null&&f.aborted)throw new Yt;return this._addRun(D(this,rt,"m",Li).call(this))}toReadableStream(){return new on(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(a,s,i,u){const f=new wa;return f._run(()=>f._runToolAssistantStream(a,s,i,{...u,headers:{...u==null?void 0:u.headers,"X-Stainless-Helper-Method":"stream"}})),f}async _createToolAssistantStream(a,s,i,u){var y;const f=u==null?void 0:u.signal;f&&(f.aborted&&this.controller.abort(),f.addEventListener("abort",()=>this.controller.abort()));const d={...i,stream:!0},m=await a.submitToolOutputs(s,d,{...u,signal:this.controller.signal});this._connected();for await(const g of m)D(this,rt,"m",Di).call(this,g);if((y=m.controller.signal)!=null&&y.aborted)throw new Yt;return this._addRun(D(this,rt,"m",Li).call(this))}static createThreadAssistantStream(a,s,i){const u=new wa;return u._run(()=>u._threadAssistantStream(a,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),u}static createAssistantStream(a,s,i,u){const f=new wa;return f._run(()=>f._runAssistantStream(a,s,i,{...u,headers:{...u==null?void 0:u.headers,"X-Stainless-Helper-Method":"stream"}})),f}currentEvent(){return D(this,Sr,"f")}currentRun(){return D(this,_r,"f")}currentMessageSnapshot(){return D(this,Kt,"f")}currentRunStepSnapshot(){return D(this,zi,"f")}async finalRunSteps(){return await this.done(),Object.values(D(this,ln,"f"))}async finalMessages(){return await this.done(),Object.values(D(this,br,"f"))}async finalRun(){if(await this.done(),!D(this,xa,"f"))throw Error("Final run was not received.");return D(this,xa,"f")}async _createThreadAssistantStream(a,s,i){var m;const u=i==null?void 0:i.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const f={...s,stream:!0},d=await a.createAndRun(f,{...i,signal:this.controller.signal});this._connected();for await(const y of d)D(this,rt,"m",Di).call(this,y);if((m=d.controller.signal)!=null&&m.aborted)throw new Yt;return this._addRun(D(this,rt,"m",Li).call(this))}async _createAssistantStream(a,s,i,u){var y;const f=u==null?void 0:u.signal;f&&(f.aborted&&this.controller.abort(),f.addEventListener("abort",()=>this.controller.abort()));const d={...i,stream:!0},m=await a.create(s,d,{...u,signal:this.controller.signal});this._connected();for await(const g of m)D(this,rt,"m",Di).call(this,g);if((y=m.controller.signal)!=null&&y.aborted)throw new Yt;return this._addRun(D(this,rt,"m",Li).call(this))}static accumulateDelta(a,s){for(const[i,u]of Object.entries(s)){if(!a.hasOwnProperty(i)){a[i]=u;continue}let f=a[i];if(f==null){a[i]=u;continue}if(i==="index"||i==="type"){a[i]=u;continue}if(typeof f=="string"&&typeof u=="string")f+=u;else if(typeof f=="number"&&typeof u=="number")f+=u;else if(pc(f)&&pc(u))f=this.accumulateDelta(f,u);else if(Array.isArray(f)&&Array.isArray(u)){if(f.every(d=>typeof d=="string"||typeof d=="number")){f.push(...u);continue}for(const d of u){if(!pc(d))throw new Error(`Expected array delta entry to be an object but got: ${d}`);const m=d.index;if(m==null)throw console.error(d),new Error("Expected array delta entry to have an `index` property");if(typeof m!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${m}`);const y=f[m];y==null?f.push(d):f[m]=this.accumulateDelta(y,d)}continue}else throw Error(`Unhandled record type: ${i}, deltaValue: ${u}, accValue: ${f}`);a[i]=f}return a}_addRun(a){return a}async _threadAssistantStream(a,s,i){return await this._createThreadAssistantStream(s,a,i)}async _runAssistantStream(a,s,i,u){return await this._createAssistantStream(s,a,i,u)}async _runToolAssistantStream(a,s,i,u){return await this._createToolAssistantStream(s,a,i,u)}}wa=qi,Di=function(a){if(!this.ended)switch(ce(this,Sr,a),D(this,rt,"m",np).call(this,a),a.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":D(this,rt,"m",lp).call(this,a);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":D(this,rt,"m",tp).call(this,a);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":D(this,rt,"m",ep).call(this,a);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Li=function(){if(this.ended)throw new re("stream has ended, this shouldn't happen");if(!D(this,xa,"f"))throw Error("Final run has not been received");return D(this,xa,"f")},ep=function(a){const[s,i]=D(this,rt,"m",sp).call(this,a,D(this,Kt,"f"));ce(this,Kt,s),D(this,br,"f")[s.id]=s;for(const u of i){const f=s.content[u.index];(f==null?void 0:f.type)=="text"&&this._emit("textCreated",f.text)}switch(a.event){case"thread.message.created":this._emit("messageCreated",a.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",a.data.delta,s),a.data.delta.content)for(const u of a.data.delta.content){if(u.type=="text"&&u.text){let f=u.text,d=s.content[u.index];if(d&&d.type=="text")this._emit("textDelta",f,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(u.index!=D(this,bs,"f")){if(D(this,_a,"f"))switch(D(this,_a,"f").type){case"text":this._emit("textDone",D(this,_a,"f").text,D(this,Kt,"f"));break;case"image_file":this._emit("imageFileDone",D(this,_a,"f").image_file,D(this,Kt,"f"));break}ce(this,bs,u.index)}ce(this,_a,s.content[u.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(D(this,bs,"f")!==void 0){const u=a.data.content[D(this,bs,"f")];if(u)switch(u.type){case"image_file":this._emit("imageFileDone",u.image_file,D(this,Kt,"f"));break;case"text":this._emit("textDone",u.text,D(this,Kt,"f"));break}}D(this,Kt,"f")&&this._emit("messageDone",a.data),ce(this,Kt,void 0)}},tp=function(a){const s=D(this,rt,"m",ap).call(this,a);switch(ce(this,zi,s),a.event){case"thread.run.step.created":this._emit("runStepCreated",a.data);break;case"thread.run.step.delta":const i=a.data.delta;if(i.step_details&&i.step_details.type=="tool_calls"&&i.step_details.tool_calls&&s.step_details.type=="tool_calls")for(const f of i.step_details.tool_calls)f.index==D(this,Lr,"f")?this._emit("toolCallDelta",f,s.step_details.tool_calls[f.index]):(D(this,Ut,"f")&&this._emit("toolCallDone",D(this,Ut,"f")),ce(this,Lr,f.index),ce(this,Ut,s.step_details.tool_calls[f.index]),D(this,Ut,"f")&&this._emit("toolCallCreated",D(this,Ut,"f")));this._emit("runStepDelta",a.data.delta,s);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ce(this,zi,void 0),a.data.step_details.type=="tool_calls"&&D(this,Ut,"f")&&(this._emit("toolCallDone",D(this,Ut,"f")),ce(this,Ut,void 0)),this._emit("runStepDone",a.data,s);break}},np=function(a){D(this,Vc,"f").push(a),this._emit("event",a)},ap=function(a){switch(a.event){case"thread.run.step.created":return D(this,ln,"f")[a.data.id]=a.data,a.data;case"thread.run.step.delta":let s=D(this,ln,"f")[a.data.id];if(!s)throw Error("Received a RunStepDelta before creation of a snapshot");let i=a.data;if(i.delta){const u=wa.accumulateDelta(s,i.delta);D(this,ln,"f")[a.data.id]=u}return D(this,ln,"f")[a.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":D(this,ln,"f")[a.data.id]=a.data;break}if(D(this,ln,"f")[a.data.id])return D(this,ln,"f")[a.data.id];throw new Error("No snapshot available")},sp=function(a,s){let i=[];switch(a.event){case"thread.message.created":return[a.data,i];case"thread.message.delta":if(!s)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let u=a.data;if(u.delta.content)for(const f of u.delta.content)if(f.index in s.content){let d=s.content[f.index];s.content[f.index]=D(this,rt,"m",ip).call(this,f,d)}else s.content[f.index]=f,i.push(f);return[s,i];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(s)return[s,i];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},ip=function(a,s){return wa.accumulateDelta(s,a)},lp=function(a){switch(ce(this,_r,a.data),a.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ce(this,xa,a.data),D(this,Ut,"f")&&(this._emit("toolCallDone",D(this,Ut,"f")),ce(this,Ut,void 0));break}};let tf=class extends de{constructor(){super(...arguments),this.steps=new Ay(this._client)}create(a,s,i){const{include:u,...f}=s;return this._client.post(X`/threads/${a}/runs`,{query:{include:u},body:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers]),stream:s.stream??!1})}retrieve(a,s,i){const{thread_id:u}=s;return this._client.get(X`/threads/${u}/runs/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(a,s,i){const{thread_id:u,...f}=s;return this._client.post(X`/threads/${u}/runs/${a}`,{body:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a,s={},i){return this._client.getAPIList(X`/threads/${a}/runs`,Ke,{query:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}cancel(a,s,i){const{thread_id:u}=s;return this._client.post(X`/threads/${u}/runs/${a}/cancel`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async createAndPoll(a,s,i){const u=await this.create(a,s,i);return await this.poll(u.id,{thread_id:a},i)}createAndStream(a,s,i){return qi.createAssistantStream(a,this._client.beta.threads.runs,s,i)}async poll(a,s,i){var f;const u=ne([i==null?void 0:i.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((f=i==null?void 0:i.pollIntervalMs)==null?void 0:f.toString())??void 0}]);for(;;){const{data:d,response:m}=await this.retrieve(a,s,{...i,headers:{...i==null?void 0:i.headers,...u}}).withResponse();switch(d.status){case"queued":case"in_progress":case"cancelling":let y=5e3;if(i!=null&&i.pollIntervalMs)y=i.pollIntervalMs;else{const g=m.headers.get("openai-poll-after-ms");if(g){const b=parseInt(g);isNaN(b)||(y=b)}}await $i(y);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return d}}}stream(a,s,i){return qi.createAssistantStream(a,this._client.beta.threads.runs,s,i)}submitToolOutputs(a,s,i){const{thread_id:u,...f}=s;return this._client.post(X`/threads/${u}/runs/${a}/submit_tool_outputs`,{body:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers]),stream:s.stream??!1})}async submitToolOutputsAndPoll(a,s,i){const u=await this.submitToolOutputs(a,s,i);return await this.poll(u.id,s,i)}submitToolOutputsStream(a,s,i){return qi.createToolAssistantStream(a,this._client.beta.threads.runs,s,i)}};tf.Steps=Ay;class Xr extends de{constructor(){super(...arguments),this.runs=new tf(this._client),this.messages=new xy(this._client)}create(a={},s){return this._client.post("/threads",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}retrieve(a,s){return this._client.get(X`/threads/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}update(a,s,i){return this._client.post(X`/threads/${a}`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(a,s){return this._client.delete(X`/threads/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}createAndRun(a,s){return this._client.post("/threads/runs",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers]),stream:a.stream??!1})}async createAndRunPoll(a,s){const i=await this.createAndRun(a,s);return await this.runs.poll(i.id,{thread_id:i.thread_id},s)}createAndRunStream(a,s){return qi.createThreadAssistantStream(a,this._client.beta.threads,s)}}Xr.Runs=tf;Xr.Messages=xy;class Xi extends de{constructor(){super(...arguments),this.realtime=new Yr(this._client),this.assistants=new Sy(this._client),this.threads=new Xr(this._client)}}Xi.Realtime=Yr;Xi.Assistants=Sy;Xi.Threads=Xr;class Ty extends de{create(a,s){return this._client.post("/completions",{body:a,...s,stream:a.stream??!1})}}class Ey extends de{retrieve(a,s,i){const{container_id:u}=s;return this._client.get(X`/containers/${u}/files/${a}/content`,{...i,headers:ne([{Accept:"application/binary"},i==null?void 0:i.headers]),__binaryResponse:!0})}}let nf=class extends de{constructor(){super(...arguments),this.content=new Ey(this._client)}create(a,s,i){return this._client.post(X`/containers/${a}/files`,Ta({body:s,...i},this._client))}retrieve(a,s,i){const{container_id:u}=s;return this._client.get(X`/containers/${u}/files/${a}`,i)}list(a,s={},i){return this._client.getAPIList(X`/containers/${a}/files`,Ke,{query:s,...i})}delete(a,s,i){const{container_id:u}=s;return this._client.delete(X`/containers/${u}/files/${a}`,{...i,headers:ne([{Accept:"*/*"},i==null?void 0:i.headers])})}};nf.Content=Ey;class af extends de{constructor(){super(...arguments),this.files=new nf(this._client)}create(a,s){return this._client.post("/containers",{body:a,...s})}retrieve(a,s){return this._client.get(X`/containers/${a}`,s)}list(a={},s){return this._client.getAPIList("/containers",Ke,{query:a,...s})}delete(a,s){return this._client.delete(X`/containers/${a}`,{...s,headers:ne([{Accept:"*/*"},s==null?void 0:s.headers])})}}af.Files=nf;class Oy extends de{create(a,s){const i=!!a.encoding_format;let u=i?a.encoding_format:"base64";i&&ht(this._client).debug("embeddings/user defined encoding_format:",a.encoding_format);const f=this._client.post("/embeddings",{body:{...a,encoding_format:u},...s});return i?f:(ht(this._client).debug("embeddings/decoding base64 embeddings from base64"),f._thenUnwrap(d=>(d&&d.data&&d.data.forEach(m=>{const y=m.embedding;m.embedding=Xw(y)}),d)))}}class Ry extends de{retrieve(a,s,i){const{eval_id:u,run_id:f}=s;return this._client.get(X`/evals/${u}/runs/${f}/output_items/${a}`,i)}list(a,s,i){const{eval_id:u,...f}=s;return this._client.getAPIList(X`/evals/${u}/runs/${a}/output_items`,Ke,{query:f,...i})}}class sf extends de{constructor(){super(...arguments),this.outputItems=new Ry(this._client)}create(a,s,i){return this._client.post(X`/evals/${a}/runs`,{body:s,...i})}retrieve(a,s,i){const{eval_id:u}=s;return this._client.get(X`/evals/${u}/runs/${a}`,i)}list(a,s={},i){return this._client.getAPIList(X`/evals/${a}/runs`,Ke,{query:s,...i})}delete(a,s,i){const{eval_id:u}=s;return this._client.delete(X`/evals/${u}/runs/${a}`,i)}cancel(a,s,i){const{eval_id:u}=s;return this._client.post(X`/evals/${u}/runs/${a}`,i)}}sf.OutputItems=Ry;class lf extends de{constructor(){super(...arguments),this.runs=new sf(this._client)}create(a,s){return this._client.post("/evals",{body:a,...s})}retrieve(a,s){return this._client.get(X`/evals/${a}`,s)}update(a,s,i){return this._client.post(X`/evals/${a}`,{body:s,...i})}list(a={},s){return this._client.getAPIList("/evals",Ke,{query:a,...s})}delete(a,s){return this._client.delete(X`/evals/${a}`,s)}}lf.Runs=sf;let My=class extends de{create(a,s){return this._client.post("/files",Ta({body:a,...s},this._client))}retrieve(a,s){return this._client.get(X`/files/${a}`,s)}list(a={},s){return this._client.getAPIList("/files",Ke,{query:a,...s})}delete(a,s){return this._client.delete(X`/files/${a}`,s)}content(a,s){return this._client.get(X`/files/${a}/content`,{...s,headers:ne([{Accept:"application/binary"},s==null?void 0:s.headers]),__binaryResponse:!0})}async waitForProcessing(a,{pollInterval:s=5e3,maxWait:i=30*60*1e3}={}){const u=new Set(["processed","error","deleted"]),f=Date.now();let d=await this.retrieve(a);for(;!d.status||!u.has(d.status);)if(await $i(s),d=await this.retrieve(a),Date.now()-f>i)throw new Jc({message:`Giving up on waiting for file ${a} to finish processing after ${i} milliseconds.`});return d}};class Ny extends de{}let Cy=class extends de{run(a,s){return this._client.post("/fine_tuning/alpha/graders/run",{body:a,...s})}validate(a,s){return this._client.post("/fine_tuning/alpha/graders/validate",{body:a,...s})}};class rf extends de{constructor(){super(...arguments),this.graders=new Cy(this._client)}}rf.Graders=Cy;class Dy extends de{create(a,s,i){return this._client.getAPIList(X`/fine_tuning/checkpoints/${a}/permissions`,Vr,{body:s,method:"post",...i})}retrieve(a,s={},i){return this._client.get(X`/fine_tuning/checkpoints/${a}/permissions`,{query:s,...i})}delete(a,s,i){const{fine_tuned_model_checkpoint:u}=s;return this._client.delete(X`/fine_tuning/checkpoints/${u}/permissions/${a}`,i)}}let of=class extends de{constructor(){super(...arguments),this.permissions=new Dy(this._client)}};of.Permissions=Dy;class Ly extends de{list(a,s={},i){return this._client.getAPIList(X`/fine_tuning/jobs/${a}/checkpoints`,Ke,{query:s,...i})}}class uf extends de{constructor(){super(...arguments),this.checkpoints=new Ly(this._client)}create(a,s){return this._client.post("/fine_tuning/jobs",{body:a,...s})}retrieve(a,s){return this._client.get(X`/fine_tuning/jobs/${a}`,s)}list(a={},s){return this._client.getAPIList("/fine_tuning/jobs",Ke,{query:a,...s})}cancel(a,s){return this._client.post(X`/fine_tuning/jobs/${a}/cancel`,s)}listEvents(a,s={},i){return this._client.getAPIList(X`/fine_tuning/jobs/${a}/events`,Ke,{query:s,...i})}pause(a,s){return this._client.post(X`/fine_tuning/jobs/${a}/pause`,s)}resume(a,s){return this._client.post(X`/fine_tuning/jobs/${a}/resume`,s)}}uf.Checkpoints=Ly;class xs extends de{constructor(){super(...arguments),this.methods=new Ny(this._client),this.jobs=new uf(this._client),this.checkpoints=new of(this._client),this.alpha=new rf(this._client)}}xs.Methods=Ny;xs.Jobs=uf;xs.Checkpoints=of;xs.Alpha=rf;class Uy extends de{}class cf extends de{constructor(){super(...arguments),this.graderModels=new Uy(this._client)}}cf.GraderModels=Uy;class jy extends de{createVariation(a,s){return this._client.post("/images/variations",Ta({body:a,...s},this._client))}edit(a,s){return this._client.post("/images/edits",Ta({body:a,...s},this._client))}generate(a,s){return this._client.post("/images/generations",{body:a,...s})}}class zy extends de{retrieve(a,s){return this._client.get(X`/models/${a}`,s)}list(a){return this._client.getAPIList("/models",Vr,a)}delete(a,s){return this._client.delete(X`/models/${a}`,s)}}class qy extends de{create(a,s){return this._client.post("/moderations",{body:a,...s})}}function Qw(r,a){return!a||!Kw(a)?{...r,output_parsed:null,output:r.output.map(s=>s.type==="function_call"?{...s,parsed_arguments:null}:s.type==="message"?{...s,content:s.content.map(i=>({...i,parsed:null}))}:s)}:By(r,a)}function By(r,a){const s=r.output.map(u=>{if(u.type==="function_call")return{...u,parsed_arguments:Fw(a,u)};if(u.type==="message"){const f=u.content.map(d=>d.type==="output_text"?{...d,parsed:Jw(a,d.text)}:d);return{...u,content:f}}return u}),i=Object.assign({},r,{output:s});return Object.getOwnPropertyDescriptor(r,"output_text")||Hy(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(const u of i.output)if(u.type==="message"){for(const f of u.content)if(f.type==="output_text"&&f.parsed!==null)return f.parsed}return null}}),i}function Jw(r,a){var s,i,u,f;return((i=(s=r.text)==null?void 0:s.format)==null?void 0:i.type)!=="json_schema"?null:"$parseRaw"in((u=r.text)==null?void 0:u.format)?((f=r.text)==null?void 0:f.format).$parseRaw(a):JSON.parse(a)}function Kw(r){var a;return!!Zc((a=r.text)==null?void 0:a.format)}function Iw(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function Zw(r,a){return r.find(s=>s.type==="function"&&s.name===a)}function Fw(r,a){const s=Zw(r.tools??[],a.name);return{...a,...a,parsed_arguments:Iw(s)?s.$parseRaw(a.arguments):s!=null&&s.strict?JSON.parse(a.arguments):null}}function Hy(r){const a=[];for(const s of r.output)if(s.type==="message")for(const i of s.content)i.type==="output_text"&&a.push(i.text);r.output_text=a.join("")}var gs,hr,ea,mr,rp,op,up,cp;class ff extends Ic{constructor(a){super(),gs.add(this),hr.set(this,void 0),ea.set(this,void 0),mr.set(this,void 0),ce(this,hr,a)}static createResponse(a,s,i){const u=new ff(s);return u._run(()=>u._createOrRetrieveResponse(a,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createOrRetrieveResponse(a,s,i){var m;const u=i==null?void 0:i.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),D(this,gs,"m",rp).call(this);let f,d=null;"response_id"in s?(f=await a.responses.retrieve(s.response_id,{stream:!0},{...i,signal:this.controller.signal,stream:!0}),d=s.starting_after??null):f=await a.responses.create({...s,stream:!0},{...i,signal:this.controller.signal}),this._connected();for await(const y of f)D(this,gs,"m",op).call(this,y,d);if((m=f.controller.signal)!=null&&m.aborted)throw new Yt;return D(this,gs,"m",up).call(this)}[(hr=new WeakMap,ea=new WeakMap,mr=new WeakMap,gs=new WeakSet,rp=function(){this.ended||ce(this,ea,void 0)},op=function(s,i){if(this.ended)return;const u=(d,m)=>{(i==null||m.sequence_number>i)&&this._emit(d,m)},f=D(this,gs,"m",cp).call(this,s);switch(u("event",s),s.type){case"response.output_text.delta":{const d=f.output[s.output_index];if(!d)throw new re(`missing output at index ${s.output_index}`);if(d.type==="message"){const m=d.content[s.content_index];if(!m)throw new re(`missing content at index ${s.content_index}`);if(m.type!=="output_text")throw new re(`expected content to be 'output_text', got ${m.type}`);u("response.output_text.delta",{...s,snapshot:m.text})}break}case"response.function_call_arguments.delta":{const d=f.output[s.output_index];if(!d)throw new re(`missing output at index ${s.output_index}`);d.type==="function_call"&&u("response.function_call_arguments.delta",{...s,snapshot:d.arguments});break}default:u(s.type,s);break}},up=function(){if(this.ended)throw new re("stream has ended, this shouldn't happen");const s=D(this,ea,"f");if(!s)throw new re("request ended without sending any events");ce(this,ea,void 0);const i=Pw(s,D(this,hr,"f"));return ce(this,mr,i),i},cp=function(s){let i=D(this,ea,"f");if(!i){if(s.type!=="response.created")throw new re(`When snapshot hasn't been set yet, expected 'response.created' event, got ${s.type}`);return i=ce(this,ea,s.response),i}switch(s.type){case"response.output_item.added":{i.output.push(s.item);break}case"response.content_part.added":{const u=i.output[s.output_index];if(!u)throw new re(`missing output at index ${s.output_index}`);u.type==="message"&&u.content.push(s.part);break}case"response.output_text.delta":{const u=i.output[s.output_index];if(!u)throw new re(`missing output at index ${s.output_index}`);if(u.type==="message"){const f=u.content[s.content_index];if(!f)throw new re(`missing content at index ${s.content_index}`);if(f.type!=="output_text")throw new re(`expected content to be 'output_text', got ${f.type}`);f.text+=s.delta}break}case"response.function_call_arguments.delta":{const u=i.output[s.output_index];if(!u)throw new re(`missing output at index ${s.output_index}`);u.type==="function_call"&&(u.arguments+=s.delta);break}case"response.completed":{ce(this,ea,s.response);break}}return i},Symbol.asyncIterator)](){const a=[],s=[];let i=!1;return this.on("event",u=>{const f=s.shift();f?f.resolve(u):a.push(u)}),this.on("end",()=>{i=!0;for(const u of s)u.resolve(void 0);s.length=0}),this.on("abort",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),this.on("error",u=>{i=!0;for(const f of s)f.reject(u);s.length=0}),{next:async()=>a.length?{value:a.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((f,d)=>s.push({resolve:f,reject:d})).then(f=>f?{value:f,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const a=D(this,mr,"f");if(!a)throw new re("stream ended without producing a ChatCompletion");return a}}function Pw(r,a){return Qw(r,a)}class ky extends de{list(a,s={},i){return this._client.getAPIList(X`/responses/${a}/input_items`,Ke,{query:s,...i})}}class df extends de{constructor(){super(...arguments),this.inputItems=new ky(this._client)}create(a,s){return this._client.post("/responses",{body:a,...s,stream:a.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Hy(i),i))}retrieve(a,s={},i){return this._client.get(X`/responses/${a}`,{query:s,...i,stream:(s==null?void 0:s.stream)??!1})}delete(a,s){return this._client.delete(X`/responses/${a}`,{...s,headers:ne([{Accept:"*/*"},s==null?void 0:s.headers])})}parse(a,s){return this._client.responses.create(a,s)._thenUnwrap(i=>By(i,a))}stream(a,s){return ff.createResponse(this._client,a,s)}cancel(a,s){return this._client.post(X`/responses/${a}/cancel`,{...s,headers:ne([{Accept:"*/*"},s==null?void 0:s.headers])})}}df.InputItems=ky;class Gy extends de{create(a,s,i){return this._client.post(X`/uploads/${a}/parts`,Ta({body:s,...i},this._client))}}class hf extends de{constructor(){super(...arguments),this.parts=new Gy(this._client)}create(a,s){return this._client.post("/uploads",{body:a,...s})}cancel(a,s){return this._client.post(X`/uploads/${a}/cancel`,s)}complete(a,s,i){return this._client.post(X`/uploads/${a}/complete`,{body:s,...i})}}hf.Parts=Gy;const Ww=async r=>{const a=await Promise.allSettled(r),s=a.filter(u=>u.status==="rejected");if(s.length){for(const u of s)console.error(u.reason);throw new Error(`${s.length} promise(s) failed - see the above errors`)}const i=[];for(const u of a)u.status==="fulfilled"&&i.push(u.value);return i};class $y extends de{create(a,s,i){return this._client.post(X`/vector_stores/${a}/file_batches`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(a,s,i){const{vector_store_id:u}=s;return this._client.get(X`/vector_stores/${u}/file_batches/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}cancel(a,s,i){const{vector_store_id:u}=s;return this._client.post(X`/vector_stores/${u}/file_batches/${a}/cancel`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async createAndPoll(a,s,i){const u=await this.create(a,s);return await this.poll(a,u.id,i)}listFiles(a,s,i){const{vector_store_id:u,...f}=s;return this._client.getAPIList(X`/vector_stores/${u}/file_batches/${a}/files`,Ke,{query:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async poll(a,s,i){var f;const u=ne([i==null?void 0:i.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((f=i==null?void 0:i.pollIntervalMs)==null?void 0:f.toString())??void 0}]);for(;;){const{data:d,response:m}=await this.retrieve(s,{vector_store_id:a},{...i,headers:u}).withResponse();switch(d.status){case"in_progress":let y=5e3;if(i!=null&&i.pollIntervalMs)y=i.pollIntervalMs;else{const g=m.headers.get("openai-poll-after-ms");if(g){const b=parseInt(g);isNaN(b)||(y=b)}}await $i(y);break;case"failed":case"cancelled":case"completed":return d}}}async uploadAndPoll(a,{files:s,fileIds:i=[]},u){if(s==null||s.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const f=(u==null?void 0:u.maxConcurrency)??5,d=Math.min(f,s.length),m=this._client,y=s.values(),g=[...i];async function b(O){for(let T of O){const N=await m.files.create({file:T,purpose:"assistants"},u);g.push(N.id)}}const S=Array(d).fill(y).map(b);return await Ww(S),await this.createAndPoll(a,{file_ids:g})}}class Vy extends de{create(a,s,i){return this._client.post(X`/vector_stores/${a}/files`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(a,s,i){const{vector_store_id:u}=s;return this._client.get(X`/vector_stores/${u}/files/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(a,s,i){const{vector_store_id:u,...f}=s;return this._client.post(X`/vector_stores/${u}/files/${a}`,{body:f,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a,s={},i){return this._client.getAPIList(X`/vector_stores/${a}/files`,Ke,{query:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(a,s,i){const{vector_store_id:u}=s;return this._client.delete(X`/vector_stores/${u}/files/${a}`,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async createAndPoll(a,s,i){const u=await this.create(a,s,i);return await this.poll(a,u.id,i)}async poll(a,s,i){var f;const u=ne([i==null?void 0:i.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((f=i==null?void 0:i.pollIntervalMs)==null?void 0:f.toString())??void 0}]);for(;;){const d=await this.retrieve(s,{vector_store_id:a},{...i,headers:u}).withResponse(),m=d.data;switch(m.status){case"in_progress":let y=5e3;if(i!=null&&i.pollIntervalMs)y=i.pollIntervalMs;else{const g=d.response.headers.get("openai-poll-after-ms");if(g){const b=parseInt(g);isNaN(b)||(y=b)}}await $i(y);break;case"failed":case"completed":return m}}}async upload(a,s,i){const u=await this._client.files.create({file:s,purpose:"assistants"},i);return this.create(a,{file_id:u.id},i)}async uploadAndPoll(a,s,i){const u=await this.upload(a,s,i);return await this.poll(a,u.id,i)}content(a,s,i){const{vector_store_id:u}=s;return this._client.getAPIList(X`/vector_stores/${u}/files/${a}/content`,Vr,{...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}class Qr extends de{constructor(){super(...arguments),this.files=new Vy(this._client),this.fileBatches=new $y(this._client)}create(a,s){return this._client.post("/vector_stores",{body:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}retrieve(a,s){return this._client.get(X`/vector_stores/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}update(a,s,i){return this._client.post(X`/vector_stores/${a}`,{body:s,...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(a={},s){return this._client.getAPIList("/vector_stores",Ke,{query:a,...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}delete(a,s){return this._client.delete(X`/vector_stores/${a}`,{...s,headers:ne([{"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers])})}search(a,s,i){return this._client.getAPIList(X`/vector_stores/${a}/search`,Vr,{body:s,method:"post",...i,headers:ne([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}Qr.Files=Vy;Qr.FileBatches=$y;var mf,wr;class we{constructor({baseURL:a=Ti("OPENAI_BASE_URL"),apiKey:s=Ti("OPENAI_API_KEY"),organization:i=Ti("OPENAI_ORG_ID")??null,project:u=Ti("OPENAI_PROJECT_ID")??null,...f}={}){if(wr.set(this,void 0),this.completions=new Ty(this),this.chat=new ef(this),this.embeddings=new Oy(this),this.files=new My(this),this.images=new jy(this),this.audio=new Yi(this),this.moderations=new qy(this),this.models=new zy(this),this.fineTuning=new xs(this),this.graders=new cf(this),this.vectorStores=new Qr(this),this.beta=new Xi(this),this.batches=new by(this),this.uploads=new hf(this),this.responses=new df(this),this.evals=new lf(this),this.containers=new af(this),s===void 0)throw new re("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const d={apiKey:s,organization:i,project:u,...f,baseURL:a||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&F1())throw new re(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=d.baseURL,this.timeout=d.timeout??mf.DEFAULT_TIMEOUT,this.logger=d.logger??console;const m="warn";this.logLevel=m,this.logLevel=Gg(d.logLevel,"ClientOptions.logLevel",this)??Gg(Ti("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??m,this.fetchOptions=d.fetchOptions,this.maxRetries=d.maxRetries??2,this.fetch=d.fetch??nw(),ce(this,wr,sw),this._options=d,this.apiKey=s,this.organization=i,this.project=u}withOptions(a){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,...a})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:a,nulls:s}){}authHeaders(a){return ne([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(a){return mw(a,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${ys}`}defaultIdempotencyKey(){return`stainless-node-retry-${Tp()}`}makeStatusError(a,s,i,u){return ut.generate(a,s,i,u)}buildURL(a,s){const i=Y1(a)?new URL(a):new URL(this.baseURL+(this.baseURL.endsWith("/")&&a.startsWith("/")?a.slice(1):a)),u=this.defaultQuery();return Q1(u)||(s={...u,...s}),typeof s=="object"&&s&&!Array.isArray(s)&&(i.search=this.stringifyQuery(s)),i.toString()}async prepareOptions(a){}async prepareRequest(a,{url:s,options:i}){}get(a,s){return this.methodRequest("get",a,s)}post(a,s){return this.methodRequest("post",a,s)}patch(a,s){return this.methodRequest("patch",a,s)}put(a,s){return this.methodRequest("put",a,s)}delete(a,s){return this.methodRequest("delete",a,s)}methodRequest(a,s,i){return this.request(Promise.resolve(i).then(u=>({method:a,path:s,...u})))}request(a,s=null){return new $r(this,this.makeRequest(a,s,void 0))}async makeRequest(a,s,i){var ee,G;const u=await a,f=u.maxRetries??this.maxRetries;s==null&&(s=f),await this.prepareOptions(u);const{req:d,url:m,timeout:y}=this.buildRequest(u,{retryCount:f-s});await this.prepareRequest(d,{url:m,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=i===void 0?"":`, retryOf: ${i}`,S=Date.now();if(ht(this).debug(`[${g}] sending request`,Sa({retryOfRequestLogID:i,method:u.method,url:m,options:u,headers:d.headers})),(ee=u.signal)!=null&&ee.aborted)throw new Yt;const O=new AbortController,T=await this.fetchWithTimeout(m,d,y,O).catch(Lc),N=Date.now();if(T instanceof Error){const Y=`retrying, ${s} attempts remaining`;if((G=u.signal)!=null&&G.aborted)throw new Yt;const k=Dc(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(s)return ht(this).info(`[${g}] connection ${k?"timed out":"failed"} - ${Y}`),ht(this).debug(`[${g}] connection ${k?"timed out":"failed"} (${Y})`,Sa({retryOfRequestLogID:i,url:m,durationMs:N-S,message:T.message})),this.retryRequest(u,s,i??g);throw ht(this).info(`[${g}] connection ${k?"timed out":"failed"} - error; no more retries left`),ht(this).debug(`[${g}] connection ${k?"timed out":"failed"} (error; no more retries left)`,Sa({retryOfRequestLogID:i,url:m,durationMs:N-S,message:T.message})),k?new Jc:new kr({cause:T})}const q=[...T.headers.entries()].filter(([Y])=>Y==="x-request-id").map(([Y,k])=>", "+Y+": "+JSON.stringify(k)).join(""),H=`[${g}${b}${q}] ${d.method} ${m} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${N-S}ms`;if(!T.ok){const Y=this.shouldRetry(T);if(s&&Y){const Z=`retrying, ${s} attempts remaining`;return await aw(T.body),ht(this).info(`${H} - ${Z}`),ht(this).debug(`[${g}] response error (${Z})`,Sa({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:N-S})),this.retryRequest(u,s,i??g,T.headers)}const k=Y?"error; no more retries left":"error; not retryable";ht(this).info(`${H} - ${k}`);const J=await T.text().catch(Z=>Lc(Z).message),oe=I1(J),I=oe?void 0:J;throw ht(this).debug(`[${g}] response error (${k})`,Sa({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,message:I,durationMs:Date.now()-S})),this.makeStatusError(T.status,oe,I,T.headers)}return ht(this).info(H),ht(this).debug(`[${g}] response start`,Sa({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:N-S})),{response:T,options:u,controller:O,requestLogID:g,retryOfRequestLogID:i,startTime:S}}getAPIList(a,s,i){return this.requestAPIList(s,{method:"get",path:a,...i})}requestAPIList(a,s){const i=this.makeRequest(s,null,void 0);return new ww(this,i,a)}async fetchWithTimeout(a,s,i,u){const{signal:f,method:d,...m}=s||{};f&&f.addEventListener("abort",()=>u.abort());const y=setTimeout(()=>u.abort(),i),g=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,b={signal:u.signal,...g?{duplex:"half"}:{},method:"GET",...m};d&&(b.method=d.toUpperCase());try{return await this.fetch.call(void 0,a,b)}finally{clearTimeout(y)}}shouldRetry(a){const s=a.headers.get("x-should-retry");return s==="true"?!0:s==="false"?!1:a.status===408||a.status===409||a.status===429||a.status>=500}async retryRequest(a,s,i,u){let f;const d=u==null?void 0:u.get("retry-after-ms");if(d){const y=parseFloat(d);Number.isNaN(y)||(f=y)}const m=u==null?void 0:u.get("retry-after");if(m&&!f){const y=parseFloat(m);Number.isNaN(y)?f=Date.parse(m)-Date.now():f=y*1e3}if(!(f&&0<=f&&f<60*1e3)){const y=a.maxRetries??this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(s,y)}return await $i(f),this.makeRequest(a,s-1,i)}calculateDefaultRetryTimeoutMillis(a,s){const f=s-a,d=Math.min(.5*Math.pow(2,f),8),m=1-Math.random()*.25;return d*m*1e3}buildRequest(a,{retryCount:s=0}={}){const i={...a},{method:u,path:f,query:d}=i,m=this.buildURL(f,d);"timeout"in i&&K1("timeout",i.timeout),i.timeout=i.timeout??this.timeout;const{bodyHeaders:y,body:g}=this.buildBody({options:i}),b=this.buildHeaders({options:a,method:u,bodyHeaders:y,retryCount:s});return{req:{method:u,headers:b,...i.signal&&{signal:i.signal},...globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"},...g&&{body:g},...this.fetchOptions??{},...i.fetchOptions??{}},url:m,timeout:i.timeout}}buildHeaders({options:a,method:s,bodyHeaders:i,retryCount:u}){let f={};this.idempotencyHeader&&s!=="get"&&(a.idempotencyKey||(a.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=a.idempotencyKey);const d=ne([f,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(u),...a.timeout?{"X-Stainless-Timeout":String(Math.trunc(a.timeout/1e3))}:{},...tw(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},this.authHeaders(a),this._options.defaultHeaders,i,a.headers]);return this.validateHeaders(d),d.values}buildBody({options:{body:a,headers:s}}){if(!a)return{bodyHeaders:void 0,body:void 0};const i=ne([s]);return ArrayBuffer.isView(a)||a instanceof ArrayBuffer||a instanceof DataView||typeof a=="string"&&i.values.has("content-type")||a instanceof Blob||a instanceof FormData||a instanceof URLSearchParams||globalThis.ReadableStream&&a instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:a}:typeof a=="object"&&(Symbol.asyncIterator in a||Symbol.iterator in a&&"next"in a&&typeof a.next=="function")?{bodyHeaders:void 0,body:qp(a)}:D(this,wr,"f").call(this,{body:a,headers:i})}}mf=we,wr=new WeakMap;we.OpenAI=mf;we.DEFAULT_TIMEOUT=6e5;we.OpenAIError=re;we.APIError=ut;we.APIConnectionError=kr;we.APIConnectionTimeoutError=Jc;we.APIUserAbortError=Yt;we.NotFoundError=Mp;we.ConflictError=Np;we.RateLimitError=Dp;we.BadRequestError=Ep;we.AuthenticationError=Op;we.InternalServerError=Lp;we.PermissionDeniedError=Rp;we.UnprocessableEntityError=Cp;we.toFile=Rw;we.Completions=Ty;we.Chat=ef;we.Embeddings=Oy;we.Files=My;we.Images=jy;we.Audio=Yi;we.Moderations=qy;we.Models=zy;we.FineTuning=xs;we.Graders=cf;we.VectorStores=Qr;we.Beta=Xi;we.Batches=by;we.Uploads=hf;we.Responses=df;we.Evals=lf;we.Containers=af;class ex{constructor(a,s,i){me(this,"openai");me(this,"defaultModelName");this.openai=new we({apiKey:a,baseURL:s,dangerouslyAllowBrowser:!0}),this.defaultModelName=i.defaultModelName}async createChatCompletion(a){const{model:s=this.defaultModelName}=a,i=await this.openai.chat.completions.create({model:s,messages:this.getMessages(a),max_completion_tokens:a.maxCompletionTokens,temperature:a.temperature,...a.extraOptions});return console.log(i),this.buildResult(i,a)}buildResult(a,s){var d;const i=((d=a.usage.prompt_tokens_details)==null?void 0:d.cached_tokens)??0,u=a.usage.prompt_tokens-i,f=a.usage.completion_tokens;return{model:s.model,content:a.choices[0].message.content,usedTokens:{request:{uncached:u,cached:i},response:f}}}getMessages(a){let s=[...a.messages??[]];return s.length===0&&s.push({role:"user",content:a.prompt??""}),a.systemPrompt&&s.unshift({role:"system",content:a.systemPrompt}),s}}const tx=["blackboxai","gpt-4.1-mini","gpt-4.1-nano","gpt-4","gpt-4o","gpt-4o-mini"],nx=["llama-3.1-70b"],ax=["gpt-4o-mini"],sx=["glm-4"],ix=["llama-2-7b","llama-3-8b","llama-3.1-8b","llama-3.2-1b","qwen-1.5-7b"],lx=["gpt-4","o1"],rx=["deepseek-prover-v2-671b","qwen-3-235b","qwen-3-30b","qwen-3-32b","qwen-3-14b","llama-4-maverick","llama-4-maverick","phi-4-reasoning-plus","qwq-32b","deepseek-v3-0324","deepseek-r1-0528","gemma-3-27b","gemma-3-12b","phi-4-multimodal","llama-3.1-8b","llama-3.2-90b","llama-3.3-70b","deepseek-v3","mixtral-small-24b","deepseek-r1-turbo","deepseek-r1","deepseek-r1-distill-llama-70b","deepseek-r1-distill-qwen-32b","phi-4","wizardlm-2-8x22b","qwen-2-72b","dolphin-2.6","dolphin-2.9","airoboros-70b","lzlv-70b","wizardlm-2-7b","mixtral-8x22b"],ox=["gpt-4o"],ux=["gemini-1.5-pro","gemini-1.5-flash"],cx=["gemini-1.5-pro","gemini-1.5-flash"],fx=["gemini-1.5-flash"],dx=["qwen-2-72b","qwen-3-235b","qwen-3-32b","qwen-3-30b","qwen-3-14b","qwen-3-4b","qwen-3-1.7b","qwen-3-0.6b","command-r-plus","command-r","command-r7b"],hx=["deepseek-v3","deepseek-r1","hermes-3","hermes-3-405b","nemotron-70b","llama-3.3-70b","qwen-2.5-coder-32b"],mx=["claude-3.7-sonnet","claude-3.7-sonnet-thinking","gpt-4o","grok-3","gemini-2.0-flash-thinking","gemini-2.0-pro","deepseek-r1","gemini-2.0-flash","o1","qwen-2.5-max","o3-mini","o3","o4-mini","deepseek-v3","deepseek-v3-0324","qwen-plus","glm-4-plus","o1-mini","gemini-1.5-pro","grok-2","claude-3.5-sonnet","qwen-2.5-plus","deepseek-v2.5","gpt-4o-mini","gemini-1.5-flash","llama-3.1-405b","nemotron-70b","grok-2-mini","qwen-max","qwen-2.5-72b","qwen-2.5-vl-32b","qwen-2.5-vl-72b","gpt-4-turbo","llama-3.3-70b","nemotron-49b","mistral-large","mistral-medium","pixtral-large","gpt-4","gpt-4.1","gpt-4.1-mini","gpt-4.1-nano","llama-3.1-70b","nemotron-253b","claude-3-opus","tulu-3-70b","claude-3.5-haiku","reka-core","gemma-2-27b","gemma-3-27b","gemma-3-12b","gemma-3-4b","deepseek-v2","qwen-2.5-coder-32b","gemma-2-9b","command-r-plus","command-a","deepseek-coder-v2","nemotron-51b","mistral-small-24b","mistral-small-3.1-24b","nemotron-4-340b","glm-4","llama-3-70b","llama-4-maverick","llama-4-scout","reka-flash","phi-4","claude-3-sonnet","qwen-2-72b","qwen-3-235b","qwen-3-30b","qwen-3-32b","tulu-3-8b","command-r","codestral","claude-3-haiku","llama-3.1-8b","qwen-1.5-110b","qwq-32b","llama-3-8b","qwen-1.5-72b","gemma-2-2b","qwen-vl-max","gemini-2.5-pro","gemini-2.5-flash","mixtral-8x22b","qwen-1.5-32b","qwen-1.5-14b","qwen-1.5-7b","qwen-1.5-4b","mistral-next","phi-3-medium","phi-3-small","phi-3-mini","tulu-2-70b","llama-2-70b","llama-2-13b","llama-2-7b","hermes-2-dpo","pplx-70b-online","pplx-7b-online","deepseek-67b","openhermes-2.5-7b","mistral-7b","llama-3.2-3b","llama-3.2-1b","codellama-34b","codellama-70b","qwen-14b","gpt-3.5-turbo","mixtral-8x7b","dbrx-instruct","llama-13b"],gx=["gpt-4o-mini"],px=["gpt-4.1-mini"],yx=["gpt-4.1-mini"],vx=["sonar","sonar-pro","sonar-reasoning","sonar-reasoning-pro"],bx=["gpt-4o-mini","gpt-4.1-nano","gpt-4","gpt-4o","gpt-4.1","o4-mini","gpt-4.1-mini","command-r-plus","gemini-2.5-flash","gemini-2.0-flash-thinking","qwen-2.5-coder-32b","llama-3.3-70b","llama-4-scout","mistral-small-3.1-24b","deepseek-r1","deepseek-r1-distill-llama-70b","deepseek-r1-distill-qwen-32b","phi-4","qwq-32b","deepseek-v3","deepseek-v3-0324","grok-3-mini"],Sx=["gemini-1.5-pro","gemini-1.5-flash"],_x=["llama-3.2-3b","llama-2-70b","llama-3-70b","llama-3.2-90b","llama-3.3-70b","llama-4-scout","llama-3.1-8b","llama-3.2-11b","llama-3-8b","llama-3.1-70b","llama-3.1-405b","llama-4-maverick","deepseek-r1","deepseek-r1-0528","deepseek-v3-0324","deepseek-r1-distill-llama-70b","deepseek-r1-distill-qwen-1.5b","deepseek-r1-distill-qwen-14b","deepseek-v3","qwen-2.5-vl-72b","qwen-2.5-coder-32b","qwen-2.5-7b","qwen-2-vl-72b","qwq-32b","qwen-2.5-72b","qwen-3-235b","qwen-2-72b","mixtral-8x7b","mistral-small-24b","mistral-7b","gemma-2-27b","nemotron-70b","hermes-2-dpo","r1-1776"],wx=["gemini-1.5-pro","gemini-1.5-flash"],xx=["gpt-4"],Ax=["gpt-4"],Tx={Blackbox:tx,Blackboxapi:nx,Chatai:ax,ChatGLM:sx,Cloudflare:ix,Copilot:lx,DeepInfraChat:rx,DocsBot:ox,Free2GPT:ux,FreeGpt:cx,GizAI:fx,HuggingSpace:dx,LambdaChat:hx,LegacyLMArena:mx,OIVSCodeSer2:gx,OIVSCodeSer5:px,OIVSCodeSer0501:yx,PerplexityLabs:vx,PollinationsAI:bx,TeachAnything:Sx,Together:_x,Websim:wx,WeWordle:xx,Yqcloud:Ax};function Ex(r){return Yy(r).join(" ")}function Yy(r){return Object.entries(Tx).filter(([,a])=>a.includes(r)).map(([a])=>a)}class Xy{constructor(a){me(this,"options");me(this,"chatApi");me(this,"systemPrompt","");me(this,"messageHistory",[]);this.options=a,this.chatApi=new ex(a.apiKey,a.apiBaseUrl,{defaultModelName:a.modelName??"gpt-4o-mini"})}setSystemPrompt(a){this.systemPrompt=a}async prompt(a){const s={role:"user",content:a},i=await this.chatApi.createChatCompletion({systemPrompt:this.systemPrompt,messages:[...this.messageHistory,s],extraOptions:this.getExtraOptions()});return i.content?(this.options.useMessageHistory&&(this.messageHistory.push(s),this.messageHistory.push({role:"assistant",content:i.content})),{content:i.content,usedTokens:i.usedTokens}):{content:null,usedTokens:null}}getExtraOptions(){return this.options.gpt4FreeMode?{provider:this.options.provider??Ex(this.chatApi.defaultModelName)}:{}}}const Ox="_body_66le9_3",Rx={body:Ox},Mx="_agentSetupView_5lxm0_3",Nx={agentSetupView:Mx},Cx=({storageKeyPrefix:r,onCreateAgent:a})=>{const{t:s}=$e("AgentSetupView"),[i,u]=_e.useState(""),[f,d]=_e.useState(""),[m,y]=_e.useState(""),[g,b]=_e.useState(!1),[S,O]=_e.useState(""),[T,N]=_e.useState(s("notInitialized")),q=()=>{if(!i||!f){N(s("specifyApiKeyAndBaseUrl"));return}try{N(s("agentReady")),a({apiKey:i,apiBaseUrl:f,modelName:m,gpt4FreeMode:g,provider:S})}catch(ee){N(s("error")+": "+(ee==null?void 0:ee.message)),console.error(ee)}},H=ee=>{const Y=Yy(ee).map(k=>({value:k,label:k}));return Y.sort((k,J)=>k.label.localeCompare(J.label)),Y.unshift({value:"",label:s("autoSelectProvider")}),Y};return A.jsxs("div",{className:Nx.agentSetupView,children:[A.jsx(Zt,{type:"text",label:s("baseUrl"),storageKey:`${r}_baseUrl`,value:f,onChange:d}),A.jsx(Zt,{type:"password",label:s("apiKey"),storageKey:`${r}_apiKey`,value:i,onChange:u}),A.jsx(Zt,{type:"text",label:s("modelName"),storageKey:`${r}_modelName`,value:m,onChange:y}),A.jsx(Zt,{type:"checkbox",label:s("gpt4FreeMode"),storageKey:`${r}_gpt4FreeMode`,value:g,onChange:ee=>b(ee==="true")}),g&&A.jsx(Zt,{type:"select",label:s("provider"),storageKey:`${r}_provider`,value:S,onChange:O,options:H(m)}),A.jsx("button",{onClick:q,children:s("initializeAgent")}),A.jsxs("div",{children:[s("status"),": ",T]})]})},Qy=({header:r,storageKeyPrefix:a,agent:s,onCreateAgent:i,children:u})=>A.jsxs(ta,{header:r,classNames:{body:Rx.body},children:[!s&&A.jsx(Cx,{storageKeyPrefix:a,onCreateAgent:i}),u]}),Dx=({worldMap:r,playerEntity:a,onApplyMove:s})=>{const{t:i}=$e("MoveGenAgentPanel"),[u,f]=_e.useState(null),d=m=>{f(new q1(new Xy({...m,useMessageHistory:!0})))};return A.jsx(Qy,{header:i("title"),storageKeyPrefix:"agents_moveGen",agent:u,onCreateAgent:d,children:u&&A.jsx($1,{agent:u,worldMap:r,playerEntity:a,onApplyMove:s})})},Lx="_body_s6s8k_3",Ux={body:Lx},jx="_moveItem_pd8pn_3",zx="_moveHeader_pd8pn_13",qx="_narrativeEvents_pd8pn_21",Tc={moveItem:jx,moveHeader:zx,narrativeEvents:qx},Bx="_actionList_gcr41_3",Hx={actionList:Bx},kx="_actionItem_1dybi_3",Gx="_actionType_1dybi_11",$x="_actionJson_1dybi_21",Ec={actionItem:kx,actionType:Gx,actionJson:$x},Vx=({action:r})=>A.jsxs("div",{className:Ec.actionItem,children:[A.jsx("span",{className:Ec.actionType,children:r.type}),A.jsx("pre",{className:Ec.actionJson,children:JSON.stringify(r.toJson(),null,2)})]}),Yx=({actions:r})=>A.jsx("div",{className:Hx.actionList,children:r.map((a,s)=>A.jsx(Vx,{action:a},s))}),Xx=({number:r,move:a,isExpanded:s,onToggle:i})=>{const{t:u}=$e("MoveItem");return A.jsxs("div",{className:Tc.moveItem,children:[A.jsxs("div",{className:Tc.moveHeader,onClick:i,style:{cursor:"pointer",userSelect:"none"},children:[A.jsxs("strong",{children:[u("moveNumber",{number:r}),"."]})," ",a.thought]}),A.jsx("ul",{className:Tc.narrativeEvents,children:a.narrativeEvents.map((f,d)=>A.jsx("li",{children:f},d))}),s&&A.jsx(Yx,{actions:a.actions})]})},Qx=({moves:r})=>{const{t:a}=$e("MoveListPanel"),s=_e.useRef(null),[i,u]=_e.useState(null);_e.useEffect(()=>{const d=s.current;d&&(d.scrollTop=-d.scrollHeight)},[r]);const f=d=>{u(m=>m===d?null:d)};return A.jsx(ta,{header:a("moves"),classNames:{body:Ux.body},refs:{body:s},children:r.map((d,m)=>A.jsx(Xx,{number:m+1,move:d,isExpanded:i===m,onToggle:()=>f(m)},m))})},Jx="_body_3ew68_3",Kx="_separator_3ew68_19",Ix="_message_3ew68_33",Oc={body:Jx,separator:Kx,message:Ix},Zx="_saveLoadSection_fq6ws_3",Fx="_saveLoadGrid_fq6ws_17",Px="_saveInput_fq6ws_33",Wx="_loadSelect_fq6ws_43",eA="_savedMapControls_fq6ws_53",tA="_deleteButton_fq6ws_67",ps={saveLoadSection:Zx,saveLoadGrid:Fx,saveInput:Px,loadSelect:Wx,savedMapControls:eA,deleteButton:tA},nA=({worldMap:r,onImport:a,onUpdateStatus:s})=>{const{t:i}=$e("SaveLoadSection"),[u,f]=_e.useState(""),[d,m]=_e.useState([]),[y,g]=_e.useState(""),b=q=>{s(q)},S=()=>{const q=localStorage.getItem("savedWorlds");try{const H=JSON.parse(q??"{}");m(Object.keys(H))}catch{m([])}};_e.useEffect(()=>{S()},[]);const O=()=>{if(!u.trim()){b(i("enterNameForSaving"));return}const q=JSON.stringify(r.toJson()),H=localStorage.getItem("savedWorlds"),ee=H?JSON.parse(H):{};ee[u]=q,localStorage.setItem("savedWorlds",JSON.stringify(ee)),b(i("worldSavedAs",{saveName:u})),f(""),S()},T=()=>{if(!y){b(i("selectSavedWorld"));return}const q=localStorage.getItem("savedWorlds");if(!q){b(i("savedWorldsNotFound"));return}try{const ee=JSON.parse(q)[y];if(!ee){b(i("worldNotFound",{selectedName:y}));return}const G=JSON.parse(ee),Y=_s.fromJson(G);a(Y),b(i("worldLoadedSuccessfully",{selectedName:y}))}catch(H){console.error(i("worldLoadError"),H),b("❌ "+i("worldLoadError"))}},N=()=>{if(!y){b(i("selectWorldToDelete"));return}const q=localStorage.getItem("savedWorlds");if(!q){b(i("savedWorldsNotFound"));return}try{const H=JSON.parse(q);if(!(y in H)){b(i("worldNotFound",{selectedName:y}));return}if(!window.confirm(i("confirmDeleteWorld",{selectedName:y})))return;delete H[y],localStorage.setItem("savedWorlds",JSON.stringify(H)),b(i("worldDeleted",{selectedName:y})),g(""),S()}catch(H){console.error(i("worldDeleteError"),H),b("❌ "+i("worldDeleteError"))}};return A.jsxs("div",{className:ps.saveLoadSection,children:[A.jsx("div",{children:i("savedMaps")}),A.jsxs("div",{className:ps.saveLoadGrid,children:[A.jsx("input",{type:"text",placeholder:i("worldName"),value:u,onChange:q=>f(q.target.value),className:ps.saveInput}),A.jsx("button",{onClick:O,children:i("saveMap")}),A.jsxs("select",{value:y,onChange:q=>g(q.target.value),className:ps.loadSelect,children:[A.jsxs("option",{value:"",children:["— ",i("selectWorld")," —"]}),d.map(q=>A.jsx("option",{value:q,children:q},q))]}),A.jsxs("div",{className:ps.savedMapControls,children:[A.jsx("button",{onClick:T,children:i("load")}),A.jsx("button",{onClick:N,className:ps.deleteButton,children:"X"})]})]})]})},aA="_buttonGroup_18vuh_3",sA={buttonGroup:aA},iA=({worldMap:r,onImport:a,onUpdateStatus:s,autoImport:i})=>{const{t:u}=$e("ImportExportSection"),[f,d]=_e.useState(""),m=_e.useCallback(S=>{s(S)},[s]),y=()=>{d(JSON.stringify(r.toJson(),null,2))},g=()=>{const S=JSON.stringify(r.toJson(),null,2),O=new Blob([S],{type:"application/json"}),T=URL.createObjectURL(O),N=document.createElement("a");N.href=T,N.download="worldMap.json",N.click(),URL.revokeObjectURL(T),m(u("mapExportedSuccess"))},b=_e.useCallback(()=>{try{const S=JSON.parse(f),O=_s.fromJson(S);a(O),m(u("mapImportedSuccess"))}catch(S){console.error(u("mapImportError")+":",S),m("❌ "+u("mapImportError")+": "+S.message)}},[f,a,m,u]);return _e.useEffect(()=>{i&&f&&b()},[i,b,f]),A.jsxs(A.Fragment,{children:[A.jsx(Zt,{type:"textarea",label:u("pasteJsonForImport"),storageKey:"importWorldMap",value:f,onChange:d}),A.jsxs("div",{className:sA.buttonGroup,children:[A.jsx("button",{onClick:y,children:u("showCurrentMapJson")}),A.jsx("button",{onClick:g,children:u("downloadJson")}),A.jsx("button",{onClick:b,children:u("loadMapFromJson")})]})]})},lA=({worldMap:r,onImport:a,autoImport:s})=>{const{t:i}=$e("SaveLoadPanel"),[u,f]=_e.useState(null);return A.jsxs(ta,{header:i("saveLoadMap"),classNames:{body:Oc.body},collapsedByDefault:!0,children:[A.jsx(iA,{worldMap:r,onImport:a,onUpdateStatus:f,autoImport:s}),A.jsx("div",{className:Oc.separator}),A.jsx(nA,{worldMap:r,onImport:a,onUpdateStatus:f}),u&&A.jsx("div",{className:Oc.message,children:u})]})},rA=`
You are an AI responsible for generating a procedurally generated world map in JSON format.

The map must be a grid of tiles with the specified width and height. Each tile is described by a position (x, y),
terrain data, an optional feature (e.g., trees, rocks, lakes), and a list of entities (which is usually empty).

IMPORTANT RULES:
You must return only a JSON object of type SerializedWorldMap. Do not include explanations or extra text.

Only include tiles in the tiles array that are not empty — that is, tiles which:
- contain at least one entity, or
- have a non-null feature, or
- have terrain that is different from emptyTileData.terrain.
All other tiles must be omitted from the tiles array.

All data should be realistic, varied, and suitable for survival or exploration gameplay.
Use diverse terrains such as plains, forests, mountains, lakes, swamps etc.
Features should complement the terrain. For example, trees appear in forests, rocks in mountains, reeds near lakes.

All fields such as id fields for items, entities, and other objects must be strictly in English.
All user-facing fields such as title and description must be written in {{textLanguage}}, using natural, expressive language.

The world MUST include an entity with id "player".
This entity represents the player and must be placed on one of the tiles.
It should may have some useful for survival items in inventory (e.g., food, water, tools).

Generated world must correspond to the following interfaces:
interface SerializedWorldMap {
    width: number;
    height: number;
    emptyTileData: TileData;
    tiles: SerializedTile[];
}
interface TileFeature {
    icon: string;
    title: string;
    description: string;
}
interface TileTerrain {
    color: string;
    title: string;
}
interface TileData {
    feature: TileFeature | null;
    terrain: TileTerrain;
}
interface SerializedTile {
    position: Vector;
    data: TileData;
    entities: SerializedEntity[];
}
interface SerializedEntity { 
    id: string;
    icon: string;
    title: string;
    inventory: InventoryItem[];
}
interface InventoryItem {
    id: string;
    icon: string;
    title: string;
    description: string;
    amount: number;
}

The terrain title should be short (1–2 words). The color should be a soft hex color like "#fafffa".
Feature icons should be emojis (e.g. 🌲 for tree, 💧 for spring).

Feature descriptions should be short and natural.
Include a field called emptyTileData, which represents the default tile type (usually plain terrain, no feature).

The map must be coherent, with clusters of terrain types and natural transitions (e.g., forest near plains, lakes inside valleys, etc).

Do not invent new fields. Only use the described structure.
`.trim();class oA extends Ap{async generateWorld(a){const s=this.buildUserPrompt(a),i=await this.prompt(s,a.systemPromptVariables);if(!i.content)return{error:"Empty response from AI"};try{const u=this.parseJson(i.content),f=_s.fromJson(u);return console.log("Parsed world:",f),console.log(i.usedTokens),{world:f}}catch(u){return console.warn("Failed to parse world",i.content,u),{error:"Failed to parse world: "+((u==null?void 0:u.message)??"")}}}getSystemPromptTemplate(){return rA}buildUserPrompt(a){return JSON.stringify({width:a.width,height:a.height,prompt:a.prompt})}}const uA="_agentActionsView_1nzwo_3",cA={agentActionsView:uA},fA=({agent:r,onGenerateWorld:a})=>{const{t:s,i18n:i}=$e("WorldGenAgentActionsView"),[u,f]=_e.useState(s("readyForGeneration")),[d,m]=_e.useState(""),[y,g]=_e.useState(10),[b,S]=_e.useState(10),O=async()=>{f(s("generatingWorld"));try{const T=i.getResourceBundle(i.language,"worldGenPrompt"),N=await r.generateWorld({width:y,height:b,prompt:d,systemPromptVariables:T});if(!N.world){f(N.error??s("failedToGenerateMap"));return}a(N.world),f(s("mapGeneratedSuccessfully"))}catch(T){f(s("mapGenerationError")),console.error(T)}};return A.jsxs("div",{className:cA.agentActionsView,children:[A.jsx(Zt,{type:"textarea",label:s("worldDescription"),storageKey:"agent_worldGen_prompt",value:d,onChange:m}),A.jsx(Zt,{type:"number",label:s("width"),storageKey:"agent_worldGen_width",value:y,onChange:T=>g(Number(T))}),A.jsx(Zt,{type:"number",label:s("height"),storageKey:"agent_worldGen_height",value:b,onChange:T=>S(Number(T))}),A.jsxs("div",{children:[s("status"),": ",u]}),A.jsx("button",{onClick:O,children:s("generateWorld")})]})},dA=({onGenerateWorld:r})=>{const{t:a}=$e("WorldGenAgentPanel"),[s,i]=_e.useState(null),u=f=>{i(new oA(new Xy({...f,useMessageHistory:!1})))};return A.jsx(Qy,{header:a("title"),storageKeyPrefix:"agents_worldGen",agent:s,onCreateAgent:u,children:s&&A.jsx(fA,{agent:s,onGenerateWorld:r})})},hA="_body_1x8yk_3",mA="_settingItem_1x8yk_19",fp={body:hA,settingItem:mA},gA=()=>{const{t:r}=$e("SettingsPanel"),{i18n:a}=bp(),s=i=>{a.changeLanguage(i)};return A.jsx(ta,{header:r("settings"),classNames:{body:fp.body},collapsedByDefault:!0,children:A.jsx("div",{className:fp.settingItem,children:A.jsx(Zt,{type:"select",label:r("language"),storageKey:"language",value:a.language,onChange:s,options:[{value:"en",label:"English"},{value:"ru",label:"Русский"}]})})})};function pA(){const{t:r}=$e("MainScreen"),[a,s]=_e.useState(null),[i,u]=_e.useState(null),[f,d]=_e.useState(null),[m,y]=_e.useState([]),g=T=>{s(T),u(null)},b=T=>{u(T)},S=T=>{f&&(T.actions.forEach(N=>N.apply(f)),y(N=>[...N,T]))};if(_e.useEffect(()=>{d(r1())},[]),!f)return A.jsx("div",{children:r("loading")});const O=f.findEntity("player")??null;return A.jsxs("div",{className:xi.mainScreen,children:[A.jsxs("div",{className:xi.sidebar+" "+xi.moves,children:[A.jsx(Qx,{moves:m}),A.jsx(gA,{})]}),A.jsx("div",{className:xi.worldMapContainer,children:A.jsx(s1,{worldMap:f,onClickTile:g},m.length)}),A.jsxs("div",{className:xi.sidebar,children:[i&&A.jsx(M1,{entity:i}),!i&&A.jsx(t1,{tile:a,onClickEntity:b}),A.jsx(lA,{worldMap:f,onImport:d,autoImport:!0}),A.jsx(D1,{worldMap:f,onApplyMove:S}),A.jsx(dA,{onGenerateWorld:d}),O&&A.jsx(Dx,{worldMap:f,playerEntity:O,onApplyMove:S})]})]})}function yA(){return A.jsx("div",{className:Mb.App,children:A.jsx(pA,{})})}const vA=document.getElementById("root"),bA=Ob.createRoot(vA);Z_().then(()=>{bA.render(A.jsx(yA,{}))});
